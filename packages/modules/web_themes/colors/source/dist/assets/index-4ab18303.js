var eg=Object.defineProperty;var tg=(e,t,n)=>t in e?eg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var de=(e,t,n)=>(tg(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function El(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const He={},Ur=[],Yt=()=>{},ng=()=>!1,rg=/^on[^a-z]/,Ts=e=>rg.test(e),xl=e=>e.startsWith("onUpdate:"),et=Object.assign,Sl=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},ig=Object.prototype.hasOwnProperty,Re=(e,t)=>ig.call(e,t),Te=Array.isArray,Vr=e=>to(e)==="[object Map]",ai=e=>to(e)==="[object Set]",Mc=e=>to(e)==="[object Date]",Me=e=>typeof e=="function",Je=e=>typeof e=="string",Bi=e=>typeof e=="symbol",We=e=>e!==null&&typeof e=="object",Uf=e=>We(e)&&Me(e.then)&&Me(e.catch),Vf=Object.prototype.toString,to=e=>Vf.call(e),og=e=>to(e).slice(8,-1),jf=e=>to(e)==="[object Object]",Tl=e=>Je(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Oo=El(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Cs=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},sg=/-(\w)/g,fn=Cs(e=>e.replace(sg,(t,n)=>n?n.toUpperCase():"")),ag=/\B([A-Z])/g,li=Cs(e=>e.replace(ag,"-$1").toLowerCase()),As=Cs(e=>e.charAt(0).toUpperCase()+e.slice(1)),ra=Cs(e=>e?`on${As(e)}`:""),Fi=(e,t)=>!Object.is(e,t),Lo=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Go=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Qo=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Pc;const Da=()=>Pc||(Pc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ye(e){if(Te(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=Je(r)?fg(r):Ye(r);if(o)for(const i in o)t[i]=o[i]}return t}else{if(Je(e))return e;if(We(e))return e}}const lg=/;(?![^(]*\))/g,cg=/:([^]+)/,ug=/\/\*[^]*?\*\//g;function fg(e){const t={};return e.replace(ug,"").split(lg).forEach(n=>{if(n){const r=n.split(cg);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function ze(e){let t="";if(Je(e))t=e;else if(Te(e))for(let n=0;n<e.length;n++){const r=ze(e[n]);r&&(t+=r+" ")}else if(We(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const hg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",dg=El(hg);function Hf(e){return!!e||e===""}function pg(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=no(e[r],t[r]);return n}function no(e,t){if(e===t)return!0;let n=Mc(e),r=Mc(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Bi(e),r=Bi(t),n||r)return e===t;if(n=Te(e),r=Te(t),n||r)return n&&r?pg(e,t):!1;if(n=We(e),r=We(t),n||r){if(!n||!r)return!1;const o=Object.keys(e).length,i=Object.keys(t).length;if(o!==i)return!1;for(const s in e){const a=e.hasOwnProperty(s),u=t.hasOwnProperty(s);if(a&&!u||!a&&u||!no(e[s],t[s]))return!1}}return String(e)===String(t)}function Cl(e,t){return e.findIndex(n=>no(n,t))}const Ee=e=>Je(e)?e:e==null?"":Te(e)||We(e)&&(e.toString===Vf||!Me(e.toString))?JSON.stringify(e,Wf,2):String(e),Wf=(e,t)=>t&&t.__v_isRef?Wf(e,t.value):Vr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o])=>(n[`${r} =>`]=o,n),{})}:ai(t)?{[`Set(${t.size})`]:[...t.values()]}:We(t)&&!Te(t)&&!jf(t)?String(t):t;let Ut;class gg{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ut,!t&&Ut&&(this.index=(Ut.scopes||(Ut.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Ut;try{return Ut=this,t()}finally{Ut=n}}}on(){Ut=this}off(){Ut=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function mg(e,t=Ut){t&&t.active&&t.effects.push(e)}function _g(){return Ut}const Al=e=>{const t=new Set(e);return t.w=0,t.n=0,t},zf=e=>(e.w&Fn)>0,qf=e=>(e.n&Fn)>0,vg=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Fn},yg=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const o=t[r];zf(o)&&!qf(o)?o.delete(e):t[n++]=o,o.w&=~Fn,o.n&=~Fn}t.length=n}},Ba=new WeakMap;let Ci=0,Fn=1;const Fa=30;let Ht;const ur=Symbol(""),Ua=Symbol("");class kl{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,mg(this,r)}run(){if(!this.active)return this.fn();let t=Ht,n=Rn;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Ht,Ht=this,Rn=!0,Fn=1<<++Ci,Ci<=Fa?vg(this):Oc(this),this.fn()}finally{Ci<=Fa&&yg(this),Fn=1<<--Ci,Ht=this.parent,Rn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ht===this?this.deferStop=!0:this.active&&(Oc(this),this.onStop&&this.onStop(),this.active=!1)}}function Oc(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Rn=!0;const Kf=[];function ci(){Kf.push(Rn),Rn=!1}function ui(){const e=Kf.pop();Rn=e===void 0?!0:e}function Tt(e,t,n){if(Rn&&Ht){let r=Ba.get(e);r||Ba.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=Al()),Yf(o)}}function Yf(e,t){let n=!1;Ci<=Fa?qf(e)||(e.n|=Fn,n=!zf(e)):n=!e.has(Ht),n&&(e.add(Ht),Ht.deps.push(e))}function xn(e,t,n,r,o,i){const s=Ba.get(e);if(!s)return;let a=[];if(t==="clear")a=[...s.values()];else if(n==="length"&&Te(e)){const u=Number(r);s.forEach((c,l)=>{(l==="length"||l>=u)&&a.push(c)})}else switch(n!==void 0&&a.push(s.get(n)),t){case"add":Te(e)?Tl(n)&&a.push(s.get("length")):(a.push(s.get(ur)),Vr(e)&&a.push(s.get(Ua)));break;case"delete":Te(e)||(a.push(s.get(ur)),Vr(e)&&a.push(s.get(Ua)));break;case"set":Vr(e)&&a.push(s.get(ur));break}if(a.length===1)a[0]&&Va(a[0]);else{const u=[];for(const c of a)c&&u.push(...c);Va(Al(u))}}function Va(e,t){const n=Te(e)?e:[...e];for(const r of n)r.computed&&Lc(r);for(const r of n)r.computed||Lc(r)}function Lc(e,t){(e!==Ht||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const bg=El("__proto__,__v_isRef,__isVue"),Gf=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Bi)),wg=Il(),Eg=Il(!1,!0),xg=Il(!0),$c=Sg();function Sg(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Be(this);for(let i=0,s=this.length;i<s;i++)Tt(r,"get",i+"");const o=r[t](...n);return o===-1||o===!1?r[t](...n.map(Be)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){ci();const r=Be(this)[t].apply(this,n);return ui(),r}}),e}function Tg(e){const t=Be(this);return Tt(t,"has",e),t.hasOwnProperty(e)}function Il(e=!1,t=!1){return function(r,o,i){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&i===(e?t?Vg:eh:t?Zf:Jf).get(r))return r;const s=Te(r);if(!e){if(s&&Re($c,o))return Reflect.get($c,o,i);if(o==="hasOwnProperty")return Tg}const a=Reflect.get(r,o,i);return(Bi(o)?Gf.has(o):bg(o))||(e||Tt(r,"get",o),t)?a:lt(a)?s&&Tl(o)?a:a.value:We(a)?e?th(a):qe(a):a}}const Cg=Qf(),Ag=Qf(!0);function Qf(e=!1){return function(n,r,o,i){let s=n[r];if(qr(s)&&lt(s)&&!lt(o))return!1;if(!e&&(!Xo(o)&&!qr(o)&&(s=Be(s),o=Be(o)),!Te(n)&&lt(s)&&!lt(o)))return s.value=o,!0;const a=Te(n)&&Tl(r)?Number(r)<n.length:Re(n,r),u=Reflect.set(n,r,o,i);return n===Be(i)&&(a?Fi(o,s)&&xn(n,"set",r,o):xn(n,"add",r,o)),u}}function kg(e,t){const n=Re(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&xn(e,"delete",t,void 0),r}function Ig(e,t){const n=Reflect.has(e,t);return(!Bi(t)||!Gf.has(t))&&Tt(e,"has",t),n}function Mg(e){return Tt(e,"iterate",Te(e)?"length":ur),Reflect.ownKeys(e)}const Xf={get:wg,set:Cg,deleteProperty:kg,has:Ig,ownKeys:Mg},Pg={get:xg,set(e,t){return!0},deleteProperty(e,t){return!0}},Og=et({},Xf,{get:Eg,set:Ag}),Ml=e=>e,ks=e=>Reflect.getPrototypeOf(e);function fo(e,t,n=!1,r=!1){e=e.__v_raw;const o=Be(e),i=Be(t);n||(t!==i&&Tt(o,"get",t),Tt(o,"get",i));const{has:s}=ks(o),a=r?Ml:n?Ll:Ui;if(s.call(o,t))return a(e.get(t));if(s.call(o,i))return a(e.get(i));e!==o&&e.get(t)}function ho(e,t=!1){const n=this.__v_raw,r=Be(n),o=Be(e);return t||(e!==o&&Tt(r,"has",e),Tt(r,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function po(e,t=!1){return e=e.__v_raw,!t&&Tt(Be(e),"iterate",ur),Reflect.get(e,"size",e)}function Rc(e){e=Be(e);const t=Be(this);return ks(t).has.call(t,e)||(t.add(e),xn(t,"add",e,e)),this}function Nc(e,t){t=Be(t);const n=Be(this),{has:r,get:o}=ks(n);let i=r.call(n,e);i||(e=Be(e),i=r.call(n,e));const s=o.call(n,e);return n.set(e,t),i?Fi(t,s)&&xn(n,"set",e,t):xn(n,"add",e,t),this}function Dc(e){const t=Be(this),{has:n,get:r}=ks(t);let o=n.call(t,e);o||(e=Be(e),o=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return o&&xn(t,"delete",e,void 0),i}function Bc(){const e=Be(this),t=e.size!==0,n=e.clear();return t&&xn(e,"clear",void 0,void 0),n}function go(e,t){return function(r,o){const i=this,s=i.__v_raw,a=Be(s),u=t?Ml:e?Ll:Ui;return!e&&Tt(a,"iterate",ur),s.forEach((c,l)=>r.call(o,u(c),u(l),i))}}function mo(e,t,n){return function(...r){const o=this.__v_raw,i=Be(o),s=Vr(i),a=e==="entries"||e===Symbol.iterator&&s,u=e==="keys"&&s,c=o[e](...r),l=n?Ml:t?Ll:Ui;return!t&&Tt(i,"iterate",u?Ua:ur),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[l(h[0]),l(h[1])]:l(h),done:f}},[Symbol.iterator](){return this}}}}function In(e){return function(...t){return e==="delete"?!1:this}}function Lg(){const e={get(i){return fo(this,i)},get size(){return po(this)},has:ho,add:Rc,set:Nc,delete:Dc,clear:Bc,forEach:go(!1,!1)},t={get(i){return fo(this,i,!1,!0)},get size(){return po(this)},has:ho,add:Rc,set:Nc,delete:Dc,clear:Bc,forEach:go(!1,!0)},n={get(i){return fo(this,i,!0)},get size(){return po(this,!0)},has(i){return ho.call(this,i,!0)},add:In("add"),set:In("set"),delete:In("delete"),clear:In("clear"),forEach:go(!0,!1)},r={get(i){return fo(this,i,!0,!0)},get size(){return po(this,!0)},has(i){return ho.call(this,i,!0)},add:In("add"),set:In("set"),delete:In("delete"),clear:In("clear"),forEach:go(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=mo(i,!1,!1),n[i]=mo(i,!0,!1),t[i]=mo(i,!1,!0),r[i]=mo(i,!0,!0)}),[e,n,t,r]}const[$g,Rg,Ng,Dg]=Lg();function Pl(e,t){const n=t?e?Dg:Ng:e?Rg:$g;return(r,o,i)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(Re(n,o)&&o in r?n:r,o,i)}const Bg={get:Pl(!1,!1)},Fg={get:Pl(!1,!0)},Ug={get:Pl(!0,!1)},Jf=new WeakMap,Zf=new WeakMap,eh=new WeakMap,Vg=new WeakMap;function jg(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Hg(e){return e.__v_skip||!Object.isExtensible(e)?0:jg(og(e))}function qe(e){return qr(e)?e:Ol(e,!1,Xf,Bg,Jf)}function Wg(e){return Ol(e,!1,Og,Fg,Zf)}function th(e){return Ol(e,!0,Pg,Ug,eh)}function Ol(e,t,n,r,o){if(!We(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=o.get(e);if(i)return i;const s=Hg(e);if(s===0)return e;const a=new Proxy(e,s===2?r:n);return o.set(e,a),a}function jr(e){return qr(e)?jr(e.__v_raw):!!(e&&e.__v_isReactive)}function qr(e){return!!(e&&e.__v_isReadonly)}function Xo(e){return!!(e&&e.__v_isShallow)}function nh(e){return jr(e)||qr(e)}function Be(e){const t=e&&e.__v_raw;return t?Be(t):e}function rh(e){return Go(e,"__v_skip",!0),e}const Ui=e=>We(e)?qe(e):e,Ll=e=>We(e)?th(e):e;function ih(e){Rn&&Ht&&(e=Be(e),Yf(e.dep||(e.dep=Al())))}function oh(e,t){e=Be(e);const n=e.dep;n&&Va(n)}function lt(e){return!!(e&&e.__v_isRef===!0)}function $t(e){return zg(e,!1)}function zg(e,t){return lt(e)?e:new qg(e,t)}class qg{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Be(t),this._value=n?t:Ui(t)}get value(){return ih(this),this._value}set value(t){const n=this.__v_isShallow||Xo(t)||qr(t);t=n?t:Be(t),Fi(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Ui(t),oh(this))}}function se(e){return lt(e)?e.value:e}const Kg={get:(e,t,n)=>se(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return lt(o)&&!lt(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function sh(e){return jr(e)?e:new Proxy(e,Kg)}class Yg{constructor(t,n,r,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new kl(t,()=>{this._dirty||(this._dirty=!0,oh(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const t=Be(this);return ih(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Gg(e,t,n=!1){let r,o;const i=Me(e);return i?(r=e,o=Yt):(r=e.get,o=e.set),new Yg(r,o,i||!o,n)}function Nn(e,t,n,r){let o;try{o=r?e(...r):e()}catch(i){Is(i,t,n)}return o}function Gt(e,t,n,r){if(Me(e)){const i=Nn(e,t,n,r);return i&&Uf(i)&&i.catch(s=>{Is(s,t,n)}),i}const o=[];for(let i=0;i<e.length;i++)o.push(Gt(e[i],t,n,r));return o}function Is(e,t,n,r=!0){const o=t?t.vnode:null;if(t){let i=t.parent;const s=t.proxy,a=n;for(;i;){const c=i.ec;if(c){for(let l=0;l<c.length;l++)if(c[l](e,s,a)===!1)return}i=i.parent}const u=t.appContext.config.errorHandler;if(u){Nn(u,null,10,[e,s,a]);return}}Qg(e,n,o,r)}function Qg(e,t,n,r=!0){console.error(e)}let Vi=!1,ja=!1;const at=[];let on=0;const Hr=[];let mn=null,nr=0;const ah=Promise.resolve();let $l=null;function Xg(e){const t=$l||ah;return e?t.then(this?e.bind(this):e):t}function Jg(e){let t=on+1,n=at.length;for(;t<n;){const r=t+n>>>1;ji(at[r])<e?t=r+1:n=r}return t}function Rl(e){(!at.length||!at.includes(e,Vi&&e.allowRecurse?on+1:on))&&(e.id==null?at.push(e):at.splice(Jg(e.id),0,e),lh())}function lh(){!Vi&&!ja&&(ja=!0,$l=ah.then(uh))}function Zg(e){const t=at.indexOf(e);t>on&&at.splice(t,1)}function em(e){Te(e)?Hr.push(...e):(!mn||!mn.includes(e,e.allowRecurse?nr+1:nr))&&Hr.push(e),lh()}function Fc(e,t=Vi?on+1:0){for(;t<at.length;t++){const n=at[t];n&&n.pre&&(at.splice(t,1),t--,n())}}function ch(e){if(Hr.length){const t=[...new Set(Hr)];if(Hr.length=0,mn){mn.push(...t);return}for(mn=t,mn.sort((n,r)=>ji(n)-ji(r)),nr=0;nr<mn.length;nr++)mn[nr]();mn=null,nr=0}}const ji=e=>e.id==null?1/0:e.id,tm=(e,t)=>{const n=ji(e)-ji(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function uh(e){ja=!1,Vi=!0,at.sort(tm);const t=Yt;try{for(on=0;on<at.length;on++){const n=at[on];n&&n.active!==!1&&Nn(n,null,14)}}finally{on=0,at.length=0,ch(),Vi=!1,$l=null,(at.length||Hr.length)&&uh()}}function nm(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||He;let o=n;const i=t.startsWith("update:"),s=i&&t.slice(7);if(s&&s in r){const l=`${s==="modelValue"?"model":s}Modifiers`,{number:h,trim:f}=r[l]||He;f&&(o=n.map(d=>Je(d)?d.trim():d)),h&&(o=n.map(Qo))}let a,u=r[a=ra(t)]||r[a=ra(fn(t))];!u&&i&&(u=r[a=ra(li(t))]),u&&Gt(u,e,6,o);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Gt(c,e,6,o)}}function fh(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const i=e.emits;let s={},a=!1;if(!Me(e)){const u=c=>{const l=fh(c,t,!0);l&&(a=!0,et(s,l))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!i&&!a?(We(e)&&r.set(e,null),null):(Te(i)?i.forEach(u=>s[u]=null):et(s,i),We(e)&&r.set(e,s),s)}function Ms(e,t){return!e||!Ts(t)?!1:(t=t.slice(2).replace(/Once$/,""),Re(e,t[0].toLowerCase()+t.slice(1))||Re(e,li(t))||Re(e,t))}let ct=null,Ps=null;function Jo(e){const t=ct;return ct=e,Ps=e&&e.type.__scopeId||null,t}function ut(e){Ps=e}function ft(){Ps=null}function ve(e,t=ct,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&Qc(-1);const i=Jo(t);let s;try{s=e(...o)}finally{Jo(i),r._d&&Qc(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function ia(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:i,propsOptions:[s],slots:a,attrs:u,emit:c,render:l,renderCache:h,data:f,setupState:d,ctx:m,inheritAttrs:p}=e;let b,E;const v=Jo(e);try{if(n.shapeFlag&4){const x=o||r;b=rn(l.call(x,x,h,i,d,f,m)),E=u}else{const x=t;b=rn(x.length>1?x(i,{attrs:u,slots:a,emit:c}):x(i,null)),E=t.props?u:rm(u)}}catch(x){Ri.length=0,Is(x,e,1),b=ae(Un)}let g=b;if(E&&p!==!1){const x=Object.keys(E),{shapeFlag:A}=g;x.length&&A&7&&(s&&x.some(xl)&&(E=im(E,s)),g=Kr(g,E))}return n.dirs&&(g=Kr(g),g.dirs=g.dirs?g.dirs.concat(n.dirs):n.dirs),n.transition&&(g.transition=n.transition),b=g,Jo(v),b}const rm=e=>{let t;for(const n in e)(n==="class"||n==="style"||Ts(n))&&((t||(t={}))[n]=e[n]);return t},im=(e,t)=>{const n={};for(const r in e)(!xl(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function om(e,t,n){const{props:r,children:o,component:i}=e,{props:s,children:a,patchFlag:u}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?Uc(r,s,c):!!s;if(u&8){const l=t.dynamicProps;for(let h=0;h<l.length;h++){const f=l[h];if(s[f]!==r[f]&&!Ms(c,f))return!0}}}else return(o||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?Uc(r,s,c):!0:!!s;return!1}function Uc(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const i=r[o];if(t[i]!==e[i]&&!Ms(n,i))return!0}return!1}function sm({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const am=e=>e.__isSuspense;function lm(e,t){t&&t.pendingBranch?Te(e)?t.effects.push(...e):t.effects.push(e):em(e)}function cm(e,t){return Nl(e,null,t)}const _o={};function oa(e,t,n){return Nl(e,t,n)}function Nl(e,t,{immediate:n,deep:r,flush:o,onTrack:i,onTrigger:s}=He){var a;const u=_g()===((a=nt)==null?void 0:a.scope)?nt:null;let c,l=!1,h=!1;if(lt(e)?(c=()=>e.value,l=Xo(e)):jr(e)?(c=()=>e,r=!0):Te(e)?(h=!0,l=e.some(x=>jr(x)||Xo(x)),c=()=>e.map(x=>{if(lt(x))return x.value;if(jr(x))return ir(x);if(Me(x))return Nn(x,u,2)})):Me(e)?t?c=()=>Nn(e,u,2):c=()=>{if(!(u&&u.isUnmounted))return f&&f(),Gt(e,u,3,[d])}:c=Yt,t&&r){const x=c;c=()=>ir(x())}let f,d=x=>{f=v.onStop=()=>{Nn(x,u,4)}},m;if(Wi)if(d=Yt,t?n&&Gt(t,u,3,[c(),h?[]:void 0,d]):c(),o==="sync"){const x=i_();m=x.__watcherHandles||(x.__watcherHandles=[])}else return Yt;let p=h?new Array(e.length).fill(_o):_o;const b=()=>{if(v.active)if(t){const x=v.run();(r||l||(h?x.some((A,I)=>Fi(A,p[I])):Fi(x,p)))&&(f&&f(),Gt(t,u,3,[x,p===_o?void 0:h&&p[0]===_o?[]:p,d]),p=x)}else v.run()};b.allowRecurse=!!t;let E;o==="sync"?E=b:o==="post"?E=()=>bt(b,u&&u.suspense):(b.pre=!0,u&&(b.id=u.uid),E=()=>Rl(b));const v=new kl(c,E);t?n?b():p=v.run():o==="post"?bt(v.run.bind(v),u&&u.suspense):v.run();const g=()=>{v.stop(),u&&u.scope&&Sl(u.scope.effects,v)};return m&&m.push(g),g}function um(e,t,n){const r=this.proxy,o=Je(e)?e.includes(".")?hh(r,e):()=>r[e]:e.bind(r,r);let i;Me(t)?i=t:(i=t.handler,n=t);const s=nt;Yr(this);const a=Nl(o,i.bind(r),n);return s?Yr(s):fr(),a}function hh(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function ir(e,t){if(!We(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),lt(e))ir(e.value,t);else if(Te(e))for(let n=0;n<e.length;n++)ir(e[n],t);else if(ai(e)||Vr(e))e.forEach(n=>{ir(n,t)});else if(jf(e))for(const n in e)ir(e[n],t);return e}function Wn(e,t){const n=ct;if(n===null)return e;const r=Rs(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[s,a,u,c=He]=t[i];s&&(Me(s)&&(s={mounted:s,updated:s}),s.deep&&ir(a),o.push({dir:s,instance:r,value:a,oldValue:void 0,arg:u,modifiers:c}))}return e}function Qn(e,t,n,r){const o=e.dirs,i=t&&t.dirs;for(let s=0;s<o.length;s++){const a=o[s];i&&(a.oldValue=i[s].value);let u=a.dir[r];u&&(ci(),Gt(u,n,8,[e.el,a,e,t]),ui())}}function Se(e,t){return Me(e)?(()=>et({name:e.name},t,{setup:e}))():e}const Li=e=>!!e.type.__asyncLoader,dh=e=>e.type.__isKeepAlive;function fm(e,t){ph(e,"a",t)}function hm(e,t){ph(e,"da",t)}function ph(e,t,n=nt){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Os(t,r,n),n){let o=n.parent;for(;o&&o.parent;)dh(o.parent.vnode)&&dm(r,t,n,o),o=o.parent}}function dm(e,t,n,r){const o=Os(t,e,r,!0);gh(()=>{Sl(r[t],o)},n)}function Os(e,t,n=nt,r=!1){if(n){const o=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...s)=>{if(n.isUnmounted)return;ci(),Yr(n);const a=Gt(t,n,e,s);return fr(),ui(),a});return r?o.unshift(i):o.push(i),i}}const An=e=>(t,n=nt)=>(!Wi||e==="sp")&&Os(e,(...r)=>t(...r),n),pm=An("bm"),fi=An("m"),gm=An("bu"),mm=An("u"),_m=An("bum"),gh=An("um"),vm=An("sp"),ym=An("rtg"),bm=An("rtc");function wm(e,t=nt){Os("ec",e,t)}const mh="components";function Em(e,t){return Sm(mh,e,!0,t)||e}const xm=Symbol.for("v-ndc");function Sm(e,t,n=!0,r=!1){const o=ct||nt;if(o){const i=o.type;if(e===mh){const a=t_(i,!1);if(a&&(a===t||a===fn(t)||a===As(fn(t))))return i}const s=Vc(o[e]||i[e],t)||Vc(o.appContext[e],t);return!s&&r?i:s}}function Vc(e,t){return e&&(e[t]||e[fn(t)]||e[As(fn(t))])}function mt(e,t,n,r){let o;const i=n&&n[r];if(Te(e)||Je(e)){o=new Array(e.length);for(let s=0,a=e.length;s<a;s++)o[s]=t(e[s],s,void 0,i&&i[s])}else if(typeof e=="number"){o=new Array(e);for(let s=0;s<e;s++)o[s]=t(s+1,s,void 0,i&&i[s])}else if(We(e))if(e[Symbol.iterator])o=Array.from(e,(s,a)=>t(s,a,void 0,i&&i[a]));else{const s=Object.keys(e);o=new Array(s.length);for(let a=0,u=s.length;a<u;a++){const c=s[a];o[a]=t(e[c],c,a,i&&i[a])}}else o=[];return n&&(n[r]=o),o}function or(e,t,n={},r,o){if(ct.isCE||ct.parent&&Li(ct.parent)&&ct.parent.isCE)return t!=="default"&&(n.name=t),ae("slot",n,r&&r());let i=e[t];i&&i._c&&(i._d=!1),ie();const s=i&&_h(i(n)),a=Ae(Oe,{key:n.key||s&&s.key||`_${t}`},s||(r?r():[]),s&&e._===1?64:-2);return!o&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function _h(e){return e.some(t=>Ah(t)?!(t.type===Un||t.type===Oe&&!_h(t.children)):!0)?e:null}const Ha=e=>e?Ih(e)?Rs(e)||e.proxy:Ha(e.parent):null,$i=et(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ha(e.parent),$root:e=>Ha(e.root),$emit:e=>e.emit,$options:e=>Dl(e),$forceUpdate:e=>e.f||(e.f=()=>Rl(e.update)),$nextTick:e=>e.n||(e.n=Xg.bind(e.proxy)),$watch:e=>um.bind(e)}),sa=(e,t)=>e!==He&&!e.__isScriptSetup&&Re(e,t),Tm={get({_:e},t){const{ctx:n,setupState:r,data:o,props:i,accessCache:s,type:a,appContext:u}=e;let c;if(t[0]!=="$"){const d=s[t];if(d!==void 0)switch(d){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return i[t]}else{if(sa(r,t))return s[t]=1,r[t];if(o!==He&&Re(o,t))return s[t]=2,o[t];if((c=e.propsOptions[0])&&Re(c,t))return s[t]=3,i[t];if(n!==He&&Re(n,t))return s[t]=4,n[t];Wa&&(s[t]=0)}}const l=$i[t];let h,f;if(l)return t==="$attrs"&&Tt(e,"get",t),l(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==He&&Re(n,t))return s[t]=4,n[t];if(f=u.config.globalProperties,Re(f,t))return f[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:i}=e;return sa(o,t)?(o[t]=n,!0):r!==He&&Re(r,t)?(r[t]=n,!0):Re(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:i}},s){let a;return!!n[s]||e!==He&&Re(e,s)||sa(t,s)||(a=i[0])&&Re(a,s)||Re(r,s)||Re($i,s)||Re(o.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Re(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function jc(e){return Te(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Wa=!0;function Cm(e){const t=Dl(e),n=e.proxy,r=e.ctx;Wa=!1,t.beforeCreate&&Hc(t.beforeCreate,e,"bc");const{data:o,computed:i,methods:s,watch:a,provide:u,inject:c,created:l,beforeMount:h,mounted:f,beforeUpdate:d,updated:m,activated:p,deactivated:b,beforeDestroy:E,beforeUnmount:v,destroyed:g,unmounted:x,render:A,renderTracked:I,renderTriggered:B,errorCaptured:j,serverPrefetch:U,expose:K,inheritAttrs:y,components:C,directives:S,filters:z}=t;if(c&&Am(c,r,null),s)for(const J in s){const R=s[J];Me(R)&&(r[J]=R.bind(n))}if(o){const J=o.call(n,n);We(J)&&(e.data=qe(J))}if(Wa=!0,i)for(const J in i){const R=i[J],D=Me(R)?R.bind(n,n):Me(R.get)?R.get.bind(n,n):Yt,Q=!Me(R)&&Me(R.set)?R.set.bind(n):Yt,te=le({get:D,set:Q});Object.defineProperty(r,J,{enumerable:!0,configurable:!0,get:()=>te.value,set:he=>te.value=he})}if(a)for(const J in a)vh(a[J],r,n,J);if(u){const J=Me(u)?u.call(n):u;Reflect.ownKeys(J).forEach(R=>{Lm(R,J[R])})}l&&Hc(l,e,"c");function G(J,R){Te(R)?R.forEach(D=>J(D.bind(n))):R&&J(R.bind(n))}if(G(pm,h),G(fi,f),G(gm,d),G(mm,m),G(fm,p),G(hm,b),G(wm,j),G(bm,I),G(ym,B),G(_m,v),G(gh,x),G(vm,U),Te(K))if(K.length){const J=e.exposed||(e.exposed={});K.forEach(R=>{Object.defineProperty(J,R,{get:()=>n[R],set:D=>n[R]=D})})}else e.exposed||(e.exposed={});A&&e.render===Yt&&(e.render=A),y!=null&&(e.inheritAttrs=y),C&&(e.components=C),S&&(e.directives=S)}function Am(e,t,n=Yt){Te(e)&&(e=za(e));for(const r in e){const o=e[r];let i;We(o)?"default"in o?i=$o(o.from||r,o.default,!0):i=$o(o.from||r):i=$o(o),lt(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:s=>i.value=s}):t[r]=i}}function Hc(e,t,n){Gt(Te(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function vh(e,t,n,r){const o=r.includes(".")?hh(n,r):()=>n[r];if(Je(e)){const i=t[e];Me(i)&&oa(o,i)}else if(Me(e))oa(o,e.bind(n));else if(We(e))if(Te(e))e.forEach(i=>vh(i,t,n,r));else{const i=Me(e.handler)?e.handler.bind(n):t[e.handler];Me(i)&&oa(o,i,e)}}function Dl(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:i,config:{optionMergeStrategies:s}}=e.appContext,a=i.get(t);let u;return a?u=a:!o.length&&!n&&!r?u=t:(u={},o.length&&o.forEach(c=>Zo(u,c,s,!0)),Zo(u,t,s)),We(t)&&i.set(t,u),u}function Zo(e,t,n,r=!1){const{mixins:o,extends:i}=t;i&&Zo(e,i,n,!0),o&&o.forEach(s=>Zo(e,s,n,!0));for(const s in t)if(!(r&&s==="expose")){const a=km[s]||n&&n[s];e[s]=a?a(e[s],t[s]):t[s]}return e}const km={data:Wc,props:zc,emits:zc,methods:Ai,computed:Ai,beforeCreate:ht,created:ht,beforeMount:ht,mounted:ht,beforeUpdate:ht,updated:ht,beforeDestroy:ht,beforeUnmount:ht,destroyed:ht,unmounted:ht,activated:ht,deactivated:ht,errorCaptured:ht,serverPrefetch:ht,components:Ai,directives:Ai,watch:Mm,provide:Wc,inject:Im};function Wc(e,t){return t?e?function(){return et(Me(e)?e.call(this,this):e,Me(t)?t.call(this,this):t)}:t:e}function Im(e,t){return Ai(za(e),za(t))}function za(e){if(Te(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ht(e,t){return e?[...new Set([].concat(e,t))]:t}function Ai(e,t){return e?et(Object.create(null),e,t):t}function zc(e,t){return e?Te(e)&&Te(t)?[...new Set([...e,...t])]:et(Object.create(null),jc(e),jc(t??{})):t}function Mm(e,t){if(!e)return t;if(!t)return e;const n=et(Object.create(null),e);for(const r in t)n[r]=ht(e[r],t[r]);return n}function yh(){return{app:null,config:{isNativeTag:ng,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Pm=0;function Om(e,t){return function(r,o=null){Me(r)||(r=et({},r)),o!=null&&!We(o)&&(o=null);const i=yh(),s=new Set;let a=!1;const u=i.app={_uid:Pm++,_component:r,_props:o,_container:null,_context:i,_instance:null,version:o_,get config(){return i.config},set config(c){},use(c,...l){return s.has(c)||(c&&Me(c.install)?(s.add(c),c.install(u,...l)):Me(c)&&(s.add(c),c(u,...l))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,l){return l?(i.components[c]=l,u):i.components[c]},directive(c,l){return l?(i.directives[c]=l,u):i.directives[c]},mount(c,l,h){if(!a){const f=ae(r,o);return f.appContext=i,l&&t?t(f,c):e(f,c,h),a=!0,u._container=c,c.__vue_app__=u,Rs(f.component)||f.component.proxy}},unmount(){a&&(e(null,u._container),delete u._container.__vue_app__)},provide(c,l){return i.provides[c]=l,u},runWithContext(c){es=u;try{return c()}finally{es=null}}};return u}}let es=null;function Lm(e,t){if(nt){let n=nt.provides;const r=nt.parent&&nt.parent.provides;r===n&&(n=nt.provides=Object.create(r)),n[e]=t}}function $o(e,t,n=!1){const r=nt||ct;if(r||es){const o=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:es._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Me(t)?t.call(r&&r.proxy):t}}function $m(e,t,n,r=!1){const o={},i={};Go(i,$s,1),e.propsDefaults=Object.create(null),bh(e,t,o,i);for(const s in e.propsOptions[0])s in o||(o[s]=void 0);n?e.props=r?o:Wg(o):e.type.props?e.props=o:e.props=i,e.attrs=i}function Rm(e,t,n,r){const{props:o,attrs:i,vnode:{patchFlag:s}}=e,a=Be(o),[u]=e.propsOptions;let c=!1;if((r||s>0)&&!(s&16)){if(s&8){const l=e.vnode.dynamicProps;for(let h=0;h<l.length;h++){let f=l[h];if(Ms(e.emitsOptions,f))continue;const d=t[f];if(u)if(Re(i,f))d!==i[f]&&(i[f]=d,c=!0);else{const m=fn(f);o[m]=qa(u,a,m,d,e,!1)}else d!==i[f]&&(i[f]=d,c=!0)}}}else{bh(e,t,o,i)&&(c=!0);let l;for(const h in a)(!t||!Re(t,h)&&((l=li(h))===h||!Re(t,l)))&&(u?n&&(n[h]!==void 0||n[l]!==void 0)&&(o[h]=qa(u,a,h,void 0,e,!0)):delete o[h]);if(i!==a)for(const h in i)(!t||!Re(t,h))&&(delete i[h],c=!0)}c&&xn(e,"set","$attrs")}function bh(e,t,n,r){const[o,i]=e.propsOptions;let s=!1,a;if(t)for(let u in t){if(Oo(u))continue;const c=t[u];let l;o&&Re(o,l=fn(u))?!i||!i.includes(l)?n[l]=c:(a||(a={}))[l]=c:Ms(e.emitsOptions,u)||(!(u in r)||c!==r[u])&&(r[u]=c,s=!0)}if(i){const u=Be(n),c=a||He;for(let l=0;l<i.length;l++){const h=i[l];n[h]=qa(o,u,h,c[h],e,!Re(c,h))}}return s}function qa(e,t,n,r,o,i){const s=e[n];if(s!=null){const a=Re(s,"default");if(a&&r===void 0){const u=s.default;if(s.type!==Function&&!s.skipFactory&&Me(u)){const{propsDefaults:c}=o;n in c?r=c[n]:(Yr(o),r=c[n]=u.call(null,t),fr())}else r=u}s[0]&&(i&&!a?r=!1:s[1]&&(r===""||r===li(n))&&(r=!0))}return r}function wh(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const i=e.props,s={},a=[];let u=!1;if(!Me(e)){const l=h=>{u=!0;const[f,d]=wh(h,t,!0);et(s,f),d&&a.push(...d)};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}if(!i&&!u)return We(e)&&r.set(e,Ur),Ur;if(Te(i))for(let l=0;l<i.length;l++){const h=fn(i[l]);qc(h)&&(s[h]=He)}else if(i)for(const l in i){const h=fn(l);if(qc(h)){const f=i[l],d=s[h]=Te(f)||Me(f)?{type:f}:et({},f);if(d){const m=Gc(Boolean,d.type),p=Gc(String,d.type);d[0]=m>-1,d[1]=p<0||m<p,(m>-1||Re(d,"default"))&&a.push(h)}}}const c=[s,a];return We(e)&&r.set(e,c),c}function qc(e){return e[0]!=="$"}function Kc(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Yc(e,t){return Kc(e)===Kc(t)}function Gc(e,t){return Te(t)?t.findIndex(n=>Yc(n,e)):Me(t)&&Yc(t,e)?0:-1}const Eh=e=>e[0]==="_"||e==="$stable",Bl=e=>Te(e)?e.map(rn):[rn(e)],Nm=(e,t,n)=>{if(t._n)return t;const r=ve((...o)=>Bl(t(...o)),n);return r._c=!1,r},xh=(e,t,n)=>{const r=e._ctx;for(const o in e){if(Eh(o))continue;const i=e[o];if(Me(i))t[o]=Nm(o,i,r);else if(i!=null){const s=Bl(i);t[o]=()=>s}}},Sh=(e,t)=>{const n=Bl(t);e.slots.default=()=>n},Dm=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Be(t),Go(t,"_",n)):xh(t,e.slots={})}else e.slots={},t&&Sh(e,t);Go(e.slots,$s,1)},Bm=(e,t,n)=>{const{vnode:r,slots:o}=e;let i=!0,s=He;if(r.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:(et(o,t),!n&&a===1&&delete o._):(i=!t.$stable,xh(t,o)),s=t}else t&&(Sh(e,t),s={default:1});if(i)for(const a in o)!Eh(a)&&!(a in s)&&delete o[a]};function Ka(e,t,n,r,o=!1){if(Te(e)){e.forEach((f,d)=>Ka(f,t&&(Te(t)?t[d]:t),n,r,o));return}if(Li(r)&&!o)return;const i=r.shapeFlag&4?Rs(r.component)||r.component.proxy:r.el,s=o?null:i,{i:a,r:u}=e,c=t&&t.r,l=a.refs===He?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==u&&(Je(c)?(l[c]=null,Re(h,c)&&(h[c]=null)):lt(c)&&(c.value=null)),Me(u))Nn(u,a,12,[s,l]);else{const f=Je(u),d=lt(u);if(f||d){const m=()=>{if(e.f){const p=f?Re(h,u)?h[u]:l[u]:u.value;o?Te(p)&&Sl(p,i):Te(p)?p.includes(i)||p.push(i):f?(l[u]=[i],Re(h,u)&&(h[u]=l[u])):(u.value=[i],e.k&&(l[e.k]=u.value))}else f?(l[u]=s,Re(h,u)&&(h[u]=s)):d&&(u.value=s,e.k&&(l[e.k]=s))};s?(m.id=-1,bt(m,n)):m()}}}const bt=lm;function Fm(e){return Um(e)}function Um(e,t){const n=Da();n.__VUE__=!0;const{insert:r,remove:o,patchProp:i,createElement:s,createText:a,createComment:u,setText:c,setElementText:l,parentNode:h,nextSibling:f,setScopeId:d=Yt,insertStaticContent:m}=e,p=(k,M,$,F=null,V=null,Y=null,P=!1,O=null,T=!!M.dynamicChildren)=>{if(k===M)return;k&&!yi(k,M)&&(F=ce(k),he(k,V,Y,!0),k=null),M.patchFlag===-2&&(T=!1,M.dynamicChildren=null);const{type:_,ref:w,shapeFlag:L}=M;switch(_){case Ls:b(k,M,$,F);break;case Un:E(k,M,$,F);break;case Ro:k==null&&v(M,$,F,P);break;case Oe:C(k,M,$,F,V,Y,P,O,T);break;default:L&1?A(k,M,$,F,V,Y,P,O,T):L&6?S(k,M,$,F,V,Y,P,O,T):(L&64||L&128)&&_.process(k,M,$,F,V,Y,P,O,T,ne)}w!=null&&V&&Ka(w,k&&k.ref,Y,M||k,!M)},b=(k,M,$,F)=>{if(k==null)r(M.el=a(M.children),$,F);else{const V=M.el=k.el;M.children!==k.children&&c(V,M.children)}},E=(k,M,$,F)=>{k==null?r(M.el=u(M.children||""),$,F):M.el=k.el},v=(k,M,$,F)=>{[k.el,k.anchor]=m(k.children,M,$,F,k.el,k.anchor)},g=({el:k,anchor:M},$,F)=>{let V;for(;k&&k!==M;)V=f(k),r(k,$,F),k=V;r(M,$,F)},x=({el:k,anchor:M})=>{let $;for(;k&&k!==M;)$=f(k),o(k),k=$;o(M)},A=(k,M,$,F,V,Y,P,O,T)=>{P=P||M.type==="svg",k==null?I(M,$,F,V,Y,P,O,T):U(k,M,V,Y,P,O,T)},I=(k,M,$,F,V,Y,P,O)=>{let T,_;const{type:w,props:L,shapeFlag:W,transition:re,dirs:oe}=k;if(T=k.el=s(k.type,Y,L&&L.is,L),W&8?l(T,k.children):W&16&&j(k.children,T,null,F,V,Y&&w!=="foreignObject",P,O),oe&&Qn(k,null,F,"created"),B(T,k,k.scopeId,P,F),L){for(const we in L)we!=="value"&&!Oo(we)&&i(T,we,null,L[we],Y,k.children,F,V,ue);"value"in L&&i(T,"value",null,L.value),(_=L.onVnodeBeforeMount)&&Zt(_,F,k)}oe&&Qn(k,null,F,"beforeMount");const _e=(!V||V&&!V.pendingBranch)&&re&&!re.persisted;_e&&re.beforeEnter(T),r(T,M,$),((_=L&&L.onVnodeMounted)||_e||oe)&&bt(()=>{_&&Zt(_,F,k),_e&&re.enter(T),oe&&Qn(k,null,F,"mounted")},V)},B=(k,M,$,F,V)=>{if($&&d(k,$),F)for(let Y=0;Y<F.length;Y++)d(k,F[Y]);if(V){let Y=V.subTree;if(M===Y){const P=V.vnode;B(k,P,P.scopeId,P.slotScopeIds,V.parent)}}},j=(k,M,$,F,V,Y,P,O,T=0)=>{for(let _=T;_<k.length;_++){const w=k[_]=O?Pn(k[_]):rn(k[_]);p(null,w,M,$,F,V,Y,P,O)}},U=(k,M,$,F,V,Y,P)=>{const O=M.el=k.el;let{patchFlag:T,dynamicChildren:_,dirs:w}=M;T|=k.patchFlag&16;const L=k.props||He,W=M.props||He;let re;$&&Xn($,!1),(re=W.onVnodeBeforeUpdate)&&Zt(re,$,M,k),w&&Qn(M,k,$,"beforeUpdate"),$&&Xn($,!0);const oe=V&&M.type!=="foreignObject";if(_?K(k.dynamicChildren,_,O,$,F,oe,Y):P||R(k,M,O,null,$,F,oe,Y,!1),T>0){if(T&16)y(O,M,L,W,$,F,V);else if(T&2&&L.class!==W.class&&i(O,"class",null,W.class,V),T&4&&i(O,"style",L.style,W.style,V),T&8){const _e=M.dynamicProps;for(let we=0;we<_e.length;we++){const Ce=_e[we],Ne=L[Ce],$e=W[Ce];($e!==Ne||Ce==="value")&&i(O,Ce,Ne,$e,V,k.children,$,F,ue)}}T&1&&k.children!==M.children&&l(O,M.children)}else!P&&_==null&&y(O,M,L,W,$,F,V);((re=W.onVnodeUpdated)||w)&&bt(()=>{re&&Zt(re,$,M,k),w&&Qn(M,k,$,"updated")},F)},K=(k,M,$,F,V,Y,P)=>{for(let O=0;O<M.length;O++){const T=k[O],_=M[O],w=T.el&&(T.type===Oe||!yi(T,_)||T.shapeFlag&70)?h(T.el):$;p(T,_,w,null,F,V,Y,P,!0)}},y=(k,M,$,F,V,Y,P)=>{if($!==F){if($!==He)for(const O in $)!Oo(O)&&!(O in F)&&i(k,O,$[O],null,P,M.children,V,Y,ue);for(const O in F){if(Oo(O))continue;const T=F[O],_=$[O];T!==_&&O!=="value"&&i(k,O,_,T,P,M.children,V,Y,ue)}"value"in F&&i(k,"value",$.value,F.value)}},C=(k,M,$,F,V,Y,P,O,T)=>{const _=M.el=k?k.el:a(""),w=M.anchor=k?k.anchor:a("");let{patchFlag:L,dynamicChildren:W,slotScopeIds:re}=M;re&&(O=O?O.concat(re):re),k==null?(r(_,$,F),r(w,$,F),j(M.children,$,w,V,Y,P,O,T)):L>0&&L&64&&W&&k.dynamicChildren?(K(k.dynamicChildren,W,$,V,Y,P,O),(M.key!=null||V&&M===V.subTree)&&Th(k,M,!0)):R(k,M,$,w,V,Y,P,O,T)},S=(k,M,$,F,V,Y,P,O,T)=>{M.slotScopeIds=O,k==null?M.shapeFlag&512?V.ctx.activate(M,$,F,P,T):z(M,$,F,V,Y,P,T):X(k,M,T)},z=(k,M,$,F,V,Y,P)=>{const O=k.component=Qm(k,F,V);if(dh(k)&&(O.ctx.renderer=ne),Xm(O),O.asyncDep){if(V&&V.registerDep(O,G),!k.el){const T=O.subTree=ae(Un);E(null,T,M,$)}return}G(O,k,M,$,V,Y,P)},X=(k,M,$)=>{const F=M.component=k.component;if(om(k,M,$))if(F.asyncDep&&!F.asyncResolved){J(F,M,$);return}else F.next=M,Zg(F.update),F.update();else M.el=k.el,F.vnode=M},G=(k,M,$,F,V,Y,P)=>{const O=()=>{if(k.isMounted){let{next:w,bu:L,u:W,parent:re,vnode:oe}=k,_e=w,we;Xn(k,!1),w?(w.el=oe.el,J(k,w,P)):w=oe,L&&Lo(L),(we=w.props&&w.props.onVnodeBeforeUpdate)&&Zt(we,re,w,oe),Xn(k,!0);const Ce=ia(k),Ne=k.subTree;k.subTree=Ce,p(Ne,Ce,h(Ne.el),ce(Ne),k,V,Y),w.el=Ce.el,_e===null&&sm(k,Ce.el),W&&bt(W,V),(we=w.props&&w.props.onVnodeUpdated)&&bt(()=>Zt(we,re,w,oe),V)}else{let w;const{el:L,props:W}=M,{bm:re,m:oe,parent:_e}=k,we=Li(M);if(Xn(k,!1),re&&Lo(re),!we&&(w=W&&W.onVnodeBeforeMount)&&Zt(w,_e,M),Xn(k,!0),L&&H){const Ce=()=>{k.subTree=ia(k),H(L,k.subTree,k,V,null)};we?M.type.__asyncLoader().then(()=>!k.isUnmounted&&Ce()):Ce()}else{const Ce=k.subTree=ia(k);p(null,Ce,$,F,k,V,Y),M.el=Ce.el}if(oe&&bt(oe,V),!we&&(w=W&&W.onVnodeMounted)){const Ce=M;bt(()=>Zt(w,_e,Ce),V)}(M.shapeFlag&256||_e&&Li(_e.vnode)&&_e.vnode.shapeFlag&256)&&k.a&&bt(k.a,V),k.isMounted=!0,M=$=F=null}},T=k.effect=new kl(O,()=>Rl(_),k.scope),_=k.update=()=>T.run();_.id=k.uid,Xn(k,!0),_()},J=(k,M,$)=>{M.component=k;const F=k.vnode.props;k.vnode=M,k.next=null,Rm(k,M.props,F,$),Bm(k,M.children,$),ci(),Fc(),ui()},R=(k,M,$,F,V,Y,P,O,T=!1)=>{const _=k&&k.children,w=k?k.shapeFlag:0,L=M.children,{patchFlag:W,shapeFlag:re}=M;if(W>0){if(W&128){Q(_,L,$,F,V,Y,P,O,T);return}else if(W&256){D(_,L,$,F,V,Y,P,O,T);return}}re&8?(w&16&&ue(_,V,Y),L!==_&&l($,L)):w&16?re&16?Q(_,L,$,F,V,Y,P,O,T):ue(_,V,Y,!0):(w&8&&l($,""),re&16&&j(L,$,F,V,Y,P,O,T))},D=(k,M,$,F,V,Y,P,O,T)=>{k=k||Ur,M=M||Ur;const _=k.length,w=M.length,L=Math.min(_,w);let W;for(W=0;W<L;W++){const re=M[W]=T?Pn(M[W]):rn(M[W]);p(k[W],re,$,null,V,Y,P,O,T)}_>w?ue(k,V,Y,!0,!1,L):j(M,$,F,V,Y,P,O,T,L)},Q=(k,M,$,F,V,Y,P,O,T)=>{let _=0;const w=M.length;let L=k.length-1,W=w-1;for(;_<=L&&_<=W;){const re=k[_],oe=M[_]=T?Pn(M[_]):rn(M[_]);if(yi(re,oe))p(re,oe,$,null,V,Y,P,O,T);else break;_++}for(;_<=L&&_<=W;){const re=k[L],oe=M[W]=T?Pn(M[W]):rn(M[W]);if(yi(re,oe))p(re,oe,$,null,V,Y,P,O,T);else break;L--,W--}if(_>L){if(_<=W){const re=W+1,oe=re<w?M[re].el:F;for(;_<=W;)p(null,M[_]=T?Pn(M[_]):rn(M[_]),$,oe,V,Y,P,O,T),_++}}else if(_>W)for(;_<=L;)he(k[_],V,Y,!0),_++;else{const re=_,oe=_,_e=new Map;for(_=oe;_<=W;_++){const Ge=M[_]=T?Pn(M[_]):rn(M[_]);Ge.key!=null&&_e.set(Ge.key,_)}let we,Ce=0;const Ne=W-oe+1;let $e=!1,Bt=0;const vt=new Array(Ne);for(_=0;_<Ne;_++)vt[_]=0;for(_=re;_<=L;_++){const Ge=k[_];if(Ce>=Ne){he(Ge,V,Y,!0);continue}let Jt;if(Ge.key!=null)Jt=_e.get(Ge.key);else for(we=oe;we<=W;we++)if(vt[we-oe]===0&&yi(Ge,M[we])){Jt=we;break}Jt===void 0?he(Ge,V,Y,!0):(vt[Jt-oe]=_+1,Jt>=Bt?Bt=Jt:$e=!0,p(Ge,M[Jt],$,null,V,Y,P,O,T),Ce++)}const Pt=$e?Vm(vt):Ur;for(we=Pt.length-1,_=Ne-1;_>=0;_--){const Ge=oe+_,Jt=M[Ge],Ic=Ge+1<w?M[Ge+1].el:F;vt[_]===0?p(null,Jt,$,Ic,V,Y,P,O,T):$e&&(we<0||_!==Pt[we]?te(Jt,$,Ic,2):we--)}}},te=(k,M,$,F,V=null)=>{const{el:Y,type:P,transition:O,children:T,shapeFlag:_}=k;if(_&6){te(k.component.subTree,M,$,F);return}if(_&128){k.suspense.move(M,$,F);return}if(_&64){P.move(k,M,$,ne);return}if(P===Oe){r(Y,M,$);for(let L=0;L<T.length;L++)te(T[L],M,$,F);r(k.anchor,M,$);return}if(P===Ro){g(k,M,$);return}if(F!==2&&_&1&&O)if(F===0)O.beforeEnter(Y),r(Y,M,$),bt(()=>O.enter(Y),V);else{const{leave:L,delayLeave:W,afterLeave:re}=O,oe=()=>r(Y,M,$),_e=()=>{L(Y,()=>{oe(),re&&re()})};W?W(Y,oe,_e):_e()}else r(Y,M,$)},he=(k,M,$,F=!1,V=!1)=>{const{type:Y,props:P,ref:O,children:T,dynamicChildren:_,shapeFlag:w,patchFlag:L,dirs:W}=k;if(O!=null&&Ka(O,null,$,k,!0),w&256){M.ctx.deactivate(k);return}const re=w&1&&W,oe=!Li(k);let _e;if(oe&&(_e=P&&P.onVnodeBeforeUnmount)&&Zt(_e,M,k),w&6)ee(k.component,$,F);else{if(w&128){k.suspense.unmount($,F);return}re&&Qn(k,null,M,"beforeUnmount"),w&64?k.type.remove(k,M,$,V,ne,F):_&&(Y!==Oe||L>0&&L&64)?ue(_,M,$,!1,!0):(Y===Oe&&L&384||!V&&w&16)&&ue(T,M,$),F&&pe(k)}(oe&&(_e=P&&P.onVnodeUnmounted)||re)&&bt(()=>{_e&&Zt(_e,M,k),re&&Qn(k,null,M,"unmounted")},$)},pe=k=>{const{type:M,el:$,anchor:F,transition:V}=k;if(M===Oe){Z($,F);return}if(M===Ro){x(k);return}const Y=()=>{o($),V&&!V.persisted&&V.afterLeave&&V.afterLeave()};if(k.shapeFlag&1&&V&&!V.persisted){const{leave:P,delayLeave:O}=V,T=()=>P($,Y);O?O(k.el,Y,T):T()}else Y()},Z=(k,M)=>{let $;for(;k!==M;)$=f(k),o(k),k=$;o(M)},ee=(k,M,$)=>{const{bum:F,scope:V,update:Y,subTree:P,um:O}=k;F&&Lo(F),V.stop(),Y&&(Y.active=!1,he(P,k,M,$)),O&&bt(O,M),bt(()=>{k.isUnmounted=!0},M),M&&M.pendingBranch&&!M.isUnmounted&&k.asyncDep&&!k.asyncResolved&&k.suspenseId===M.pendingId&&(M.deps--,M.deps===0&&M.resolve())},ue=(k,M,$,F=!1,V=!1,Y=0)=>{for(let P=Y;P<k.length;P++)he(k[P],M,$,F,V)},ce=k=>k.shapeFlag&6?ce(k.component.subTree):k.shapeFlag&128?k.suspense.next():f(k.anchor||k.el),ye=(k,M,$)=>{k==null?M._vnode&&he(M._vnode,null,null,!0):p(M._vnode||null,k,M,null,null,null,$),Fc(),ch(),M._vnode=k},ne={p,um:he,m:te,r:pe,mt:z,mc:j,pc:R,pbc:K,n:ce,o:e};let q,H;return t&&([q,H]=t(ne)),{render:ye,hydrate:q,createApp:Om(ye,q)}}function Xn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Th(e,t,n=!1){const r=e.children,o=t.children;if(Te(r)&&Te(o))for(let i=0;i<r.length;i++){const s=r[i];let a=o[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=o[i]=Pn(o[i]),a.el=s.el),n||Th(s,a)),a.type===Ls&&(a.el=s.el)}}function Vm(e){const t=e.slice(),n=[0];let r,o,i,s,a;const u=e.length;for(r=0;r<u;r++){const c=e[r];if(c!==0){if(o=n[n.length-1],e[o]<c){t[r]=o,n.push(r);continue}for(i=0,s=n.length-1;i<s;)a=i+s>>1,e[n[a]]<c?i=a+1:s=a;c<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,s=n[i-1];i-- >0;)n[i]=s,s=t[s];return n}const jm=e=>e.__isTeleport,Oe=Symbol.for("v-fgt"),Ls=Symbol.for("v-txt"),Un=Symbol.for("v-cmt"),Ro=Symbol.for("v-stc"),Ri=[];let Kt=null;function ie(e=!1){Ri.push(Kt=e?null:[])}function Hm(){Ri.pop(),Kt=Ri[Ri.length-1]||null}let Hi=1;function Qc(e){Hi+=e}function Ch(e){return e.dynamicChildren=Hi>0?Kt||Ur:null,Hm(),Hi>0&&Kt&&Kt.push(e),e}function ge(e,t,n,r,o,i){return Ch(N(e,t,n,r,o,i,!0))}function Ae(e,t,n,r,o){return Ch(ae(e,t,n,r,o,!0))}function Ah(e){return e?e.__v_isVNode===!0:!1}function yi(e,t){return e.type===t.type&&e.key===t.key}const $s="__vInternal",kh=({key:e})=>e??null,No=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Je(e)||lt(e)||Me(e)?{i:ct,r:e,k:t,f:!!n}:e:null);function N(e,t=null,n=null,r=0,o=null,i=e===Oe?0:1,s=!1,a=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&kh(t),ref:t&&No(t),scopeId:Ps,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:ct};return a?(Fl(u,n),i&128&&e.normalize(u)):n&&(u.shapeFlag|=Je(n)?8:16),Hi>0&&!s&&Kt&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&Kt.push(u),u}const ae=Wm;function Wm(e,t=null,n=null,r=0,o=null,i=!1){if((!e||e===xm)&&(e=Un),Ah(e)){const a=Kr(e,t,!0);return n&&Fl(a,n),Hi>0&&!i&&Kt&&(a.shapeFlag&6?Kt[Kt.indexOf(e)]=a:Kt.push(a)),a.patchFlag|=-2,a}if(n_(e)&&(e=e.__vccOpts),t){t=zm(t);let{class:a,style:u}=t;a&&!Je(a)&&(t.class=ze(a)),We(u)&&(nh(u)&&!Te(u)&&(u=et({},u)),t.style=Ye(u))}const s=Je(e)?1:am(e)?128:jm(e)?64:We(e)?4:Me(e)?2:0;return N(e,t,n,r,o,s,i,!0)}function zm(e){return e?nh(e)||$s in e?et({},e):e:null}function Kr(e,t,n=!1){const{props:r,ref:o,patchFlag:i,children:s}=e,a=t?Km(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&kh(a),ref:t&&t.ref?n&&o?Te(o)?o.concat(No(t)):[o,No(t)]:No(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Oe?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Kr(e.ssContent),ssFallback:e.ssFallback&&Kr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function je(e=" ",t=0){return ae(Ls,null,e,t)}function qm(e,t){const n=ae(Ro,null,e);return n.staticCount=t,n}function be(e="",t=!1){return t?(ie(),Ae(Un,null,e)):ae(Un,null,e)}function rn(e){return e==null||typeof e=="boolean"?ae(Un):Te(e)?ae(Oe,null,e.slice()):typeof e=="object"?Pn(e):ae(Ls,null,String(e))}function Pn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Kr(e)}function Fl(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Te(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),Fl(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!($s in t)?t._ctx=ct:o===3&&ct&&(ct.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Me(t)?(t={default:t,_ctx:ct},n=32):(t=String(t),r&64?(n=16,t=[je(t)]):n=8);e.children=t,e.shapeFlag|=n}function Km(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=ze([t.class,r.class]));else if(o==="style")t.style=Ye([t.style,r.style]);else if(Ts(o)){const i=t[o],s=r[o];s&&i!==s&&!(Te(i)&&i.includes(s))&&(t[o]=i?[].concat(i,s):s)}else o!==""&&(t[o]=r[o])}return t}function Zt(e,t,n,r=null){Gt(e,t,7,[n,r])}const Ym=yh();let Gm=0;function Qm(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||Ym,i={uid:Gm++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new gg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:wh(r,o),emitsOptions:fh(r,o),emit:null,emitted:null,propsDefaults:He,inheritAttrs:r.inheritAttrs,ctx:He,data:He,props:He,attrs:He,slots:He,refs:He,setupState:He,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=nm.bind(null,i),e.ce&&e.ce(i),i}let nt=null,Ul,Ir,Xc="__VUE_INSTANCE_SETTERS__";(Ir=Da()[Xc])||(Ir=Da()[Xc]=[]),Ir.push(e=>nt=e),Ul=e=>{Ir.length>1?Ir.forEach(t=>t(e)):Ir[0](e)};const Yr=e=>{Ul(e),e.scope.on()},fr=()=>{nt&&nt.scope.off(),Ul(null)};function Ih(e){return e.vnode.shapeFlag&4}let Wi=!1;function Xm(e,t=!1){Wi=t;const{props:n,children:r}=e.vnode,o=Ih(e);$m(e,n,o,t),Dm(e,r);const i=o?Jm(e,t):void 0;return Wi=!1,i}function Jm(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=rh(new Proxy(e.ctx,Tm));const{setup:r}=n;if(r){const o=e.setupContext=r.length>1?e_(e):null;Yr(e),ci();const i=Nn(r,e,0,[e.props,o]);if(ui(),fr(),Uf(i)){if(i.then(fr,fr),t)return i.then(s=>{Jc(e,s,t)}).catch(s=>{Is(s,e,0)});e.asyncDep=i}else Jc(e,i,t)}else Mh(e,t)}function Jc(e,t,n){Me(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:We(t)&&(e.setupState=sh(t)),Mh(e,n)}let Zc;function Mh(e,t,n){const r=e.type;if(!e.render){if(!t&&Zc&&!r.render){const o=r.template||Dl(e).template;if(o){const{isCustomElement:i,compilerOptions:s}=e.appContext.config,{delimiters:a,compilerOptions:u}=r,c=et(et({isCustomElement:i,delimiters:a},s),u);r.render=Zc(o,c)}}e.render=r.render||Yt}Yr(e),ci(),Cm(e),ui(),fr()}function Zm(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Tt(e,"get","$attrs"),t[n]}}))}function e_(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return Zm(e)},slots:e.slots,emit:e.emit,expose:t}}function Rs(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(sh(rh(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in $i)return $i[n](e)},has(t,n){return n in t||n in $i}}))}function t_(e,t=!0){return Me(e)?e.displayName||e.name:e.name||t&&e.__name}function n_(e){return Me(e)&&"__vccOpts"in e}const le=(e,t)=>Gg(e,t,Wi),r_=Symbol.for("v-scx"),i_=()=>$o(r_),o_="3.3.4",s_="http://www.w3.org/2000/svg",rr=typeof document<"u"?document:null,eu=rr&&rr.createElement("template"),a_={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t?rr.createElementNS(s_,e):rr.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>rr.createTextNode(e),createComment:e=>rr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>rr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,i){const s=n?n.previousSibling:t.lastChild;if(o&&(o===i||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===i||!(o=o.nextSibling)););else{eu.innerHTML=r?`<svg>${e}</svg>`:e;const a=eu.content;if(r){const u=a.firstChild;for(;u.firstChild;)a.appendChild(u.firstChild);a.removeChild(u)}t.insertBefore(a,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function l_(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function c_(e,t,n){const r=e.style,o=Je(n);if(n&&!o){if(t&&!Je(t))for(const i in t)n[i]==null&&Ya(r,i,"");for(const i in n)Ya(r,i,n[i])}else{const i=r.display;o?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=i)}}const tu=/\s*!important$/;function Ya(e,t,n){if(Te(n))n.forEach(r=>Ya(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=u_(e,t);tu.test(n)?e.setProperty(li(r),n.replace(tu,""),"important"):e[r]=n}}const nu=["Webkit","Moz","ms"],aa={};function u_(e,t){const n=aa[t];if(n)return n;let r=fn(t);if(r!=="filter"&&r in e)return aa[t]=r;r=As(r);for(let o=0;o<nu.length;o++){const i=nu[o]+r;if(i in e)return aa[t]=i}return t}const ru="http://www.w3.org/1999/xlink";function f_(e,t,n,r,o){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(ru,t.slice(6,t.length)):e.setAttributeNS(ru,t,n);else{const i=dg(t);n==null||i&&!Hf(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function h_(e,t,n,r,o,i,s){if(t==="innerHTML"||t==="textContent"){r&&s(r,o,i),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=n;const c=a==="OPTION"?e.getAttribute("value"):e.value,l=n??"";c!==l&&(e.value=l),n==null&&e.removeAttribute(t);return}let u=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=Hf(n):n==null&&c==="string"?(n="",u=!0):c==="number"&&(n=0,u=!0)}try{e[t]=n}catch{}u&&e.removeAttribute(t)}function Ln(e,t,n,r){e.addEventListener(t,n,r)}function d_(e,t,n,r){e.removeEventListener(t,n,r)}function p_(e,t,n,r,o=null){const i=e._vei||(e._vei={}),s=i[t];if(r&&s)s.value=r;else{const[a,u]=g_(t);if(r){const c=i[t]=v_(r,o);Ln(e,a,c,u)}else s&&(d_(e,a,s,u),i[t]=void 0)}}const iu=/(?:Once|Passive|Capture)$/;function g_(e){let t;if(iu.test(e)){t={};let r;for(;r=e.match(iu);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):li(e.slice(2)),t]}let la=0;const m_=Promise.resolve(),__=()=>la||(m_.then(()=>la=0),la=Date.now());function v_(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Gt(y_(r,n.value),t,5,[r])};return n.value=e,n.attached=__(),n}function y_(e,t){if(Te(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const ou=/^on[a-z]/,b_=(e,t,n,r,o=!1,i,s,a,u)=>{t==="class"?l_(e,r,o):t==="style"?c_(e,n,r):Ts(t)?xl(t)||p_(e,t,n,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):w_(e,t,r,o))?h_(e,t,r,i,s,a,u):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),f_(e,t,r,o))};function w_(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&ou.test(t)&&Me(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||ou.test(t)&&Je(n)?!1:t in e}const Gr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Te(t)?n=>Lo(t,n):t};function E_(e){e.target.composing=!0}function su(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ns={created(e,{modifiers:{lazy:t,trim:n,number:r}},o){e._assign=Gr(o);const i=r||o.props&&o.props.type==="number";Ln(e,t?"change":"input",s=>{if(s.target.composing)return;let a=e.value;n&&(a=a.trim()),i&&(a=Qo(a)),e._assign(a)}),n&&Ln(e,"change",()=>{e.value=e.value.trim()}),t||(Ln(e,"compositionstart",E_),Ln(e,"compositionend",su),Ln(e,"change",su))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:o}},i){if(e._assign=Gr(i),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(o||e.type==="number")&&Qo(e.value)===t))return;const s=t??"";e.value!==s&&(e.value=s)}},Vl={deep:!0,created(e,t,n){e._assign=Gr(n),Ln(e,"change",()=>{const r=e._modelValue,o=zi(e),i=e.checked,s=e._assign;if(Te(r)){const a=Cl(r,o),u=a!==-1;if(i&&!u)s(r.concat(o));else if(!i&&u){const c=[...r];c.splice(a,1),s(c)}}else if(ai(r)){const a=new Set(r);i?a.add(o):a.delete(o),s(a)}else s(Ph(e,i))})},mounted:au,beforeUpdate(e,t,n){e._assign=Gr(n),au(e,t,n)}};function au(e,{value:t,oldValue:n},r){e._modelValue=t,Te(t)?e.checked=Cl(t,r.props.value)>-1:ai(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=no(t,Ph(e,!0)))}const x_={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const o=ai(t);Ln(e,"change",()=>{const i=Array.prototype.filter.call(e.options,s=>s.selected).map(s=>n?Qo(zi(s)):zi(s));e._assign(e.multiple?o?new Set(i):i:i[0])}),e._assign=Gr(r)},mounted(e,{value:t}){lu(e,t)},beforeUpdate(e,t,n){e._assign=Gr(n)},updated(e,{value:t}){lu(e,t)}};function lu(e,t){const n=e.multiple;if(!(n&&!Te(t)&&!ai(t))){for(let r=0,o=e.options.length;r<o;r++){const i=e.options[r],s=zi(i);if(n)Te(t)?i.selected=Cl(t,s)>-1:i.selected=t.has(s);else if(no(zi(i),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function zi(e){return"_value"in e?e._value:e.value}function Ph(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const S_=et({patchProp:b_},a_);let cu;function T_(){return cu||(cu=Fm(S_))}const C_=(...e)=>{const t=T_().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=A_(r);if(!o)return;const i=t._component;!Me(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.innerHTML="";const s=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),s},t};function A_(e){return Je(e)?document.querySelector(e):e}var en=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vo(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Oh={exports:{}};(function(e,t){(function(n){e.exports=n()})(function(){return function(){function n(r,o,i){function s(c,l){if(!o[c]){if(!r[c]){var h=typeof vo=="function"&&vo;if(!l&&h)return h(c,!0);if(a)return a(c,!0);var f=new Error("Cannot find module '"+c+"'");throw f.code="MODULE_NOT_FOUND",f}var d=o[c]={exports:{}};r[c][0].call(d.exports,function(m){var p=r[c][1][m];return s(p||m)},d,d.exports,n,r,o,i)}return o[c].exports}for(var a=typeof vo=="function"&&vo,u=0;u<i.length;u++)s(i[u]);return s}return n}()({1:[function(n,r,o){(function(i,s){(function(){const a=n("events").EventEmitter,u=n("./store"),c=n("./topic-alias-recv"),l=n("./topic-alias-send"),h=n("mqtt-packet"),f=n("./default-message-id-provider"),d=n("readable-stream").Writable,m=n("inherits"),p=n("reinterval"),b=n("rfdc/default"),E=n("./validations"),v=n("xtend"),g=n("debug")("mqttjs:client"),x=i?i.nextTick:function(R){setTimeout(R,0)},A=s.setImmediate||function(R){x(R)},I={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0},B=["ECONNREFUSED","EADDRINUSE","ECONNRESET","ENOTFOUND"],j={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};function U(){return"mqttjs_"+Math.random().toString(16).substr(2,8)}function K(R,D){if(R.options.protocolVersion===5&&D.cmd==="publish"){let Q;D.properties&&(Q=D.properties.topicAlias);const te=D.topic.toString();if(R.topicAliasSend)if(Q){if(te.length!==0&&(g("applyTopicAlias :: register topic: %s - alias: %d",te,Q),!R.topicAliasSend.put(te,Q)))return g("applyTopicAlias :: error out of range. topic: %s - alias: %d",te,Q),new Error("Sending Topic Alias out of range")}else te.length!==0&&(R.options.autoAssignTopicAlias?(Q=R.topicAliasSend.getAliasByTopic(te),Q?(D.topic="",D.properties={...D.properties,topicAlias:Q},g("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",te,Q)):(Q=R.topicAliasSend.getLruAlias(),R.topicAliasSend.put(te,Q),D.properties={...D.properties,topicAlias:Q},g("applyTopicAlias :: auto assign topic: %s - alias: %d",te,Q))):R.options.autoUseTopicAlias&&(Q=R.topicAliasSend.getAliasByTopic(te),Q&&(D.topic="",D.properties={...D.properties,topicAlias:Q},g("applyTopicAlias :: auto use topic: %s - alias: %d",te,Q))));else if(Q)return g("applyTopicAlias :: error out of range. topic: %s - alias: %d",te,Q),new Error("Sending Topic Alias out of range")}}function y(R,D){let Q;D.properties&&(Q=D.properties.topicAlias);let te=D.topic.toString();if(te.length===0){if(typeof Q>"u")return new Error("Unregistered Topic Alias");if(te=R.topicAliasSend.getTopicByAlias(Q),typeof te>"u")return new Error("Unregistered Topic Alias");D.topic=te}Q&&delete D.properties.topicAlias}function C(R,D,Q){g("sendPacket :: packet: %O",D),g("sendPacket :: emitting `packetsend`"),R.emit("packetsend",D),g("sendPacket :: writing to stream");const te=h.writeToStream(D,R.stream,R.options);g("sendPacket :: writeToStream result %s",te),!te&&Q&&Q!==G?(g("sendPacket :: handle events on `drain` once through callback."),R.stream.once("drain",Q)):Q&&(g("sendPacket :: invoking cb"),Q())}function S(R){R&&(g("flush: queue exists? %b",!!R),Object.keys(R).forEach(function(D){typeof R[D].cb=="function"&&(R[D].cb(new Error("Connection closed")),delete R[D])}))}function z(R){R&&(g("flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(R).forEach(function(D){R[D].volatile&&typeof R[D].cb=="function"&&(R[D].cb(new Error("Connection closed")),delete R[D])}))}function X(R,D,Q,te){g("storeAndSend :: store packet with cmd %s to outgoingStore",D.cmd);let he=D,pe;if(he.cmd==="publish"&&(he=b(D),pe=y(R,he),pe))return Q&&Q(pe);R.outgoingStore.put(he,function(ee){if(ee)return Q&&Q(ee);te(),C(R,D,Q)})}function G(R){g("nop ::",R)}function J(R,D){let Q;const te=this;if(!(this instanceof J))return new J(R,D);this.options=D||{};for(Q in I)typeof this.options[Q]>"u"?this.options[Q]=I[Q]:this.options[Q]=D[Q];g("MqttClient :: options.protocol",D.protocol),g("MqttClient :: options.protocolVersion",D.protocolVersion),g("MqttClient :: options.username",D.username),g("MqttClient :: options.keepalive",D.keepalive),g("MqttClient :: options.reconnectPeriod",D.reconnectPeriod),g("MqttClient :: options.rejectUnauthorized",D.rejectUnauthorized),g("MqttClient :: options.topicAliasMaximum",D.topicAliasMaximum),this.options.clientId=typeof D.clientId=="string"?D.clientId:U(),g("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=D.protocolVersion===5&&D.customHandleAcks?D.customHandleAcks:function(){arguments[3](0)},this.streamBuilder=R,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new f:this.options.messageIdProvider,this.outgoingStore=D.outgoingStore||new u,this.incomingStore=D.incomingStore||new u,this.queueQoSZero=D.queueQoSZero===void 0?!0:D.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,D.topicAliasMaximum>0&&(D.topicAliasMaximum>65535?g("MqttClient :: options.topicAliasMaximum is out of range"):this.topicAliasRecv=new c(D.topicAliasMaximum)),this.on("connect",function(){const he=this.queue;function pe(){const Z=he.shift();g("deliver :: entry %o",Z);let ee=null;if(!Z){te._resubscribe();return}ee=Z.packet,g("deliver :: call _sendPacket for %o",ee);let ue=!0;ee.messageId&&ee.messageId!==0&&(te.messageIdProvider.register(ee.messageId)||(ue=!1)),ue?te._sendPacket(ee,function(ce){Z.cb&&Z.cb(ce),pe()}):(g("messageId: %d has already used. The message is skipped and removed.",ee.messageId),pe())}g("connect :: sending queued packets"),pe()}),this.on("close",function(){g("close :: connected set to `false`"),this.connected=!1,g("close :: clearing connackTimer"),clearTimeout(this.connackTimer),g("close :: clearing ping timer"),te.pingTimer!==null&&(te.pingTimer.clear(),te.pingTimer=null),this.topicAliasRecv&&this.topicAliasRecv.clear(),g("close :: calling _setupReconnect"),this._setupReconnect()}),a.call(this),g("MqttClient :: setting up stream"),this._setupStream()}m(J,a),J.prototype._setupStream=function(){const R=this,D=new d,Q=h.parser(this.options);let te=null;const he=[];g("_setupStream :: calling method to clear reconnect"),this._clearReconnect(),g("_setupStream :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),Q.on("packet",function(ce){g("parser :: on packet push to packets array."),he.push(ce)});function pe(){if(he.length)x(Z);else{const ce=te;te=null,ce()}}function Z(){g("work :: getting next packet in queue");const ce=he.shift();if(ce)g("work :: packet pulled from queue"),R._handlePacket(ce,pe);else{g("work :: no packets in queue");const ye=te;te=null,g("work :: done flag is %s",!!ye),ye&&ye()}}D._write=function(ce,ye,ne){te=ne,g("writable stream :: parsing buffer"),Q.parse(ce),Z()};function ee(ce){g("streamErrorHandler :: error",ce.message),B.includes(ce.code)?(g("streamErrorHandler :: emitting error"),R.emit("error",ce)):G(ce)}g("_setupStream :: pipe stream to writable stream"),this.stream.pipe(D),this.stream.on("error",ee),this.stream.on("close",function(){g("(%s)stream :: on close",R.options.clientId),z(R.outgoing),g("stream: emit close to MqttClient"),R.emit("close")}),g("_setupStream: sending packet `connect`");const ue=Object.create(this.options);if(ue.cmd="connect",this.topicAliasRecv&&(ue.properties||(ue.properties={}),this.topicAliasRecv&&(ue.properties.topicAliasMaximum=this.topicAliasRecv.max)),C(this,ue),Q.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return R.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){const ce=v({cmd:"auth",reasonCode:0},this.options.authPacket);C(this,ce)}}this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(function(){g("!!connectTimeout hit!! Calling _cleanUp with force `true`"),R._cleanUp(!0)},this.options.connectTimeout)},J.prototype._handlePacket=function(R,D){const Q=this.options;if(Q.protocolVersion===5&&Q.properties&&Q.properties.maximumPacketSize&&Q.properties.maximumPacketSize<R.length)return this.emit("error",new Error("exceeding packets size "+R.cmd)),this.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),this;switch(g("_handlePacket :: emitting packetreceive"),this.emit("packetreceive",R),R.cmd){case"publish":this._handlePublish(R,D);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(R),D();break;case"pubrel":this._handlePubrel(R,D);break;case"connack":this._handleConnack(R),D();break;case"auth":this._handleAuth(R),D();break;case"pingresp":this._handlePingresp(R),D();break;case"disconnect":this._handleDisconnect(R),D();break}},J.prototype._checkDisconnecting=function(R){return this.disconnecting&&(R&&R!==G?R(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},J.prototype.publish=function(R,D,Q,te){g("publish :: message `%s` to topic `%s`",D,R);const he=this.options;if(typeof Q=="function"&&(te=Q,Q=null),Q=v({qos:0,retain:!1,dup:!1},Q),this._checkDisconnecting(te))return this;const Z=this,ee=function(){let ue=0;if((Q.qos===1||Q.qos===2)&&(ue=Z._nextId(),ue===null))return g("No messageId left"),!1;const ce={cmd:"publish",topic:R,payload:D,qos:Q.qos,retain:Q.retain,messageId:ue,dup:Q.dup};switch(he.protocolVersion===5&&(ce.properties=Q.properties),g("publish :: qos",Q.qos),Q.qos){case 1:case 2:Z.outgoing[ce.messageId]={volatile:!1,cb:te||G},g("MqttClient:publish: packet cmd: %s",ce.cmd),Z._sendPacket(ce,void 0,Q.cbStorePut);break;default:g("MqttClient:publish: packet cmd: %s",ce.cmd),Z._sendPacket(ce,te,Q.cbStorePut);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ee())&&this._storeProcessingQueue.push({invoke:ee,cbStorePut:Q.cbStorePut,callback:te}),this},J.prototype.subscribe=function(){const R=this,D=new Array(arguments.length);for(let ne=0;ne<arguments.length;ne++)D[ne]=arguments[ne];const Q=[];let te=D.shift();const he=te.resubscribe;let pe=D.pop()||G,Z=D.pop();const ee=this.options.protocolVersion;delete te.resubscribe,typeof te=="string"&&(te=[te]),typeof pe!="function"&&(Z=pe,pe=G);const ue=E.validateTopics(te);if(ue!==null)return A(pe,new Error("Invalid topic "+ue)),this;if(this._checkDisconnecting(pe))return g("subscribe: discconecting true"),this;const ce={qos:0};if(ee===5&&(ce.nl=!1,ce.rap=!1,ce.rh=0),Z=v(ce,Z),Array.isArray(te)?te.forEach(function(ne){if(g("subscribe: array topic %s",ne),!Object.prototype.hasOwnProperty.call(R._resubscribeTopics,ne)||R._resubscribeTopics[ne].qos<Z.qos||he){const q={topic:ne,qos:Z.qos};ee===5&&(q.nl=Z.nl,q.rap=Z.rap,q.rh=Z.rh,q.properties=Z.properties),g("subscribe: pushing topic `%s` and qos `%s` to subs list",q.topic,q.qos),Q.push(q)}}):Object.keys(te).forEach(function(ne){if(g("subscribe: object topic %s",ne),!Object.prototype.hasOwnProperty.call(R._resubscribeTopics,ne)||R._resubscribeTopics[ne].qos<te[ne].qos||he){const q={topic:ne,qos:te[ne].qos};ee===5&&(q.nl=te[ne].nl,q.rap=te[ne].rap,q.rh=te[ne].rh,q.properties=Z.properties),g("subscribe: pushing `%s` to subs list",q),Q.push(q)}}),!Q.length)return pe(null,[]),this;const ye=function(){const ne=R._nextId();if(ne===null)return g("No messageId left"),!1;const q={cmd:"subscribe",subscriptions:Q,qos:1,retain:!1,dup:!1,messageId:ne};if(Z.properties&&(q.properties=Z.properties),R.options.resubscribe){g("subscribe :: resubscribe true");const H=[];Q.forEach(function(k){if(R.options.reconnectPeriod>0){const M={qos:k.qos};ee===5&&(M.nl=k.nl||!1,M.rap=k.rap||!1,M.rh=k.rh||0,M.properties=k.properties),R._resubscribeTopics[k.topic]=M,H.push(k.topic)}}),R.messageIdToTopic[q.messageId]=H}return R.outgoing[q.messageId]={volatile:!0,cb:function(H,k){if(!H){const M=k.granted;for(let $=0;$<M.length;$+=1)Q[$].qos=M[$]}pe(H,Q)}},g("subscribe :: call _sendPacket"),R._sendPacket(q),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ye())&&this._storeProcessingQueue.push({invoke:ye,callback:pe}),this},J.prototype.unsubscribe=function(){const R=this,D=new Array(arguments.length);for(let ee=0;ee<arguments.length;ee++)D[ee]=arguments[ee];let Q=D.shift(),te=D.pop()||G,he=D.pop();typeof Q=="string"&&(Q=[Q]),typeof te!="function"&&(he=te,te=G);const pe=E.validateTopics(Q);if(pe!==null)return A(te,new Error("Invalid topic "+pe)),this;if(R._checkDisconnecting(te))return this;const Z=function(){const ee=R._nextId();if(ee===null)return g("No messageId left"),!1;const ue={cmd:"unsubscribe",qos:1,messageId:ee};return typeof Q=="string"?ue.unsubscriptions=[Q]:Array.isArray(Q)&&(ue.unsubscriptions=Q),R.options.resubscribe&&ue.unsubscriptions.forEach(function(ce){delete R._resubscribeTopics[ce]}),typeof he=="object"&&he.properties&&(ue.properties=he.properties),R.outgoing[ue.messageId]={volatile:!0,cb:te},g("unsubscribe: call _sendPacket"),R._sendPacket(ue),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!Z())&&this._storeProcessingQueue.push({invoke:Z,callback:te}),this},J.prototype.end=function(R,D,Q){const te=this;g("end :: (%s)",this.options.clientId),(R==null||typeof R!="boolean")&&(Q=D||G,D=R,R=!1,typeof D!="object"&&(Q=D,D=null,typeof Q!="function"&&(Q=G))),typeof D!="object"&&(Q=D,D=null),g("end :: cb? %s",!!Q),Q=Q||G;function he(){g("end :: closeStores: closing incoming and outgoing stores"),te.disconnected=!0,te.incomingStore.close(function(Z){te.outgoingStore.close(function(ee){if(g("end :: closeStores: emitting end"),te.emit("end"),Q){const ue=Z||ee;g("end :: closeStores: invoking callback with args"),Q(ue)}})}),te._deferredReconnect&&te._deferredReconnect()}function pe(){g("end :: (%s) :: finish :: calling _cleanUp with force %s",te.options.clientId,R),te._cleanUp(R,()=>{g("end :: finish :: calling process.nextTick on closeStores"),x(he.bind(te))},D)}return this.disconnecting?(Q(),this):(this._clearReconnect(),this.disconnecting=!0,!R&&Object.keys(this.outgoing).length>0?(g("end :: (%s) :: calling finish in 10ms once outgoing is empty",te.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,pe,10))):(g("end :: (%s) :: immediately calling finish",te.options.clientId),pe()),this)},J.prototype.removeOutgoingMessage=function(R){const D=this.outgoing[R]?this.outgoing[R].cb:null;return delete this.outgoing[R],this.outgoingStore.del({messageId:R},function(){D(new Error("Message removed"))}),this},J.prototype.reconnect=function(R){g("client reconnect");const D=this,Q=function(){R?(D.options.incomingStore=R.incomingStore,D.options.outgoingStore=R.outgoingStore):(D.options.incomingStore=null,D.options.outgoingStore=null),D.incomingStore=D.options.incomingStore||new u,D.outgoingStore=D.options.outgoingStore||new u,D.disconnecting=!1,D.disconnected=!1,D._deferredReconnect=null,D._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=Q:Q(),this},J.prototype._reconnect=function(){g("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this._setupStream()}),g("client already connected. disconnecting first.")):(g("_reconnect: calling _setupStream"),this._setupStream())},J.prototype._setupReconnect=function(){const R=this;!R.disconnecting&&!R.reconnectTimer&&R.options.reconnectPeriod>0?(this.reconnecting||(g("_setupReconnect :: emit `offline` state"),this.emit("offline"),g("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),g("_setupReconnect :: setting reconnectTimer for %d ms",R.options.reconnectPeriod),R.reconnectTimer=setInterval(function(){g("reconnectTimer :: reconnect triggered!"),R._reconnect()},R.options.reconnectPeriod)):g("_setupReconnect :: doing nothing...")},J.prototype._clearReconnect=function(){g("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},J.prototype._cleanUp=function(R,D){const Q=arguments[2];if(D&&(g("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",D)),g("_cleanUp :: forced? %s",R),R)this.options.reconnectPeriod===0&&this.options.clean&&S(this.outgoing),g("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{const te=v({cmd:"disconnect"},Q);g("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(te,A.bind(null,this.stream.end.bind(this.stream)))}this.disconnecting||(g("_cleanUp :: client not disconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this.pingTimer!==null&&(g("_cleanUp :: clearing pingTimer"),this.pingTimer.clear(),this.pingTimer=null),D&&!this.connected&&(g("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",D),D())},J.prototype._sendPacket=function(R,D,Q){g("_sendPacket :: (%s) ::  start",this.options.clientId),Q=Q||G,D=D||G;const te=K(this,R);if(te){D(te);return}if(!this.connected){if(R.cmd==="auth"){this._shiftPingInterval(),C(this,R,D);return}g("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(R,D,Q);return}switch(this._shiftPingInterval(),R.cmd){case"publish":break;case"pubrel":X(this,R,D,Q);return;default:C(this,R,D);return}switch(R.qos){case 2:case 1:X(this,R,D,Q);break;case 0:default:C(this,R,D);break}g("_sendPacket :: (%s) ::  end",this.options.clientId)},J.prototype._storePacket=function(R,D,Q){g("_storePacket :: packet: %o",R),g("_storePacket :: cb? %s",!!D),Q=Q||G;let te=R;if(te.cmd==="publish"){te=b(R);const he=y(this,te);if(he)return D&&D(he)}(te.qos||0)===0&&this.queueQoSZero||te.cmd!=="publish"?this.queue.push({packet:te,cb:D}):te.qos>0?(D=this.outgoing[te.messageId]?this.outgoing[te.messageId].cb:null,this.outgoingStore.put(te,function(he){if(he)return D&&D(he);Q()})):D&&D(new Error("No connection to broker"))},J.prototype._setupPingTimer=function(){g("_setupPingTimer :: keepalive %d (seconds)",this.options.keepalive);const R=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=p(function(){R._checkPing()},this.options.keepalive*1e3))},J.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(this.options.keepalive*1e3)},J.prototype._checkPing=function(){g("_checkPing :: checking ping..."),this.pingResp?(g("_checkPing :: ping response received. Clearing flag and sending `pingreq`"),this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):(g("_checkPing :: calling _cleanUp with force true"),this._cleanUp(!0))},J.prototype._handlePingresp=function(){this.pingResp=!0},J.prototype._handleConnack=function(R){g("_handleConnack");const D=this.options,te=D.protocolVersion===5?R.reasonCode:R.returnCode;if(clearTimeout(this.connackTimer),delete this.topicAliasSend,R.properties){if(R.properties.topicAliasMaximum){if(R.properties.topicAliasMaximum>65535){this.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}R.properties.topicAliasMaximum>0&&(this.topicAliasSend=new l(R.properties.topicAliasMaximum))}R.properties.serverKeepAlive&&D.keepalive&&(D.keepalive=R.properties.serverKeepAlive,this._shiftPingInterval()),R.properties.maximumPacketSize&&(D.properties||(D.properties={}),D.properties.maximumPacketSize=R.properties.maximumPacketSize)}if(te===0)this.reconnecting=!1,this._onConnect(R);else if(te>0){const he=new Error("Connection refused: "+j[te]);he.code=te,this.emit("error",he)}},J.prototype._handleAuth=function(R){const Q=this.options.protocolVersion,te=Q===5?R.reasonCode:R.returnCode;if(Q!==5){const pe=new Error("Protocol error: Auth packets are only supported in MQTT 5. Your version:"+Q);pe.code=te,this.emit("error",pe);return}const he=this;this.handleAuth(R,function(pe,Z){if(pe){he.emit("error",pe);return}if(te===24)he.reconnecting=!1,he._sendPacket(Z);else{const ee=new Error("Connection refused: "+j[te]);pe.code=te,he.emit("error",ee)}})},J.prototype.handleAuth=function(R,D){D()},J.prototype._handlePublish=function(R,D){g("_handlePublish: packet %o",R),D=typeof D<"u"?D:G;let Q=R.topic.toString();const te=R.payload,he=R.qos,pe=R.messageId,Z=this,ee=this.options,ue=[0,16,128,131,135,144,145,151,153];if(this.options.protocolVersion===5){let ce;if(R.properties&&(ce=R.properties.topicAlias),typeof ce<"u")if(Q.length===0)if(ce>0&&ce<=65535){const ye=this.topicAliasRecv.getTopicByAlias(ce);if(ye)Q=ye,g("_handlePublish :: topic complemented by alias. topic: %s - alias: %d",Q,ce);else{g("_handlePublish :: unregistered topic alias. alias: %d",ce),this.emit("error",new Error("Received unregistered Topic Alias"));return}}else{g("_handlePublish :: topic alias out of range. alias: %d",ce),this.emit("error",new Error("Received Topic Alias is out of range"));return}else if(this.topicAliasRecv.put(Q,ce))g("_handlePublish :: registered topic: %s - alias: %d",Q,ce);else{g("_handlePublish :: topic alias out of range. alias: %d",ce),this.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(g("_handlePublish: qos %d",he),he){case 2:{ee.customHandleAcks(Q,te,R,function(ce,ye){if(ce instanceof Error||(ye=ce,ce=null),ce)return Z.emit("error",ce);if(ue.indexOf(ye)===-1)return Z.emit("error",new Error("Wrong reason code for pubrec"));ye?Z._sendPacket({cmd:"pubrec",messageId:pe,reasonCode:ye},D):Z.incomingStore.put(R,function(){Z._sendPacket({cmd:"pubrec",messageId:pe},D)})});break}case 1:{ee.customHandleAcks(Q,te,R,function(ce,ye){if(ce instanceof Error||(ye=ce,ce=null),ce)return Z.emit("error",ce);if(ue.indexOf(ye)===-1)return Z.emit("error",new Error("Wrong reason code for puback"));ye||Z.emit("message",Q,te,R),Z.handleMessage(R,function(ne){if(ne)return D&&D(ne);Z._sendPacket({cmd:"puback",messageId:pe,reasonCode:ye},D)})});break}case 0:this.emit("message",Q,te,R),this.handleMessage(R,D);break;default:g("_handlePublish: unknown QoS. Doing nothing.");break}},J.prototype.handleMessage=function(R,D){D()},J.prototype._handleAck=function(R){const D=R.messageId,Q=R.cmd;let te=null;const he=this.outgoing[D]?this.outgoing[D].cb:null,pe=this;let Z;if(!he){g("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(g("_handleAck :: packet type",Q),Q){case"pubcomp":case"puback":{const ee=R.reasonCode;ee&&ee>0&&ee!==16&&(Z=new Error("Publish error: "+j[ee]),Z.code=ee,he(Z,R)),delete this.outgoing[D],this.outgoingStore.del(R,he),this.messageIdProvider.deallocate(D),this._invokeStoreProcessingQueue();break}case"pubrec":{te={cmd:"pubrel",qos:2,messageId:D};const ee=R.reasonCode;ee&&ee>0&&ee!==16?(Z=new Error("Publish error: "+j[ee]),Z.code=ee,he(Z,R)):this._sendPacket(te);break}case"suback":{delete this.outgoing[D],this.messageIdProvider.deallocate(D);for(let ee=0;ee<R.granted.length;ee++)if(R.granted[ee]&128){const ue=this.messageIdToTopic[D];ue&&ue.forEach(function(ce){delete pe._resubscribeTopics[ce]})}this._invokeStoreProcessingQueue(),he(null,R);break}case"unsuback":{delete this.outgoing[D],this.messageIdProvider.deallocate(D),this._invokeStoreProcessingQueue(),he(null);break}default:pe.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&Object.keys(this.outgoing).length===0&&this.emit("outgoingEmpty")},J.prototype._handlePubrel=function(R,D){g("handling pubrel packet"),D=typeof D<"u"?D:G;const Q=R.messageId,te=this,he={cmd:"pubcomp",messageId:Q};te.incomingStore.get(R,function(pe,Z){pe?te._sendPacket(he,D):(te.emit("message",Z.topic,Z.payload,Z),te.handleMessage(Z,function(ee){if(ee)return D(ee);te.incomingStore.del(Z,G),te._sendPacket(he,D)}))})},J.prototype._handleDisconnect=function(R){this.emit("disconnect",R)},J.prototype._nextId=function(){return this.messageIdProvider.allocate()},J.prototype.getLastMessageId=function(){return this.messageIdProvider.getLastAllocated()},J.prototype._resubscribe=function(){g("_resubscribe");const R=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion===5&&!this.connackPacket.sessionPresent)&&R.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){g("_resubscribe: protocolVersion 5");for(let D=0;D<R.length;D++){const Q={};Q[R[D]]=this._resubscribeTopics[R[D]],Q.resubscribe=!0,this.subscribe(Q,{properties:Q[R[D]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1},J.prototype._onConnect=function(R){if(this.disconnected){this.emit("connect",R);return}const D=this;this.connackPacket=R,this.messageIdProvider.clear(),this._setupPingTimer(),this.connected=!0;function Q(){let te=D.outgoingStore.createStream();function he(){D._storeProcessing=!1,D._packetIdsDuringStoreProcessing={}}D.once("close",pe),te.on("error",function(ee){he(),D._flushStoreProcessingQueue(),D.removeListener("close",pe),D.emit("error",ee)});function pe(){te.destroy(),te=null,D._flushStoreProcessingQueue(),he()}function Z(){if(!te)return;D._storeProcessing=!0;const ee=te.read(1);let ue;if(!ee){te.once("readable",Z);return}if(D._packetIdsDuringStoreProcessing[ee.messageId]){Z();return}!D.disconnecting&&!D.reconnectTimer?(ue=D.outgoing[ee.messageId]?D.outgoing[ee.messageId].cb:null,D.outgoing[ee.messageId]={volatile:!1,cb:function(ce,ye){ue&&ue(ce,ye),Z()}},D._packetIdsDuringStoreProcessing[ee.messageId]=!0,D.messageIdProvider.register(ee.messageId)?D._sendPacket(ee):g("messageId: %d has already used.",ee.messageId)):te.destroy&&te.destroy()}te.on("end",function(){let ee=!0;for(const ue in D._packetIdsDuringStoreProcessing)if(!D._packetIdsDuringStoreProcessing[ue]){ee=!1;break}ee?(he(),D.removeListener("close",pe),D._invokeAllStoreProcessingQueue(),D.emit("connect",R)):Q()}),Z()}Q()},J.prototype._invokeStoreProcessingQueue=function(){if(this._storeProcessingQueue.length>0){const R=this._storeProcessingQueue[0];if(R&&R.invoke())return this._storeProcessingQueue.shift(),!0}return!1},J.prototype._invokeAllStoreProcessingQueue=function(){for(;this._invokeStoreProcessingQueue(););},J.prototype._flushStoreProcessingQueue=function(){for(const R of this._storeProcessingQueue)R.cbStorePut&&R.cbStorePut(new Error("Connection closed")),R.callback&&R.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)},r.exports=J}).call(this)}).call(this,n("_process"),typeof en<"u"?en:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-message-id-provider":7,"./store":8,"./topic-alias-recv":9,"./topic-alias-send":10,"./validations":11,_process:50,debug:18,events:22,inherits:24,"mqtt-packet":40,"readable-stream":69,reinterval:70,"rfdc/default":71,xtend:81}],2:[function(n,r,o){const{Buffer:i}=n("buffer"),s=n("readable-stream").Transform,a=n("duplexify");let u,c,l,h=!1;function f(){const E=new s;return E._write=function(v,g,x){u.sendSocketMessage({data:v.buffer,success:function(){x()},fail:function(){x(new Error)}})},E._flush=function(g){u.closeSocket({success:function(){g()}})},E}function d(E){E.hostname||(E.hostname="localhost"),E.path||(E.path="/"),E.wsOptions||(E.wsOptions={})}function m(E,v){const g=E.protocol==="alis"?"wss":"ws";let x=g+"://"+E.hostname+E.path;return E.port&&E.port!==80&&E.port!==443&&(x=g+"://"+E.hostname+":"+E.port+E.path),typeof E.transformWsUrl=="function"&&(x=E.transformWsUrl(x,E,v)),x}function p(){h||(h=!0,u.onSocketOpen(function(){l.setReadable(c),l.setWritable(c),l.emit("connect")}),u.onSocketMessage(function(E){if(typeof E.data=="string"){const v=i.from(E.data,"base64");c.push(v)}else{const v=new FileReader;v.addEventListener("load",function(){let g=v.result;g instanceof ArrayBuffer?g=i.from(g):g=i.from(g,"utf8"),c.push(g)}),v.readAsArrayBuffer(E.data)}}),u.onSocketClose(function(){l.end(),l.destroy()}),u.onSocketError(function(E){l.destroy(E)}))}function b(E,v){if(v.hostname=v.hostname||v.host,!v.hostname)throw new Error("Could not determine host. Specify host manually.");const g=v.protocolId==="MQIsdp"&&v.protocolVersion===3?"mqttv3.1":"mqtt";d(v);const x=m(v,E);return u=v.my,u.connectSocket({url:x,protocols:g}),c=f(),l=a.obj(),p(),l}r.exports=b},{buffer:17,duplexify:20,"readable-stream":69}],3:[function(n,r,o){const i=n("net"),s=n("debug")("mqttjs:tcp");function a(u,c){c.port=c.port||1883,c.hostname=c.hostname||c.host||"localhost";const l=c.port,h=c.hostname;return s("port %d and host %s",l,h),i.createConnection(l,h)}r.exports=a},{debug:18,net:16}],4:[function(n,r,o){const i=n("tls"),s=n("net"),a=n("debug")("mqttjs:tls");function u(c,l){l.port=l.port||8883,l.host=l.hostname||l.host||"localhost",s.isIP(l.host)===0&&(l.servername=l.host),l.rejectUnauthorized=l.rejectUnauthorized!==!1,delete l.path,a("port %d host %s rejectUnauthorized %b",l.port,l.host,l.rejectUnauthorized);const h=i.connect(l);h.on("secureConnect",function(){l.rejectUnauthorized&&!h.authorized?h.emit("error",new Error("TLS not authorized")):h.removeListener("error",f)});function f(d){l.rejectUnauthorized&&c.emit("error",d),h.end()}return h.on("error",f),h}r.exports=u},{debug:18,net:16,tls:16}],5:[function(n,r,o){(function(i){(function(){const{Buffer:s}=n("buffer"),a=n("ws"),u=n("debug")("mqttjs:ws"),c=n("duplexify"),l=n("readable-stream").Transform,h=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],f=typeof i<"u"&&i.title==="browser"||typeof __webpack_require__=="function";function d(x,A){let I=x.protocol+"://"+x.hostname+":"+x.port+x.path;return typeof x.transformWsUrl=="function"&&(I=x.transformWsUrl(I,x,A)),I}function m(x){const A=x;return x.hostname||(A.hostname="localhost"),x.port||(x.protocol==="wss"?A.port=443:A.port=80),x.path||(A.path="/"),x.wsOptions||(A.wsOptions={}),!f&&x.protocol==="wss"&&h.forEach(function(I){Object.prototype.hasOwnProperty.call(x,I)&&!Object.prototype.hasOwnProperty.call(x.wsOptions,I)&&(A.wsOptions[I]=x[I])}),A}function p(x){const A=m(x);if(A.hostname||(A.hostname=A.host),!A.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");const I=new URL(document.URL);A.hostname=I.hostname,A.port||(A.port=I.port)}return A.objectMode===void 0&&(A.objectMode=!(A.binary===!0||A.binary===void 0)),A}function b(x,A,I){u("createWebSocket"),u("protocol: "+I.protocolId+" "+I.protocolVersion);const B=I.protocolId==="MQIsdp"&&I.protocolVersion===3?"mqttv3.1":"mqtt";return u("creating new Websocket for url: "+A+" and protocol: "+B),new a(A,[B],I.wsOptions)}function E(x,A){const I=A.protocolId==="MQIsdp"&&A.protocolVersion===3?"mqttv3.1":"mqtt",B=d(A,x),j=new WebSocket(B,[I]);return j.binaryType="arraybuffer",j}function v(x,A){u("streamBuilder");const I=m(A),B=d(I,x),j=b(x,B,I),U=a.createWebSocketStream(j,I.wsOptions);return U.url=B,j.on("close",()=>{U.destroy()}),U}function g(x,A){u("browserStreamBuilder");let I;const j=p(A).browserBufferSize||1024*512,U=A.browserBufferTimeout||1e3,K=!A.objectMode,y=E(x,A),C=z(A,Q,te);A.objectMode||(C._writev=D),C.on("close",()=>{y.close()});const S=typeof y.addEventListener<"u";y.readyState===y.OPEN?I=C:(I=I=c(void 0,void 0,A),A.objectMode||(I._writev=D),S?y.addEventListener("open",X):y.onopen=X),I.socket=y,S?(y.addEventListener("close",G),y.addEventListener("error",J),y.addEventListener("message",R)):(y.onclose=G,y.onerror=J,y.onmessage=R);function z(he,pe,Z){const ee=new l({objectModeMode:he.objectMode});return ee._write=pe,ee._flush=Z,ee}function X(){I.setReadable(C),I.setWritable(C),I.emit("connect")}function G(){I.end(),I.destroy()}function J(he){I.destroy(he)}function R(he){let pe=he.data;pe instanceof ArrayBuffer?pe=s.from(pe):pe=s.from(pe,"utf8"),C.push(pe)}function D(he,pe){const Z=new Array(he.length);for(let ee=0;ee<he.length;ee++)typeof he[ee].chunk=="string"?Z[ee]=s.from(he[ee],"utf8"):Z[ee]=he[ee].chunk;this._write(s.concat(Z),"binary",pe)}function Q(he,pe,Z){y.bufferedAmount>j&&setTimeout(Q,U,he,pe,Z),K&&typeof he=="string"&&(he=s.from(he,"utf8"));try{y.send(he)}catch(ee){return Z(ee)}Z()}function te(he){y.close(),he()}return I}f?r.exports=g:r.exports=v}).call(this)}).call(this,n("_process"))},{_process:50,buffer:17,debug:18,duplexify:20,"readable-stream":69,ws:80}],6:[function(n,r,o){const{Buffer:i}=n("buffer"),s=n("readable-stream").Transform,a=n("duplexify");let u,c,l;function h(){const b=new s;return b._write=function(E,v,g){u.send({data:E.buffer,success:function(){g()},fail:function(x){g(new Error(x))}})},b._flush=function(v){u.close({success:function(){v()}})},b}function f(b){b.hostname||(b.hostname="localhost"),b.path||(b.path="/"),b.wsOptions||(b.wsOptions={})}function d(b,E){const v=b.protocol==="wxs"?"wss":"ws";let g=v+"://"+b.hostname+b.path;return b.port&&b.port!==80&&b.port!==443&&(g=v+"://"+b.hostname+":"+b.port+b.path),typeof b.transformWsUrl=="function"&&(g=b.transformWsUrl(g,b,E)),g}function m(){u.onOpen(function(){l.setReadable(c),l.setWritable(c),l.emit("connect")}),u.onMessage(function(b){let E=b.data;E instanceof ArrayBuffer?E=i.from(E):E=i.from(E,"utf8"),c.push(E)}),u.onClose(function(){l.end(),l.destroy()}),u.onError(function(b){l.destroy(new Error(b.errMsg))})}function p(b,E){if(E.hostname=E.hostname||E.host,!E.hostname)throw new Error("Could not determine host. Specify host manually.");const v=E.protocolId==="MQIsdp"&&E.protocolVersion===3?"mqttv3.1":"mqtt";f(E);const g=d(E,b);u=wx.connectSocket({url:g,protocols:[v]}),c=h(),l=a.obj(),l._destroy=function(A,I){u.close({success:function(){I&&I(A)}})};const x=l.destroy;return l.destroy=function(){l.destroy=x;const A=this;setTimeout(function(){u.close({fail:function(){A._destroy(new Error)}})},0)}.bind(l),m(),l}r.exports=p},{buffer:17,duplexify:20,"readable-stream":69}],7:[function(n,r,o){function i(){if(!(this instanceof i))return new i;this.nextId=Math.max(1,Math.floor(Math.random()*65535))}i.prototype.allocate=function(){const s=this.nextId++;return this.nextId===65536&&(this.nextId=1),s},i.prototype.getLastAllocated=function(){return this.nextId===1?65535:this.nextId-1},i.prototype.register=function(s){return!0},i.prototype.deallocate=function(s){},i.prototype.clear=function(){},r.exports=i},{}],8:[function(n,r,o){const i=n("xtend"),s=n("readable-stream").Readable,a={objectMode:!0},u={clean:!0};function c(l){if(!(this instanceof c))return new c(l);this.options=l||{},this.options=i(u,l),this._inflights=new Map}c.prototype.put=function(l,h){return this._inflights.set(l.messageId,l),h&&h(),this},c.prototype.createStream=function(){const l=new s(a),h=[];let f=!1,d=0;return this._inflights.forEach(function(m,p){h.push(m)}),l._read=function(){!f&&d<h.length?this.push(h[d++]):this.push(null)},l.destroy=function(){if(f)return;const m=this;f=!0,setTimeout(function(){m.emit("close")},0)},l},c.prototype.del=function(l,h){return l=this._inflights.get(l.messageId),l?(this._inflights.delete(l.messageId),h(null,l)):h&&h(new Error("missing packet")),this},c.prototype.get=function(l,h){return l=this._inflights.get(l.messageId),l?h(null,l):h&&h(new Error("missing packet")),this},c.prototype.close=function(l){this.options.clean&&(this._inflights=null),l&&l()},r.exports=c},{"readable-stream":69,xtend:81}],9:[function(n,r,o){function i(s){if(!(this instanceof i))return new i(s);this.aliasToTopic={},this.max=s}i.prototype.put=function(s,a){return a===0||a>this.max?!1:(this.aliasToTopic[a]=s,this.length=Object.keys(this.aliasToTopic).length,!0)},i.prototype.getTopicByAlias=function(s){return this.aliasToTopic[s]},i.prototype.clear=function(){this.aliasToTopic={}},r.exports=i},{}],10:[function(n,r,o){const i=n("lru-cache"),s=n("number-allocator").NumberAllocator;function a(u){if(!(this instanceof a))return new a(u);u>0&&(this.aliasToTopic=new i({max:u}),this.topicToAlias={},this.numberAllocator=new s(1,u),this.max=u,this.length=0)}a.prototype.put=function(u,c){if(c===0||c>this.max)return!1;const l=this.aliasToTopic.get(c);return l&&delete this.topicToAlias[l],this.aliasToTopic.set(c,u),this.topicToAlias[u]=c,this.numberAllocator.use(c),this.length=this.aliasToTopic.length,!0},a.prototype.getTopicByAlias=function(u){return this.aliasToTopic.get(u)},a.prototype.getAliasByTopic=function(u){const c=this.topicToAlias[u];return typeof c<"u"&&this.aliasToTopic.get(c),c},a.prototype.clear=function(){this.aliasToTopic.reset(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0},a.prototype.getLruAlias=function(){const u=this.numberAllocator.firstVacant();return u||this.aliasToTopic.keys()[this.aliasToTopic.length-1]},r.exports=a},{"lru-cache":37,"number-allocator":46}],11:[function(n,r,o){function i(a){const u=a.split("/");for(let c=0;c<u.length;c++)if(u[c]!=="+"){if(u[c]==="#")return c===u.length-1;if(u[c].indexOf("+")!==-1||u[c].indexOf("#")!==-1)return!1}return!0}function s(a){if(a.length===0)return"empty_topic_list";for(let u=0;u<a.length;u++)if(!i(a[u]))return a[u];return null}r.exports={validateTopics:s}},{}],12:[function(n,r,o){(function(i){(function(){const s=n("../client"),a=n("../store"),u=n("url"),c=n("xtend"),l=n("debug")("mqttjs"),h={};typeof i<"u"&&i.title!=="browser"||typeof __webpack_require__!="function"?(h.mqtt=n("./tcp"),h.tcp=n("./tcp"),h.ssl=n("./tls"),h.tls=n("./tls"),h.mqtts=n("./tls")):(h.wx=n("./wx"),h.wxs=n("./wx"),h.ali=n("./ali"),h.alis=n("./ali")),h.ws=n("./ws"),h.wss=n("./ws");function f(m){let p;m.auth&&(p=m.auth.match(/^(.+):(.+)$/),p?(m.username=p[1],m.password=p[2]):m.username=m.auth)}function d(m,p){if(l("connecting to an MQTT broker..."),typeof m=="object"&&!p&&(p=m,m=null),p=p||{},m){const v=u.parse(m,!0);if(v.port!=null&&(v.port=Number(v.port)),p=c(v,p),p.protocol===null)throw new Error("Missing protocol");p.protocol=p.protocol.replace(/:$/,"")}if(f(p),p.query&&typeof p.query.clientId=="string"&&(p.clientId=p.query.clientId),p.cert&&p.key)if(p.protocol){if(["mqtts","wss","wxs","alis"].indexOf(p.protocol)===-1)switch(p.protocol){case"mqtt":p.protocol="mqtts";break;case"ws":p.protocol="wss";break;case"wx":p.protocol="wxs";break;case"ali":p.protocol="alis";break;default:throw new Error('Unknown protocol for secure connection: "'+p.protocol+'"!')}}else throw new Error("Missing secure protocol key");if(!h[p.protocol]){const v=["mqtts","wss"].indexOf(p.protocol)!==-1;p.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter(function(g,x){return v&&x%2===0?!1:typeof h[g]=="function"})[0]}if(p.clean===!1&&!p.clientId)throw new Error("Missing clientId for unclean clients");p.protocol&&(p.defaultProtocol=p.protocol);function b(v){return p.servers&&((!v._reconnectCount||v._reconnectCount===p.servers.length)&&(v._reconnectCount=0),p.host=p.servers[v._reconnectCount].host,p.port=p.servers[v._reconnectCount].port,p.protocol=p.servers[v._reconnectCount].protocol?p.servers[v._reconnectCount].protocol:p.defaultProtocol,p.hostname=p.host,v._reconnectCount++),l("calling streambuilder for",p.protocol),h[p.protocol](v,p)}const E=new s(b,p);return E.on("error",function(){}),E}r.exports=d,r.exports.connect=d,r.exports.MqttClient=s,r.exports.Store=a}).call(this)}).call(this,n("_process"))},{"../client":1,"../store":8,"./ali":2,"./tcp":3,"./tls":4,"./ws":5,"./wx":6,_process:50,debug:18,url:76,xtend:81}],13:[function(n,r,o){o.byteLength=f,o.toByteArray=m,o.fromByteArray=E;for(var i=[],s=[],a=typeof Uint8Array<"u"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,l=u.length;c<l;++c)i[c]=u[c],s[u.charCodeAt(c)]=c;s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63;function h(v){var g=v.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=v.indexOf("=");x===-1&&(x=g);var A=x===g?0:4-x%4;return[x,A]}function f(v){var g=h(v),x=g[0],A=g[1];return(x+A)*3/4-A}function d(v,g,x){return(g+x)*3/4-x}function m(v){var g,x=h(v),A=x[0],I=x[1],B=new a(d(v,A,I)),j=0,U=I>0?A-4:A,K;for(K=0;K<U;K+=4)g=s[v.charCodeAt(K)]<<18|s[v.charCodeAt(K+1)]<<12|s[v.charCodeAt(K+2)]<<6|s[v.charCodeAt(K+3)],B[j++]=g>>16&255,B[j++]=g>>8&255,B[j++]=g&255;return I===2&&(g=s[v.charCodeAt(K)]<<2|s[v.charCodeAt(K+1)]>>4,B[j++]=g&255),I===1&&(g=s[v.charCodeAt(K)]<<10|s[v.charCodeAt(K+1)]<<4|s[v.charCodeAt(K+2)]>>2,B[j++]=g>>8&255,B[j++]=g&255),B}function p(v){return i[v>>18&63]+i[v>>12&63]+i[v>>6&63]+i[v&63]}function b(v,g,x){for(var A,I=[],B=g;B<x;B+=3)A=(v[B]<<16&16711680)+(v[B+1]<<8&65280)+(v[B+2]&255),I.push(p(A));return I.join("")}function E(v){for(var g,x=v.length,A=x%3,I=[],B=16383,j=0,U=x-A;j<U;j+=B)I.push(b(v,j,j+B>U?U:j+B));return A===1?(g=v[x-1],I.push(i[g>>2]+i[g<<4&63]+"==")):A===2&&(g=(v[x-2]<<8)+v[x-1],I.push(i[g>>10]+i[g>>4&63]+i[g<<2&63]+"=")),I.join("")}},{}],14:[function(n,r,o){const{Buffer:i}=n("buffer"),s=Symbol.for("BufferList");function a(u){if(!(this instanceof a))return new a(u);a._init.call(this,u)}a._init=function(c){Object.defineProperty(this,s,{value:!0}),this._bufs=[],this.length=0,c&&this.append(c)},a.prototype._new=function(c){return new a(c)},a.prototype._offset=function(c){if(c===0)return[0,0];let l=0;for(let h=0;h<this._bufs.length;h++){const f=l+this._bufs[h].length;if(c<f||h===this._bufs.length-1)return[h,c-l];l=f}},a.prototype._reverseOffset=function(u){const c=u[0];let l=u[1];for(let h=0;h<c;h++)l+=this._bufs[h].length;return l},a.prototype.get=function(c){if(c>this.length||c<0)return;const l=this._offset(c);return this._bufs[l[0]][l[1]]},a.prototype.slice=function(c,l){return typeof c=="number"&&c<0&&(c+=this.length),typeof l=="number"&&l<0&&(l+=this.length),this.copy(null,0,c,l)},a.prototype.copy=function(c,l,h,f){if((typeof h!="number"||h<0)&&(h=0),(typeof f!="number"||f>this.length)&&(f=this.length),h>=this.length||f<=0)return c||i.alloc(0);const d=!!c,m=this._offset(h),p=f-h;let b=p,E=d&&l||0,v=m[1];if(h===0&&f===this.length){if(!d)return this._bufs.length===1?this._bufs[0]:i.concat(this._bufs,this.length);for(let g=0;g<this._bufs.length;g++)this._bufs[g].copy(c,E),E+=this._bufs[g].length;return c}if(b<=this._bufs[m[0]].length-v)return d?this._bufs[m[0]].copy(c,l,v,v+b):this._bufs[m[0]].slice(v,v+b);d||(c=i.allocUnsafe(p));for(let g=m[0];g<this._bufs.length;g++){const x=this._bufs[g].length-v;if(b>x)this._bufs[g].copy(c,E,v),E+=x;else{this._bufs[g].copy(c,E,v,v+b),E+=x;break}b-=x,v&&(v=0)}return c.length>E?c.slice(0,E):c},a.prototype.shallowSlice=function(c,l){if(c=c||0,l=typeof l!="number"?this.length:l,c<0&&(c+=this.length),l<0&&(l+=this.length),c===l)return this._new();const h=this._offset(c),f=this._offset(l),d=this._bufs.slice(h[0],f[0]+1);return f[1]===0?d.pop():d[d.length-1]=d[d.length-1].slice(0,f[1]),h[1]!==0&&(d[0]=d[0].slice(h[1])),this._new(d)},a.prototype.toString=function(c,l,h){return this.slice(l,h).toString(c)},a.prototype.consume=function(c){if(c=Math.trunc(c),Number.isNaN(c)||c<=0)return this;for(;this._bufs.length;)if(c>=this._bufs[0].length)c-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(c),this.length-=c;break}return this},a.prototype.duplicate=function(){const c=this._new();for(let l=0;l<this._bufs.length;l++)c.append(this._bufs[l]);return c},a.prototype.append=function(c){if(c==null)return this;if(c.buffer)this._appendBuffer(i.from(c.buffer,c.byteOffset,c.byteLength));else if(Array.isArray(c))for(let l=0;l<c.length;l++)this.append(c[l]);else if(this._isBufferList(c))for(let l=0;l<c._bufs.length;l++)this.append(c._bufs[l]);else typeof c=="number"&&(c=c.toString()),this._appendBuffer(i.from(c));return this},a.prototype._appendBuffer=function(c){this._bufs.push(c),this.length+=c.length},a.prototype.indexOf=function(u,c,l){if(l===void 0&&typeof c=="string"&&(l=c,c=void 0),typeof u=="function"||Array.isArray(u))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof u=="number"?u=i.from([u]):typeof u=="string"?u=i.from(u,l):this._isBufferList(u)?u=u.slice():Array.isArray(u.buffer)?u=i.from(u.buffer,u.byteOffset,u.byteLength):i.isBuffer(u)||(u=i.from(u)),c=Number(c||0),isNaN(c)&&(c=0),c<0&&(c=this.length+c),c<0&&(c=0),u.length===0)return c>this.length?this.length:c;const h=this._offset(c);let f=h[0],d=h[1];for(;f<this._bufs.length;f++){const m=this._bufs[f];for(;d<m.length;)if(m.length-d>=u.length){const b=m.indexOf(u,d);if(b!==-1)return this._reverseOffset([f,b]);d=m.length-u.length+1}else{const b=this._reverseOffset([f,d]);if(this._match(b,u))return b;d++}d=0}return-1},a.prototype._match=function(u,c){if(this.length-u<c.length)return!1;for(let l=0;l<c.length;l++)if(this.get(u+l)!==c[l])return!1;return!0},function(){const u={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const c in u)(function(l){u[l]===null?a.prototype[l]=function(h,f){return this.slice(h,h+f)[l](0,f)}:a.prototype[l]=function(h=0){return this.slice(h,h+u[l])[l](0)}})(c)}(),a.prototype._isBufferList=function(c){return c instanceof a||a.isBufferList(c)},a.isBufferList=function(c){return c!=null&&c[s]},r.exports=a},{buffer:17}],15:[function(n,r,o){const i=n("readable-stream").Duplex,s=n("inherits"),a=n("./BufferList");function u(c){if(!(this instanceof u))return new u(c);if(typeof c=="function"){this._callback=c;const l=function(f){this._callback&&(this._callback(f),this._callback=null)}.bind(this);this.on("pipe",function(f){f.on("error",l)}),this.on("unpipe",function(f){f.removeListener("error",l)}),c=null}a._init.call(this,c),i.call(this)}s(u,i),Object.assign(u.prototype,a.prototype),u.prototype._new=function(l){return new u(l)},u.prototype._write=function(l,h,f){this._appendBuffer(l),typeof f=="function"&&f()},u.prototype._read=function(l){if(!this.length)return this.push(null);l=Math.min(l,this.length),this.push(this.slice(0,l)),this.consume(l)},u.prototype.end=function(l){i.prototype.end.call(this,l),this._callback&&(this._callback(null,this.slice()),this._callback=null)},u.prototype._destroy=function(l,h){this._bufs.length=0,this.length=0,h(l)},u.prototype._isBufferList=function(l){return l instanceof u||l instanceof a||u.isBufferList(l)},u.isBufferList=a.isBufferList,r.exports=u,r.exports.BufferListStream=u,r.exports.BufferList=a},{"./BufferList":14,inherits:24,"readable-stream":69}],16:[function(n,r,o){},{}],17:[function(n,r,o){(function(i){(function(){var s=n("base64-js"),a=n("ieee754");o.Buffer=h,o.SlowBuffer=A,o.INSPECT_MAX_BYTES=50;var u=2147483647;o.kMaxLength=u,h.TYPED_ARRAY_SUPPORT=c(),!h.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{var T=new Uint8Array(1);return T.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},T.foo()===42}catch{return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});function l(T){if(T>u)throw new RangeError('The value "'+T+'" is invalid for option "size"');var _=new Uint8Array(T);return _.__proto__=h.prototype,_}function h(T,_,w){if(typeof T=="number"){if(typeof _=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(T)}return f(T,_,w)}typeof Symbol<"u"&&Symbol.species!=null&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),h.poolSize=8192;function f(T,_,w){if(typeof T=="string")return b(T,_);if(ArrayBuffer.isView(T))return E(T);if(T==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T);if(P(T,ArrayBuffer)||T&&P(T.buffer,ArrayBuffer))return v(T,_,w);if(typeof T=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var L=T.valueOf&&T.valueOf();if(L!=null&&L!==T)return h.from(L,_,w);var W=g(T);if(W)return W;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof T[Symbol.toPrimitive]=="function")return h.from(T[Symbol.toPrimitive]("string"),_,w);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T)}h.from=function(T,_,w){return f(T,_,w)},h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array;function d(T){if(typeof T!="number")throw new TypeError('"size" argument must be of type number');if(T<0)throw new RangeError('The value "'+T+'" is invalid for option "size"')}function m(T,_,w){return d(T),T<=0?l(T):_!==void 0?typeof w=="string"?l(T).fill(_,w):l(T).fill(_):l(T)}h.alloc=function(T,_,w){return m(T,_,w)};function p(T){return d(T),l(T<0?0:x(T)|0)}h.allocUnsafe=function(T){return p(T)},h.allocUnsafeSlow=function(T){return p(T)};function b(T,_){if((typeof _!="string"||_==="")&&(_="utf8"),!h.isEncoding(_))throw new TypeError("Unknown encoding: "+_);var w=I(T,_)|0,L=l(w),W=L.write(T,_);return W!==w&&(L=L.slice(0,W)),L}function E(T){for(var _=T.length<0?0:x(T.length)|0,w=l(_),L=0;L<_;L+=1)w[L]=T[L]&255;return w}function v(T,_,w){if(_<0||T.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(T.byteLength<_+(w||0))throw new RangeError('"length" is outside of buffer bounds');var L;return _===void 0&&w===void 0?L=new Uint8Array(T):w===void 0?L=new Uint8Array(T,_):L=new Uint8Array(T,_,w),L.__proto__=h.prototype,L}function g(T){if(h.isBuffer(T)){var _=x(T.length)|0,w=l(_);return w.length===0||T.copy(w,0,0,_),w}if(T.length!==void 0)return typeof T.length!="number"||O(T.length)?l(0):E(T);if(T.type==="Buffer"&&Array.isArray(T.data))return E(T.data)}function x(T){if(T>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return T|0}function A(T){return+T!=T&&(T=0),h.alloc(+T)}h.isBuffer=function(_){return _!=null&&_._isBuffer===!0&&_!==h.prototype},h.compare=function(_,w){if(P(_,Uint8Array)&&(_=h.from(_,_.offset,_.byteLength)),P(w,Uint8Array)&&(w=h.from(w,w.offset,w.byteLength)),!h.isBuffer(_)||!h.isBuffer(w))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===w)return 0;for(var L=_.length,W=w.length,re=0,oe=Math.min(L,W);re<oe;++re)if(_[re]!==w[re]){L=_[re],W=w[re];break}return L<W?-1:W<L?1:0},h.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(_,w){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(_.length===0)return h.alloc(0);var L;if(w===void 0)for(w=0,L=0;L<_.length;++L)w+=_[L].length;var W=h.allocUnsafe(w),re=0;for(L=0;L<_.length;++L){var oe=_[L];if(P(oe,Uint8Array)&&(oe=h.from(oe)),!h.isBuffer(oe))throw new TypeError('"list" argument must be an Array of Buffers');oe.copy(W,re),re+=oe.length}return W};function I(T,_){if(h.isBuffer(T))return T.length;if(ArrayBuffer.isView(T)||P(T,ArrayBuffer))return T.byteLength;if(typeof T!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof T);var w=T.length,L=arguments.length>2&&arguments[2]===!0;if(!L&&w===0)return 0;for(var W=!1;;)switch(_){case"ascii":case"latin1":case"binary":return w;case"utf8":case"utf-8":return M(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w*2;case"hex":return w>>>1;case"base64":return V(T).length;default:if(W)return L?-1:M(T).length;_=(""+_).toLowerCase(),W=!0}}h.byteLength=I;function B(T,_,w){var L=!1;if((_===void 0||_<0)&&(_=0),_>this.length||((w===void 0||w>this.length)&&(w=this.length),w<=0)||(w>>>=0,_>>>=0,w<=_))return"";for(T||(T="utf8");;)switch(T){case"hex":return pe(this,_,w);case"utf8":case"utf-8":return R(this,_,w);case"ascii":return te(this,_,w);case"latin1":case"binary":return he(this,_,w);case"base64":return J(this,_,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,_,w);default:if(L)throw new TypeError("Unknown encoding: "+T);T=(T+"").toLowerCase(),L=!0}}h.prototype._isBuffer=!0;function j(T,_,w){var L=T[_];T[_]=T[w],T[w]=L}h.prototype.swap16=function(){var _=this.length;if(_%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var w=0;w<_;w+=2)j(this,w,w+1);return this},h.prototype.swap32=function(){var _=this.length;if(_%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var w=0;w<_;w+=4)j(this,w,w+3),j(this,w+1,w+2);return this},h.prototype.swap64=function(){var _=this.length;if(_%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var w=0;w<_;w+=8)j(this,w,w+7),j(this,w+1,w+6),j(this,w+2,w+5),j(this,w+3,w+4);return this},h.prototype.toString=function(){var _=this.length;return _===0?"":arguments.length===0?R(this,0,_):B.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(_){if(!h.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_?!0:h.compare(this,_)===0},h.prototype.inspect=function(){var _="",w=o.INSPECT_MAX_BYTES;return _=this.toString("hex",0,w).replace(/(.{2})/g,"$1 ").trim(),this.length>w&&(_+=" ... "),"<Buffer "+_+">"},h.prototype.compare=function(_,w,L,W,re){if(P(_,Uint8Array)&&(_=h.from(_,_.offset,_.byteLength)),!h.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(w===void 0&&(w=0),L===void 0&&(L=_?_.length:0),W===void 0&&(W=0),re===void 0&&(re=this.length),w<0||L>_.length||W<0||re>this.length)throw new RangeError("out of range index");if(W>=re&&w>=L)return 0;if(W>=re)return-1;if(w>=L)return 1;if(w>>>=0,L>>>=0,W>>>=0,re>>>=0,this===_)return 0;for(var oe=re-W,_e=L-w,we=Math.min(oe,_e),Ce=this.slice(W,re),Ne=_.slice(w,L),$e=0;$e<we;++$e)if(Ce[$e]!==Ne[$e]){oe=Ce[$e],_e=Ne[$e];break}return oe<_e?-1:_e<oe?1:0};function U(T,_,w,L,W){if(T.length===0)return-1;if(typeof w=="string"?(L=w,w=0):w>2147483647?w=2147483647:w<-2147483648&&(w=-2147483648),w=+w,O(w)&&(w=W?0:T.length-1),w<0&&(w=T.length+w),w>=T.length){if(W)return-1;w=T.length-1}else if(w<0)if(W)w=0;else return-1;if(typeof _=="string"&&(_=h.from(_,L)),h.isBuffer(_))return _.length===0?-1:K(T,_,w,L,W);if(typeof _=="number")return _=_&255,typeof Uint8Array.prototype.indexOf=="function"?W?Uint8Array.prototype.indexOf.call(T,_,w):Uint8Array.prototype.lastIndexOf.call(T,_,w):K(T,[_],w,L,W);throw new TypeError("val must be string, number or Buffer")}function K(T,_,w,L,W){var re=1,oe=T.length,_e=_.length;if(L!==void 0&&(L=String(L).toLowerCase(),L==="ucs2"||L==="ucs-2"||L==="utf16le"||L==="utf-16le")){if(T.length<2||_.length<2)return-1;re=2,oe/=2,_e/=2,w/=2}function we(vt,Pt){return re===1?vt[Pt]:vt.readUInt16BE(Pt*re)}var Ce;if(W){var Ne=-1;for(Ce=w;Ce<oe;Ce++)if(we(T,Ce)===we(_,Ne===-1?0:Ce-Ne)){if(Ne===-1&&(Ne=Ce),Ce-Ne+1===_e)return Ne*re}else Ne!==-1&&(Ce-=Ce-Ne),Ne=-1}else for(w+_e>oe&&(w=oe-_e),Ce=w;Ce>=0;Ce--){for(var $e=!0,Bt=0;Bt<_e;Bt++)if(we(T,Ce+Bt)!==we(_,Bt)){$e=!1;break}if($e)return Ce}return-1}h.prototype.includes=function(_,w,L){return this.indexOf(_,w,L)!==-1},h.prototype.indexOf=function(_,w,L){return U(this,_,w,L,!0)},h.prototype.lastIndexOf=function(_,w,L){return U(this,_,w,L,!1)};function y(T,_,w,L){w=Number(w)||0;var W=T.length-w;L?(L=Number(L),L>W&&(L=W)):L=W;var re=_.length;L>re/2&&(L=re/2);for(var oe=0;oe<L;++oe){var _e=parseInt(_.substr(oe*2,2),16);if(O(_e))return oe;T[w+oe]=_e}return oe}function C(T,_,w,L){return Y(M(_,T.length-w),T,w,L)}function S(T,_,w,L){return Y($(_),T,w,L)}function z(T,_,w,L){return S(T,_,w,L)}function X(T,_,w,L){return Y(V(_),T,w,L)}function G(T,_,w,L){return Y(F(_,T.length-w),T,w,L)}h.prototype.write=function(_,w,L,W){if(w===void 0)W="utf8",L=this.length,w=0;else if(L===void 0&&typeof w=="string")W=w,L=this.length,w=0;else if(isFinite(w))w=w>>>0,isFinite(L)?(L=L>>>0,W===void 0&&(W="utf8")):(W=L,L=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var re=this.length-w;if((L===void 0||L>re)&&(L=re),_.length>0&&(L<0||w<0)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");W||(W="utf8");for(var oe=!1;;)switch(W){case"hex":return y(this,_,w,L);case"utf8":case"utf-8":return C(this,_,w,L);case"ascii":return S(this,_,w,L);case"latin1":case"binary":return z(this,_,w,L);case"base64":return X(this,_,w,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,_,w,L);default:if(oe)throw new TypeError("Unknown encoding: "+W);W=(""+W).toLowerCase(),oe=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function J(T,_,w){return _===0&&w===T.length?s.fromByteArray(T):s.fromByteArray(T.slice(_,w))}function R(T,_,w){w=Math.min(T.length,w);for(var L=[],W=_;W<w;){var re=T[W],oe=null,_e=re>239?4:re>223?3:re>191?2:1;if(W+_e<=w){var we,Ce,Ne,$e;switch(_e){case 1:re<128&&(oe=re);break;case 2:we=T[W+1],(we&192)===128&&($e=(re&31)<<6|we&63,$e>127&&(oe=$e));break;case 3:we=T[W+1],Ce=T[W+2],(we&192)===128&&(Ce&192)===128&&($e=(re&15)<<12|(we&63)<<6|Ce&63,$e>2047&&($e<55296||$e>57343)&&(oe=$e));break;case 4:we=T[W+1],Ce=T[W+2],Ne=T[W+3],(we&192)===128&&(Ce&192)===128&&(Ne&192)===128&&($e=(re&15)<<18|(we&63)<<12|(Ce&63)<<6|Ne&63,$e>65535&&$e<1114112&&(oe=$e))}}oe===null?(oe=65533,_e=1):oe>65535&&(oe-=65536,L.push(oe>>>10&1023|55296),oe=56320|oe&1023),L.push(oe),W+=_e}return Q(L)}var D=4096;function Q(T){var _=T.length;if(_<=D)return String.fromCharCode.apply(String,T);for(var w="",L=0;L<_;)w+=String.fromCharCode.apply(String,T.slice(L,L+=D));return w}function te(T,_,w){var L="";w=Math.min(T.length,w);for(var W=_;W<w;++W)L+=String.fromCharCode(T[W]&127);return L}function he(T,_,w){var L="";w=Math.min(T.length,w);for(var W=_;W<w;++W)L+=String.fromCharCode(T[W]);return L}function pe(T,_,w){var L=T.length;(!_||_<0)&&(_=0),(!w||w<0||w>L)&&(w=L);for(var W="",re=_;re<w;++re)W+=k(T[re]);return W}function Z(T,_,w){for(var L=T.slice(_,w),W="",re=0;re<L.length;re+=2)W+=String.fromCharCode(L[re]+L[re+1]*256);return W}h.prototype.slice=function(_,w){var L=this.length;_=~~_,w=w===void 0?L:~~w,_<0?(_+=L,_<0&&(_=0)):_>L&&(_=L),w<0?(w+=L,w<0&&(w=0)):w>L&&(w=L),w<_&&(w=_);var W=this.subarray(_,w);return W.__proto__=h.prototype,W};function ee(T,_,w){if(T%1!==0||T<0)throw new RangeError("offset is not uint");if(T+_>w)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUIntLE=function(_,w,L){_=_>>>0,w=w>>>0,L||ee(_,w,this.length);for(var W=this[_],re=1,oe=0;++oe<w&&(re*=256);)W+=this[_+oe]*re;return W},h.prototype.readUIntBE=function(_,w,L){_=_>>>0,w=w>>>0,L||ee(_,w,this.length);for(var W=this[_+--w],re=1;w>0&&(re*=256);)W+=this[_+--w]*re;return W},h.prototype.readUInt8=function(_,w){return _=_>>>0,w||ee(_,1,this.length),this[_]},h.prototype.readUInt16LE=function(_,w){return _=_>>>0,w||ee(_,2,this.length),this[_]|this[_+1]<<8},h.prototype.readUInt16BE=function(_,w){return _=_>>>0,w||ee(_,2,this.length),this[_]<<8|this[_+1]},h.prototype.readUInt32LE=function(_,w){return _=_>>>0,w||ee(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+this[_+3]*16777216},h.prototype.readUInt32BE=function(_,w){return _=_>>>0,w||ee(_,4,this.length),this[_]*16777216+(this[_+1]<<16|this[_+2]<<8|this[_+3])},h.prototype.readIntLE=function(_,w,L){_=_>>>0,w=w>>>0,L||ee(_,w,this.length);for(var W=this[_],re=1,oe=0;++oe<w&&(re*=256);)W+=this[_+oe]*re;return re*=128,W>=re&&(W-=Math.pow(2,8*w)),W},h.prototype.readIntBE=function(_,w,L){_=_>>>0,w=w>>>0,L||ee(_,w,this.length);for(var W=w,re=1,oe=this[_+--W];W>0&&(re*=256);)oe+=this[_+--W]*re;return re*=128,oe>=re&&(oe-=Math.pow(2,8*w)),oe},h.prototype.readInt8=function(_,w){return _=_>>>0,w||ee(_,1,this.length),this[_]&128?(255-this[_]+1)*-1:this[_]},h.prototype.readInt16LE=function(_,w){_=_>>>0,w||ee(_,2,this.length);var L=this[_]|this[_+1]<<8;return L&32768?L|4294901760:L},h.prototype.readInt16BE=function(_,w){_=_>>>0,w||ee(_,2,this.length);var L=this[_+1]|this[_]<<8;return L&32768?L|4294901760:L},h.prototype.readInt32LE=function(_,w){return _=_>>>0,w||ee(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},h.prototype.readInt32BE=function(_,w){return _=_>>>0,w||ee(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},h.prototype.readFloatLE=function(_,w){return _=_>>>0,w||ee(_,4,this.length),a.read(this,_,!0,23,4)},h.prototype.readFloatBE=function(_,w){return _=_>>>0,w||ee(_,4,this.length),a.read(this,_,!1,23,4)},h.prototype.readDoubleLE=function(_,w){return _=_>>>0,w||ee(_,8,this.length),a.read(this,_,!0,52,8)},h.prototype.readDoubleBE=function(_,w){return _=_>>>0,w||ee(_,8,this.length),a.read(this,_,!1,52,8)};function ue(T,_,w,L,W,re){if(!h.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>W||_<re)throw new RangeError('"value" argument is out of bounds');if(w+L>T.length)throw new RangeError("Index out of range")}h.prototype.writeUIntLE=function(_,w,L,W){if(_=+_,w=w>>>0,L=L>>>0,!W){var re=Math.pow(2,8*L)-1;ue(this,_,w,L,re,0)}var oe=1,_e=0;for(this[w]=_&255;++_e<L&&(oe*=256);)this[w+_e]=_/oe&255;return w+L},h.prototype.writeUIntBE=function(_,w,L,W){if(_=+_,w=w>>>0,L=L>>>0,!W){var re=Math.pow(2,8*L)-1;ue(this,_,w,L,re,0)}var oe=L-1,_e=1;for(this[w+oe]=_&255;--oe>=0&&(_e*=256);)this[w+oe]=_/_e&255;return w+L},h.prototype.writeUInt8=function(_,w,L){return _=+_,w=w>>>0,L||ue(this,_,w,1,255,0),this[w]=_&255,w+1},h.prototype.writeUInt16LE=function(_,w,L){return _=+_,w=w>>>0,L||ue(this,_,w,2,65535,0),this[w]=_&255,this[w+1]=_>>>8,w+2},h.prototype.writeUInt16BE=function(_,w,L){return _=+_,w=w>>>0,L||ue(this,_,w,2,65535,0),this[w]=_>>>8,this[w+1]=_&255,w+2},h.prototype.writeUInt32LE=function(_,w,L){return _=+_,w=w>>>0,L||ue(this,_,w,4,4294967295,0),this[w+3]=_>>>24,this[w+2]=_>>>16,this[w+1]=_>>>8,this[w]=_&255,w+4},h.prototype.writeUInt32BE=function(_,w,L){return _=+_,w=w>>>0,L||ue(this,_,w,4,4294967295,0),this[w]=_>>>24,this[w+1]=_>>>16,this[w+2]=_>>>8,this[w+3]=_&255,w+4},h.prototype.writeIntLE=function(_,w,L,W){if(_=+_,w=w>>>0,!W){var re=Math.pow(2,8*L-1);ue(this,_,w,L,re-1,-re)}var oe=0,_e=1,we=0;for(this[w]=_&255;++oe<L&&(_e*=256);)_<0&&we===0&&this[w+oe-1]!==0&&(we=1),this[w+oe]=(_/_e>>0)-we&255;return w+L},h.prototype.writeIntBE=function(_,w,L,W){if(_=+_,w=w>>>0,!W){var re=Math.pow(2,8*L-1);ue(this,_,w,L,re-1,-re)}var oe=L-1,_e=1,we=0;for(this[w+oe]=_&255;--oe>=0&&(_e*=256);)_<0&&we===0&&this[w+oe+1]!==0&&(we=1),this[w+oe]=(_/_e>>0)-we&255;return w+L},h.prototype.writeInt8=function(_,w,L){return _=+_,w=w>>>0,L||ue(this,_,w,1,127,-128),_<0&&(_=255+_+1),this[w]=_&255,w+1},h.prototype.writeInt16LE=function(_,w,L){return _=+_,w=w>>>0,L||ue(this,_,w,2,32767,-32768),this[w]=_&255,this[w+1]=_>>>8,w+2},h.prototype.writeInt16BE=function(_,w,L){return _=+_,w=w>>>0,L||ue(this,_,w,2,32767,-32768),this[w]=_>>>8,this[w+1]=_&255,w+2},h.prototype.writeInt32LE=function(_,w,L){return _=+_,w=w>>>0,L||ue(this,_,w,4,2147483647,-2147483648),this[w]=_&255,this[w+1]=_>>>8,this[w+2]=_>>>16,this[w+3]=_>>>24,w+4},h.prototype.writeInt32BE=function(_,w,L){return _=+_,w=w>>>0,L||ue(this,_,w,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[w]=_>>>24,this[w+1]=_>>>16,this[w+2]=_>>>8,this[w+3]=_&255,w+4};function ce(T,_,w,L,W,re){if(w+L>T.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("Index out of range")}function ye(T,_,w,L,W){return _=+_,w=w>>>0,W||ce(T,_,w,4),a.write(T,_,w,L,23,4),w+4}h.prototype.writeFloatLE=function(_,w,L){return ye(this,_,w,!0,L)},h.prototype.writeFloatBE=function(_,w,L){return ye(this,_,w,!1,L)};function ne(T,_,w,L,W){return _=+_,w=w>>>0,W||ce(T,_,w,8),a.write(T,_,w,L,52,8),w+8}h.prototype.writeDoubleLE=function(_,w,L){return ne(this,_,w,!0,L)},h.prototype.writeDoubleBE=function(_,w,L){return ne(this,_,w,!1,L)},h.prototype.copy=function(_,w,L,W){if(!h.isBuffer(_))throw new TypeError("argument should be a Buffer");if(L||(L=0),!W&&W!==0&&(W=this.length),w>=_.length&&(w=_.length),w||(w=0),W>0&&W<L&&(W=L),W===L||_.length===0||this.length===0)return 0;if(w<0)throw new RangeError("targetStart out of bounds");if(L<0||L>=this.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("sourceEnd out of bounds");W>this.length&&(W=this.length),_.length-w<W-L&&(W=_.length-w+L);var re=W-L;if(this===_&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(w,L,W);else if(this===_&&L<w&&w<W)for(var oe=re-1;oe>=0;--oe)_[oe+w]=this[oe+L];else Uint8Array.prototype.set.call(_,this.subarray(L,W),w);return re},h.prototype.fill=function(_,w,L,W){if(typeof _=="string"){if(typeof w=="string"?(W=w,w=0,L=this.length):typeof L=="string"&&(W=L,L=this.length),W!==void 0&&typeof W!="string")throw new TypeError("encoding must be a string");if(typeof W=="string"&&!h.isEncoding(W))throw new TypeError("Unknown encoding: "+W);if(_.length===1){var re=_.charCodeAt(0);(W==="utf8"&&re<128||W==="latin1")&&(_=re)}}else typeof _=="number"&&(_=_&255);if(w<0||this.length<w||this.length<L)throw new RangeError("Out of range index");if(L<=w)return this;w=w>>>0,L=L===void 0?this.length:L>>>0,_||(_=0);var oe;if(typeof _=="number")for(oe=w;oe<L;++oe)this[oe]=_;else{var _e=h.isBuffer(_)?_:h.from(_,W),we=_e.length;if(we===0)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(oe=0;oe<L-w;++oe)this[oe+w]=_e[oe%we]}return this};var q=/[^+/0-9A-Za-z-_]/g;function H(T){if(T=T.split("=")[0],T=T.trim().replace(q,""),T.length<2)return"";for(;T.length%4!==0;)T=T+"=";return T}function k(T){return T<16?"0"+T.toString(16):T.toString(16)}function M(T,_){_=_||1/0;for(var w,L=T.length,W=null,re=[],oe=0;oe<L;++oe){if(w=T.charCodeAt(oe),w>55295&&w<57344){if(!W){if(w>56319){(_-=3)>-1&&re.push(239,191,189);continue}else if(oe+1===L){(_-=3)>-1&&re.push(239,191,189);continue}W=w;continue}if(w<56320){(_-=3)>-1&&re.push(239,191,189),W=w;continue}w=(W-55296<<10|w-56320)+65536}else W&&(_-=3)>-1&&re.push(239,191,189);if(W=null,w<128){if((_-=1)<0)break;re.push(w)}else if(w<2048){if((_-=2)<0)break;re.push(w>>6|192,w&63|128)}else if(w<65536){if((_-=3)<0)break;re.push(w>>12|224,w>>6&63|128,w&63|128)}else if(w<1114112){if((_-=4)<0)break;re.push(w>>18|240,w>>12&63|128,w>>6&63|128,w&63|128)}else throw new Error("Invalid code point")}return re}function $(T){for(var _=[],w=0;w<T.length;++w)_.push(T.charCodeAt(w)&255);return _}function F(T,_){for(var w,L,W,re=[],oe=0;oe<T.length&&!((_-=2)<0);++oe)w=T.charCodeAt(oe),L=w>>8,W=w%256,re.push(W),re.push(L);return re}function V(T){return s.toByteArray(H(T))}function Y(T,_,w,L){for(var W=0;W<L&&!(W+w>=_.length||W>=T.length);++W)_[W+w]=T[W];return W}function P(T,_){return T instanceof _||T!=null&&T.constructor!=null&&T.constructor.name!=null&&T.constructor.name===_.name}function O(T){return T!==T}}).call(this)}).call(this,n("buffer").Buffer)},{"base64-js":13,buffer:17,ieee754:23}],18:[function(n,r,o){(function(i){(function(){o.formatArgs=a,o.save=u,o.load=c,o.useColors=s,o.storage=l(),o.destroy=(()=>{let f=!1;return()=>{f||(f=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),o.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function s(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function a(f){if(f[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+f[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!this.useColors)return;const d="color: "+this.color;f.splice(1,0,d,"color: inherit");let m=0,p=0;f[0].replace(/%[a-zA-Z%]/g,b=>{b!=="%%"&&(m++,b==="%c"&&(p=m))}),f.splice(p,0,d)}o.log=console.debug||console.log||(()=>{});function u(f){try{f?o.storage.setItem("debug",f):o.storage.removeItem("debug")}catch{}}function c(){let f;try{f=o.storage.getItem("debug")}catch{}return!f&&typeof i<"u"&&"env"in i&&(f={}.DEBUG),f}function l(){try{return localStorage}catch{}}r.exports=n("./common")(o);const{formatters:h}=r.exports;h.j=function(f){try{return JSON.stringify(f)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}}}).call(this)}).call(this,n("_process"))},{"./common":19,_process:50}],19:[function(n,r,o){function i(s){u.debug=u,u.default=u,u.coerce=m,u.disable=h,u.enable=l,u.enabled=f,u.humanize=n("ms"),u.destroy=p,Object.keys(s).forEach(b=>{u[b]=s[b]}),u.names=[],u.skips=[],u.formatters={};function a(b){let E=0;for(let v=0;v<b.length;v++)E=(E<<5)-E+b.charCodeAt(v),E|=0;return u.colors[Math.abs(E)%u.colors.length]}u.selectColor=a;function u(b){let E,v=null,g,x;function A(...I){if(!A.enabled)return;const B=A,j=Number(new Date),U=j-(E||j);B.diff=U,B.prev=E,B.curr=j,E=j,I[0]=u.coerce(I[0]),typeof I[0]!="string"&&I.unshift("%O");let K=0;I[0]=I[0].replace(/%([a-zA-Z%])/g,(C,S)=>{if(C==="%%")return"%";K++;const z=u.formatters[S];if(typeof z=="function"){const X=I[K];C=z.call(B,X),I.splice(K,1),K--}return C}),u.formatArgs.call(B,I),(B.log||u.log).apply(B,I)}return A.namespace=b,A.useColors=u.useColors(),A.color=u.selectColor(b),A.extend=c,A.destroy=u.destroy,Object.defineProperty(A,"enabled",{enumerable:!0,configurable:!1,get:()=>v!==null?v:(g!==u.namespaces&&(g=u.namespaces,x=u.enabled(b)),x),set:I=>{v=I}}),typeof u.init=="function"&&u.init(A),A}function c(b,E){const v=u(this.namespace+(typeof E>"u"?":":E)+b);return v.log=this.log,v}function l(b){u.save(b),u.namespaces=b,u.names=[],u.skips=[];let E;const v=(typeof b=="string"?b:"").split(/[\s,]+/),g=v.length;for(E=0;E<g;E++)v[E]&&(b=v[E].replace(/\*/g,".*?"),b[0]==="-"?u.skips.push(new RegExp("^"+b.substr(1)+"$")):u.names.push(new RegExp("^"+b+"$")))}function h(){const b=[...u.names.map(d),...u.skips.map(d).map(E=>"-"+E)].join(",");return u.enable(""),b}function f(b){if(b[b.length-1]==="*")return!0;let E,v;for(E=0,v=u.skips.length;E<v;E++)if(u.skips[E].test(b))return!1;for(E=0,v=u.names.length;E<v;E++)if(u.names[E].test(b))return!0;return!1}function d(b){return b.toString().substring(2,b.toString().length-2).replace(/\.\*\?$/,"*")}function m(b){return b instanceof Error?b.stack||b.message:b}function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return u.enable(u.load()),u}r.exports=i},{ms:45}],20:[function(n,r,o){(function(i,s){(function(){var a=n("readable-stream"),u=n("end-of-stream"),c=n("inherits"),l=n("stream-shift"),h=s.from&&s.from!==Uint8Array.from?s.from([0]):new s([0]),f=function(g,x){g._corked?g.once("uncork",x):x()},d=function(g,x){g._autoDestroy&&g.destroy(x)},m=function(g,x){return function(A){A?d(g,A.message==="premature close"?null:A):x&&!g._ended&&g.end()}},p=function(g,x){if(!g||g._writableState&&g._writableState.finished)return x();if(g._writableState)return g.end(x);g.end(),x()},b=function(){},E=function(g){return new a.Readable({objectMode:!0,highWaterMark:16}).wrap(g)},v=function(g,x,A){if(!(this instanceof v))return new v(g,x,A);a.Duplex.call(this,A),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!A||A.autoDestroy!==!1,this._forwardDestroy=!A||A.destroy!==!1,this._forwardEnd=!A||A.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,g&&this.setWritable(g),x&&this.setReadable(x)};c(v,a.Duplex),v.obj=function(g,x,A){return A||(A={}),A.objectMode=!0,A.highWaterMark=16,new v(g,x,A)},v.prototype.cork=function(){++this._corked===1&&this.emit("cork")},v.prototype.uncork=function(){this._corked&&--this._corked===0&&this.emit("uncork")},v.prototype.setWritable=function(g){if(this._unwrite&&this._unwrite(),this.destroyed){g&&g.destroy&&g.destroy();return}if(g===null||g===!1){this.end();return}var x=this,A=u(g,{writable:!0,readable:!1},m(this,this._forwardEnd)),I=function(){var j=x._ondrain;x._ondrain=null,j&&j()},B=function(){x._writable.removeListener("drain",I),A()};this._unwrite&&i.nextTick(I),this._writable=g,this._writable.on("drain",I),this._unwrite=B,this.uncork()},v.prototype.setReadable=function(g){if(this._unread&&this._unread(),this.destroyed){g&&g.destroy&&g.destroy();return}if(g===null||g===!1){this.push(null),this.resume();return}var x=this,A=u(g,{writable:!1,readable:!0},m(this)),I=function(){x._forward()},B=function(){x.push(null)},j=function(){x._readable2.removeListener("readable",I),x._readable2.removeListener("end",B),A()};this._drained=!0,this._readable=g,this._readable2=g._readableState?g:E(g),this._readable2.on("readable",I),this._readable2.on("end",B),this._unread=j,this._forward()},v.prototype._read=function(){this._drained=!0,this._forward()},v.prototype._forward=function(){if(!(this._forwarding||!this._readable2||!this._drained)){this._forwarding=!0;for(var g;this._drained&&(g=l(this._readable2))!==null;)this.destroyed||(this._drained=this.push(g));this._forwarding=!1}},v.prototype.destroy=function(g,x){if(x||(x=b),this.destroyed)return x(null);this.destroyed=!0;var A=this;i.nextTick(function(){A._destroy(g),x(null)})},v.prototype._destroy=function(g){if(g){var x=this._ondrain;this._ondrain=null,x?x(g):this.emit("error",g)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},v.prototype._write=function(g,x,A){if(!this.destroyed){if(this._corked)return f(this,this._write.bind(this,g,x,A));if(g===h)return this._finish(A);if(!this._writable)return A();this._writable.write(g)===!1?this._ondrain=A:this.destroyed||A()}},v.prototype._finish=function(g){var x=this;this.emit("preend"),f(this,function(){p(x._forwardEnd&&x._writable,function(){x._writableState.prefinished===!1&&(x._writableState.prefinished=!0),x.emit("prefinish"),f(x,g)})})},v.prototype.end=function(g,x,A){return typeof g=="function"?this.end(null,null,g):typeof x=="function"?this.end(g,null,x):(this._ended=!0,g&&this.write(g),!this._writableState.ending&&!this._writableState.destroyed&&this.write(h),a.Writable.prototype.end.call(this,A))},r.exports=v}).call(this)}).call(this,n("_process"),n("buffer").Buffer)},{_process:50,buffer:17,"end-of-stream":21,inherits:24,"readable-stream":69,"stream-shift":74}],21:[function(n,r,o){(function(i){(function(){var s=n("once"),a=function(){},u=function(h){return h.setHeader&&typeof h.abort=="function"},c=function(h){return h.stdio&&Array.isArray(h.stdio)&&h.stdio.length===3},l=function(h,f,d){if(typeof f=="function")return l(h,null,f);f||(f={}),d=s(d||a);var m=h._writableState,p=h._readableState,b=f.readable||f.readable!==!1&&h.readable,E=f.writable||f.writable!==!1&&h.writable,v=!1,g=function(){h.writable||x()},x=function(){E=!1,b||d.call(h)},A=function(){b=!1,E||d.call(h)},I=function(y){d.call(h,y?new Error("exited with error code: "+y):null)},B=function(y){d.call(h,y)},j=function(){i.nextTick(U)},U=function(){if(!v){if(b&&!(p&&p.ended&&!p.destroyed))return d.call(h,new Error("premature close"));if(E&&!(m&&m.ended&&!m.destroyed))return d.call(h,new Error("premature close"))}},K=function(){h.req.on("finish",x)};return u(h)?(h.on("complete",x),h.on("abort",j),h.req?K():h.on("request",K)):E&&!m&&(h.on("end",g),h.on("close",g)),c(h)&&h.on("exit",I),h.on("end",A),h.on("finish",x),f.error!==!1&&h.on("error",B),h.on("close",j),function(){v=!0,h.removeListener("complete",x),h.removeListener("abort",j),h.removeListener("request",K),h.req&&h.req.removeListener("finish",x),h.removeListener("end",g),h.removeListener("close",g),h.removeListener("finish",x),h.removeListener("exit",I),h.removeListener("end",A),h.removeListener("error",B),h.removeListener("close",j)}};r.exports=l}).call(this)}).call(this,n("_process"))},{_process:50,once:48}],22:[function(n,r,o){var i=Object.create||K,s=Object.keys||y,a=Function.prototype.bind||C;function u(){(!this._events||!Object.prototype.hasOwnProperty.call(this,"_events"))&&(this._events=i(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}r.exports=u,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._maxListeners=void 0;var c=10,l;try{var h={};Object.defineProperty&&Object.defineProperty(h,"x",{value:0}),l=h.x===0}catch{l=!1}l?Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(S){if(typeof S!="number"||S<0||S!==S)throw new TypeError('"defaultMaxListeners" must be a positive number');c=S}}):u.defaultMaxListeners=c,u.prototype.setMaxListeners=function(z){if(typeof z!="number"||z<0||isNaN(z))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=z,this};function f(S){return S._maxListeners===void 0?u.defaultMaxListeners:S._maxListeners}u.prototype.getMaxListeners=function(){return f(this)};function d(S,z,X){if(z)S.call(X);else for(var G=S.length,J=j(S,G),R=0;R<G;++R)J[R].call(X)}function m(S,z,X,G){if(z)S.call(X,G);else for(var J=S.length,R=j(S,J),D=0;D<J;++D)R[D].call(X,G)}function p(S,z,X,G,J){if(z)S.call(X,G,J);else for(var R=S.length,D=j(S,R),Q=0;Q<R;++Q)D[Q].call(X,G,J)}function b(S,z,X,G,J,R){if(z)S.call(X,G,J,R);else for(var D=S.length,Q=j(S,D),te=0;te<D;++te)Q[te].call(X,G,J,R)}function E(S,z,X,G){if(z)S.apply(X,G);else for(var J=S.length,R=j(S,J),D=0;D<J;++D)R[D].apply(X,G)}u.prototype.emit=function(z){var X,G,J,R,D,Q,te=z==="error";if(Q=this._events,Q)te=te&&Q.error==null;else if(!te)return!1;if(te){if(arguments.length>1&&(X=arguments[1]),X instanceof Error)throw X;var he=new Error('Unhandled "error" event. ('+X+")");throw he.context=X,he}if(G=Q[z],!G)return!1;var pe=typeof G=="function";switch(J=arguments.length,J){case 1:d(G,pe,this);break;case 2:m(G,pe,this,arguments[1]);break;case 3:p(G,pe,this,arguments[1],arguments[2]);break;case 4:b(G,pe,this,arguments[1],arguments[2],arguments[3]);break;default:for(R=new Array(J-1),D=1;D<J;D++)R[D-1]=arguments[D];E(G,pe,this,R)}return!0};function v(S,z,X,G){var J,R,D;if(typeof X!="function")throw new TypeError('"listener" argument must be a function');if(R=S._events,R?(R.newListener&&(S.emit("newListener",z,X.listener?X.listener:X),R=S._events),D=R[z]):(R=S._events=i(null),S._eventsCount=0),!D)D=R[z]=X,++S._eventsCount;else if(typeof D=="function"?D=R[z]=G?[X,D]:[D,X]:G?D.unshift(X):D.push(X),!D.warned&&(J=f(S),J&&J>0&&D.length>J)){D.warned=!0;var Q=new Error("Possible EventEmitter memory leak detected. "+D.length+' "'+String(z)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');Q.name="MaxListenersExceededWarning",Q.emitter=S,Q.type=z,Q.count=D.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",Q.name,Q.message)}return S}u.prototype.addListener=function(z,X){return v(this,z,X,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(z,X){return v(this,z,X,!0)};function g(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var S=new Array(arguments.length),z=0;z<S.length;++z)S[z]=arguments[z];this.listener.apply(this.target,S)}}function x(S,z,X){var G={fired:!1,wrapFn:void 0,target:S,type:z,listener:X},J=a.call(g,G);return J.listener=X,G.wrapFn=J,J}u.prototype.once=function(z,X){if(typeof X!="function")throw new TypeError('"listener" argument must be a function');return this.on(z,x(this,z,X)),this},u.prototype.prependOnceListener=function(z,X){if(typeof X!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(z,x(this,z,X)),this},u.prototype.removeListener=function(z,X){var G,J,R,D,Q;if(typeof X!="function")throw new TypeError('"listener" argument must be a function');if(J=this._events,!J)return this;if(G=J[z],!G)return this;if(G===X||G.listener===X)--this._eventsCount===0?this._events=i(null):(delete J[z],J.removeListener&&this.emit("removeListener",z,G.listener||X));else if(typeof G!="function"){for(R=-1,D=G.length-1;D>=0;D--)if(G[D]===X||G[D].listener===X){Q=G[D].listener,R=D;break}if(R<0)return this;R===0?G.shift():B(G,R),G.length===1&&(J[z]=G[0]),J.removeListener&&this.emit("removeListener",z,Q||X)}return this},u.prototype.removeAllListeners=function(z){var X,G,J;if(G=this._events,!G)return this;if(!G.removeListener)return arguments.length===0?(this._events=i(null),this._eventsCount=0):G[z]&&(--this._eventsCount===0?this._events=i(null):delete G[z]),this;if(arguments.length===0){var R=s(G),D;for(J=0;J<R.length;++J)D=R[J],D!=="removeListener"&&this.removeAllListeners(D);return this.removeAllListeners("removeListener"),this._events=i(null),this._eventsCount=0,this}if(X=G[z],typeof X=="function")this.removeListener(z,X);else if(X)for(J=X.length-1;J>=0;J--)this.removeListener(z,X[J]);return this};function A(S,z,X){var G=S._events;if(!G)return[];var J=G[z];return J?typeof J=="function"?X?[J.listener||J]:[J]:X?U(J):j(J,J.length):[]}u.prototype.listeners=function(z){return A(this,z,!0)},u.prototype.rawListeners=function(z){return A(this,z,!1)},u.listenerCount=function(S,z){return typeof S.listenerCount=="function"?S.listenerCount(z):I.call(S,z)},u.prototype.listenerCount=I;function I(S){var z=this._events;if(z){var X=z[S];if(typeof X=="function")return 1;if(X)return X.length}return 0}u.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function B(S,z){for(var X=z,G=X+1,J=S.length;G<J;X+=1,G+=1)S[X]=S[G];S.pop()}function j(S,z){for(var X=new Array(z),G=0;G<z;++G)X[G]=S[G];return X}function U(S){for(var z=new Array(S.length),X=0;X<z.length;++X)z[X]=S[X].listener||S[X];return z}function K(S){var z=function(){};return z.prototype=S,new z}function y(S){for(var z in S)Object.prototype.hasOwnProperty.call(S,z);return z}function C(S){var z=this;return function(){return z.apply(S,arguments)}}},{}],23:[function(n,r,o){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */o.read=function(i,s,a,u,c){var l,h,f=c*8-u-1,d=(1<<f)-1,m=d>>1,p=-7,b=a?c-1:0,E=a?-1:1,v=i[s+b];for(b+=E,l=v&(1<<-p)-1,v>>=-p,p+=f;p>0;l=l*256+i[s+b],b+=E,p-=8);for(h=l&(1<<-p)-1,l>>=-p,p+=u;p>0;h=h*256+i[s+b],b+=E,p-=8);if(l===0)l=1-m;else{if(l===d)return h?NaN:(v?-1:1)*(1/0);h=h+Math.pow(2,u),l=l-m}return(v?-1:1)*h*Math.pow(2,l-u)},o.write=function(i,s,a,u,c,l){var h,f,d,m=l*8-c-1,p=(1<<m)-1,b=p>>1,E=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=u?0:l-1,g=u?1:-1,x=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(f=isNaN(s)?1:0,h=p):(h=Math.floor(Math.log(s)/Math.LN2),s*(d=Math.pow(2,-h))<1&&(h--,d*=2),h+b>=1?s+=E/d:s+=E*Math.pow(2,1-b),s*d>=2&&(h++,d/=2),h+b>=p?(f=0,h=p):h+b>=1?(f=(s*d-1)*Math.pow(2,c),h=h+b):(f=s*Math.pow(2,b-1)*Math.pow(2,c),h=0));c>=8;i[a+v]=f&255,v+=g,f/=256,c-=8);for(h=h<<c|f,m+=c;m>0;i[a+v]=h&255,v+=g,h/=256,m-=8);i[a+v-g]|=x*128}},{}],24:[function(n,r,o){typeof Object.create=="function"?r.exports=function(s,a){a&&(s.super_=a,s.prototype=Object.create(a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(s,a){if(a){s.super_=a;var u=function(){};u.prototype=a.prototype,s.prototype=new u,s.prototype.constructor=s}}},{}],25:[function(n,r,o){Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function s(a,u){this.color=!0,this.key=void 0,this.value=void 0,this.parent=void 0,this.brother=void 0,this.leftChild=void 0,this.rightChild=void 0,this.key=a,this.value=u}return s.prototype.rotateLeft=function(){var a=this.parent,u=this.brother,c=this.leftChild,l=this.rightChild;if(!l)throw new Error("unknown error");var h=l.leftChild,f=l.rightChild;return a&&(a.leftChild===this?a.leftChild=l:a.rightChild===this&&(a.rightChild=l)),l.parent=a,l.brother=u,l.leftChild=this,l.rightChild=f,u&&(u.brother=l),this.parent=l,this.brother=f,this.leftChild=c,this.rightChild=h,f&&(f.parent=l,f.brother=this),c&&(c.parent=this,c.brother=h),h&&(h.parent=this,h.brother=c),l},s.prototype.rotateRight=function(){var a=this.parent,u=this.brother,c=this.leftChild;if(!c)throw new Error("unknown error");var l=this.rightChild,h=c.leftChild,f=c.rightChild;return a&&(a.leftChild===this?a.leftChild=c:a.rightChild===this&&(a.rightChild=c)),c.parent=a,c.brother=u,c.leftChild=h,c.rightChild=this,u&&(u.brother=c),h&&(h.parent=c,h.brother=this),this.parent=c,this.brother=h,this.leftChild=f,this.rightChild=l,f&&(f.parent=this,f.brother=l),l&&(l.parent=this,l.brother=f),c},s.prototype.remove=function(){if(this.leftChild||this.rightChild)throw new Error("can only remove leaf node");this.parent&&(this===this.parent.leftChild?this.parent.leftChild=void 0:this===this.parent.rightChild&&(this.parent.rightChild=void 0)),this.brother&&(this.brother.brother=void 0),this.key=void 0,this.value=void 0,this.parent=void 0,this.brother=void 0},s.TreeNodeColorType={red:!0,black:!1},s}();Object.freeze(i),o.default=i},{}],26:[function(n,r,o){var i=this&&this.__generator||function(a,u){var c={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},l,h,f,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(b){return function(E){return p([b,E])}}function p(b){if(l)throw new TypeError("Generator is already executing.");for(;c;)try{if(l=1,h&&(f=b[0]&2?h.return:b[0]?h.throw||((f=h.return)&&f.call(h),0):h.next)&&!(f=f.call(h,b[1])).done)return f;switch(h=0,f&&(b=[b[0]&2,f.value]),b[0]){case 0:case 1:f=b;break;case 4:return c.label++,{value:b[1],done:!1};case 5:c.label++,h=b[1],b=[0];continue;case 7:b=c.ops.pop(),c.trys.pop();continue;default:if(f=c.trys,!(f=f.length>0&&f[f.length-1])&&(b[0]===6||b[0]===2)){c=0;continue}if(b[0]===3&&(!f||b[1]>f[0]&&b[1]<f[3])){c.label=b[1];break}if(b[0]===6&&c.label<f[1]){c.label=f[1],f=b;break}if(f&&c.label<f[2]){c.label=f[2],c.ops.push(b);break}f[2]&&c.ops.pop(),c.trys.pop();continue}b=u.call(a,c)}catch(E){b=[6,E],h=0}finally{l=f=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),s.sigma=3,s.bucketSize=5e3;function s(a){var u=this;a===void 0&&(a=[]);var c=[],l=0,h=0,f=0,d=0,m=0,p=0;this.size=function(){return p},this.empty=function(){return p===0},this.clear=function(){l=f=h=d=m=p=0,E.call(this,s.bucketSize),p=0},this.front=function(){return c[l][h]},this.back=function(){return c[f][d]},this.forEach=function(v){if(!this.empty()){var g=0;if(l===f){for(var x=h;x<=d;++x)v(c[l][x],g++);return}for(var x=h;x<s.bucketSize;++x)v(c[l][x],g++);for(var x=l+1;x<f;++x)for(var A=0;A<s.bucketSize;++A)v(c[x][A],g++);for(var x=0;x<=d;++x)v(c[f][x],g++)}};var b=function(v){var g=l*s.bucketSize+h,x=g+v,A=f*s.bucketSize+d;if(x<g||x>A)throw new Error("pos should more than 0 and less than queue's size");var I=Math.floor(x/s.bucketSize),B=x%s.bucketSize;return{curNodeBucketIndex:I,curNodePointerIndex:B}};this.getElementByPos=function(v){var g=b(v),x=g.curNodeBucketIndex,A=g.curNodePointerIndex;return c[x][A]},this.eraseElementByPos=function(v){var g=this;if(v<0||v>p)throw new Error("pos should more than 0 and less than queue's size");if(v===0)this.popFront();else if(v===this.size())this.popBack();else{for(var x=[],A=v+1;A<p;++A)x.push(this.getElementByPos(A));this.cut(v),this.popBack(),x.forEach(function(I){return g.pushBack(I)})}},this.eraseElementByValue=function(v){if(!this.empty()){var g=[];this.forEach(function(I){I!==v&&g.push(I)});for(var x=g.length,A=0;A<x;++A)this.setElementByPos(A,g[A]);this.cut(x-1)}};var E=function(v){for(var g=[],x=v*s.sigma,A=Math.max(Math.ceil(x/s.bucketSize),2),I=0;I<A;++I)g.push(new Array(s.bucketSize));var B=Math.ceil(v/s.bucketSize),j=Math.floor(A/2)-Math.floor(B/2),U=j,K=0;if(this.size())for(var I=0;I<B;++I){for(var y=0;y<s.bucketSize;++y)if(g[j+I][y]=this.front(),this.popFront(),this.empty()){U=j+I,K=y;break}if(this.empty())break}c=g,l=j,h=0,f=U,d=K,m=A,p=v};this.pushBack=function(v){this.empty()||(f===m-1&&d===s.bucketSize-1&&E.call(this,this.size()),d<s.bucketSize-1?++d:f<m-1&&(++f,d=0)),++p,c[f][d]=v},this.popBack=function(){this.empty()||(this.size()!==1&&(d>0?--d:l<f&&(--f,d=s.bucketSize-1)),p>0&&--p)},this.setElementByPos=function(v,g){var x=b(v),A=x.curNodeBucketIndex,I=x.curNodePointerIndex;c[A][I]=g},this.insert=function(v,g,x){var A=this;if(x===void 0&&(x=1),v===0)for(;x--;)this.pushFront(g);else if(v===this.size())for(;x--;)this.pushBack(g);else{for(var I=[],B=v;B<p;++B)I.push(this.getElementByPos(B));this.cut(v-1);for(var B=0;B<x;++B)this.pushBack(g);I.forEach(function(j){return A.pushBack(j)})}},this.find=function(v){if(l===f){for(var g=h;g<=d;++g)if(c[l][g]===v)return!0;return!1}for(var g=h;g<s.bucketSize;++g)if(c[l][g]===v)return!0;for(var g=l+1;g<f;++g)for(var x=0;x<s.bucketSize;++x)if(c[g][x]===v)return!0;for(var g=0;g<=d;++g)if(c[f][g]===v)return!0;return!1},this.reverse=function(){for(var v=0,g=p-1;v<g;){var x=this.getElementByPos(v);this.setElementByPos(v,this.getElementByPos(g)),this.setElementByPos(g,x),++v,--g}},this.unique=function(){if(!this.empty()){var v=[],g=this.front();this.forEach(function(A,I){(I===0||A!==g)&&(v.push(A),g=A)});for(var x=0;x<p;++x)this.setElementByPos(x,v[x]);this.cut(v.length-1)}},this.sort=function(v){var g=[];this.forEach(function(A){g.push(A)}),g.sort(v);for(var x=0;x<p;++x)this.setElementByPos(x,g[x])},this.pushFront=function(v){this.empty()||(l===0&&h===0&&E.call(this,this.size()),h>0?--h:l>0&&(--l,h=s.bucketSize-1)),++p,c[l][h]=v},this.popFront=function(){this.empty()||(this.size()!==1&&(h<s.bucketSize-1?++h:l<f&&(++l,h=0)),p>0&&--p)},this.shrinkToFit=function(){var v=this,g=[];this.forEach(function(B){g.push(B)});var x=g.length;c=[];for(var A=Math.ceil(x/s.bucketSize),I=0;I<A;++I)c.push(new Array(s.bucketSize));this.clear(),g.forEach(function(B){return v.pushBack(B)})},this.cut=function(v){if(v<0){this.clear();return}var g=b(v),x=g.curNodeBucketIndex,A=g.curNodePointerIndex;f=x,d=A,p=v+1},this[Symbol.iterator]=function(){return function(){var g,g,g,v,g;return i(this,function(x){switch(x.label){case 0:if(p===0)return[2];if(l!==f)return[3,5];g=h,x.label=1;case 1:return g<=d?[4,c[l][g]]:[3,4];case 2:x.sent(),x.label=3;case 3:return++g,[3,1];case 4:return[2];case 5:g=h,x.label=6;case 6:return g<s.bucketSize?[4,c[l][g]]:[3,9];case 7:x.sent(),x.label=8;case 8:return++g,[3,6];case 9:g=l+1,x.label=10;case 10:if(!(g<f))return[3,15];v=0,x.label=11;case 11:return v<s.bucketSize?[4,c[g][v]]:[3,14];case 12:x.sent(),x.label=13;case 13:return++v,[3,11];case 14:return++g,[3,10];case 15:g=0,x.label=16;case 16:return g<=d?[4,c[f][g]]:[3,19];case 17:x.sent(),x.label=18;case 18:return++g,[3,16];case 19:return[2]}})}()},function(){var v=s.bucketSize;a.size?v=a.size():a.length&&(v=a.length);var g=v*s.sigma;m=Math.ceil(g/s.bucketSize),m=Math.max(m,3);for(var x=0;x<m;++x)c.push(new Array(s.bucketSize));var A=Math.ceil(v/s.bucketSize);l=Math.floor(m/2)-Math.floor(A/2),f=l,a.forEach(function(I){return u.pushBack(I)})}(),Object.freeze(this)}Object.freeze(s),o.default=s},{}],27:[function(n,r,o){var i=this&&this.__generator||function(l,h){var f={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},d,m,p,b;return b={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function E(g){return function(x){return v([g,x])}}function v(g){if(d)throw new TypeError("Generator is already executing.");for(;f;)try{if(d=1,m&&(p=g[0]&2?m.return:g[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,g[1])).done)return p;switch(m=0,p&&(g=[g[0]&2,p.value]),g[0]){case 0:case 1:p=g;break;case 4:return f.label++,{value:g[1],done:!1};case 5:f.label++,m=g[1],g=[0];continue;case 7:g=f.ops.pop(),f.trys.pop();continue;default:if(p=f.trys,!(p=p.length>0&&p[p.length-1])&&(g[0]===6||g[0]===2)){f=0;continue}if(g[0]===3&&(!p||g[1]>p[0]&&g[1]<p[3])){f.label=g[1];break}if(g[0]===6&&f.label<p[1]){f.label=p[1],p=g;break}if(p&&f.label<p[2]){f.label=p[2],f.ops.push(g);break}p[2]&&f.ops.pop(),f.trys.pop();continue}g=h.call(l,f)}catch(x){g=[6,x],m=0}finally{d=p=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},s=this&&this.__values||function(l){var h=typeof Symbol=="function"&&Symbol.iterator,f=h&&l[h],d=0;if(f)return f.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&d>=l.length&&(l=void 0),{value:l&&l[d++],done:!l}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var a=n("../LinkList/LinkList"),u=n("../Map/Map");c.initSize=16,c.maxSize=1<<30,c.sigma=.75,c.treeifyThreshold=8,c.untreeifyThreshold=6,c.minTreeifySize=64;function c(l,h,f){var d=this;if(l===void 0&&(l=[]),h===void 0&&(h=c.initSize),f=f||function(v){var g,x,A=0,I="";if(typeof v=="number")A=Math.floor(v),A=(A<<5)-A,A=A&A;else{typeof v!="string"?I=JSON.stringify(v):I=v;try{for(var B=s(I),j=B.next();!j.done;j=B.next()){var U=j.value,K=U.charCodeAt(0);A=(A<<5)-A+K,A=A&A}}catch(y){g={error:y}}finally{try{j&&!j.done&&(x=B.return)&&x.call(B)}finally{if(g)throw g.error}}}return A^=A>>>16,A},h&h-1)throw new Error("initBucketNum must be 2 to the power of n");var m=0,p=[],b=Math.max(c.initSize,Math.min(c.maxSize,h));this.size=function(){return m},this.empty=function(){return m===0},this.clear=function(){m=0,b=h,p=[]},this.forEach=function(v){var g=0;p.forEach(function(x){x.forEach(function(A){v(A,g++)})})};var E=function(v){if(!(v>=c.maxSize)){b=v*2;var g=[];p.forEach(function(x,A){if(!x.empty()){if(x instanceof a.default&&x.size()===1){var I=x.front(),B=I.key,j=I.value;g[f(B)&b-1]=new a.default([{key:B,value:j}])}else if(x instanceof u.default){var U=new a.default,K=new a.default;x.forEach(function(S){var z=f(S.key);z&v?K.pushBack(S):U.pushBack(S)}),U.size()>c.untreeifyThreshold?g[A]=new u.default(U):U.size()&&(g[A]=U),K.size()>c.untreeifyThreshold?g[A+v]=new u.default(K):K.size()&&(g[A+v]=K)}else{var y=new a.default,C=new a.default;x.forEach(function(S){var z=f(S.key);z&v?C.pushBack(S):y.pushBack(S)}),y.size()&&(g[A]=y),C.size()&&(g[A+v]=C)}p[A].clear()}}),p=g}};this.setElement=function(v,g){var x,A;if(v==null)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(g==null){this.eraseElementByKey(v);return}var I=f(v)&b-1;if(!p[I])++m,p[I]=new a.default([{key:v,value:g}]);else{var B=p[I].size();if(p[I]instanceof a.default){try{for(var j=s(p[I]),U=j.next();!U.done;U=j.next()){var K=U.value;if(K.key===v){K.value=g;return}}}catch(C){x={error:C}}finally{try{U&&!U.done&&(A=j.return)&&A.call(j)}finally{if(x)throw x.error}}p[I].pushBack({key:v,value:g}),p[I].size()>=c.treeifyThreshold&&(p[I]=new u.default(p[I]))}else p[I].setElement(v,g);var y=p[I].size();m+=y-B}m>b*c.sigma&&E.call(this,b)},this.getElementByKey=function(v){var g,x,A=f(v)&b-1;if(p[A]){if(p[A]instanceof u.default)return p[A].getElementByKey(v);try{for(var I=s(p[A]),B=I.next();!B.done;B=I.next()){var j=B.value;if(j.key===v)return j.value}}catch(U){g={error:U}}finally{try{B&&!B.done&&(x=I.return)&&x.call(I)}finally{if(g)throw g.error}}}},this.eraseElementByKey=function(v){var g,x,A=f(v)&b-1;if(p[A]){var I=p[A].size();if(p[A]instanceof u.default)p[A].eraseElementByKey(v),p[A].size()<=c.untreeifyThreshold&&(p[A]=new a.default(p[A]));else{var B=-1;try{for(var j=s(p[A]),U=j.next();!U.done;U=j.next()){var K=U.value;if(++B,K.key===v){p[A].eraseElementByPos(B);break}}}catch(C){g={error:C}}finally{try{U&&!U.done&&(x=j.return)&&x.call(j)}finally{if(g)throw g.error}}}var y=p[A].size();m+=y-I}},this.find=function(v){var g,x,A=f(v)&b-1;if(!p[A])return!1;if(p[A]instanceof u.default)return p[A].find(v);try{for(var I=s(p[A]),B=I.next();!B.done;B=I.next()){var j=B.value;if(j.key===v)return!0}}catch(U){g={error:U}}finally{try{B&&!B.done&&(x=I.return)&&x.call(I)}finally{if(g)throw g.error}}return!1},this[Symbol.iterator]=function(){return function(){var v,g,x,A,I,B,j;return i(this,function(U){switch(U.label){case 0:v=0,U.label=1;case 1:if(!(v<b))return[3,10];for(;v<b&&!p[v];)++v;if(v>=b)return[3,10];U.label=2;case 2:U.trys.push([2,7,8,9]),g=(B=void 0,s(p[v])),x=g.next(),U.label=3;case 3:return x.done?[3,6]:(A=x.value,[4,A]);case 4:U.sent(),U.label=5;case 5:return x=g.next(),[3,3];case 6:return[3,9];case 7:return I=U.sent(),B={error:I},[3,9];case 8:try{x&&!x.done&&(j=g.return)&&j.call(g)}finally{if(B)throw B.error}return[7];case 9:return++v,[3,1];case 10:return[2]}})}()},l.forEach(function(v){var g=v.key,x=v.value;return d.setElement(g,x)}),Object.freeze(this)}Object.freeze(c),o.default=c},{"../LinkList/LinkList":29,"../Map/Map":30}],28:[function(n,r,o){var i=this&&this.__generator||function(l,h){var f={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},d,m,p,b;return b={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function E(g){return function(x){return v([g,x])}}function v(g){if(d)throw new TypeError("Generator is already executing.");for(;f;)try{if(d=1,m&&(p=g[0]&2?m.return:g[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,g[1])).done)return p;switch(m=0,p&&(g=[g[0]&2,p.value]),g[0]){case 0:case 1:p=g;break;case 4:return f.label++,{value:g[1],done:!1};case 5:f.label++,m=g[1],g=[0];continue;case 7:g=f.ops.pop(),f.trys.pop();continue;default:if(p=f.trys,!(p=p.length>0&&p[p.length-1])&&(g[0]===6||g[0]===2)){f=0;continue}if(g[0]===3&&(!p||g[1]>p[0]&&g[1]<p[3])){f.label=g[1];break}if(g[0]===6&&f.label<p[1]){f.label=p[1],p=g;break}if(p&&f.label<p[2]){f.label=p[2],f.ops.push(g);break}p[2]&&f.ops.pop(),f.trys.pop();continue}g=h.call(l,f)}catch(x){g=[6,x],m=0}finally{d=p=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},s=this&&this.__values||function(l){var h=typeof Symbol=="function"&&Symbol.iterator,f=h&&l[h],d=0;if(f)return f.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&d>=l.length&&(l=void 0),{value:l&&l[d++],done:!l}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var a=n("../Set/Set"),u=n("../LinkList/LinkList");c.initSize=16,c.maxSize=1<<30,c.sigma=.75,c.treeifyThreshold=8,c.untreeifyThreshold=6,c.minTreeifySize=64;function c(l,h,f){var d=this;if(l===void 0&&(l=[]),h===void 0&&(h=c.initSize),f=f||function(v){var g=0,x="";if(typeof v=="number")g=Math.floor(v),g=(g<<5)-g,g=g&g;else{typeof v!="string"?x=JSON.stringify(v):x=v;for(var A=0;A<x.length;A++){var I=x.charCodeAt(A);g=(g<<5)-g+I,g=g&g}}return g^=g>>>16,g},h&h-1)throw new Error("initBucketNum must be 2 to the power of n");var m=0,p=[],b=Math.max(c.initSize,Math.min(c.maxSize,h));this.size=function(){return m},this.empty=function(){return m===0},this.clear=function(){m=0,b=h,p=[]},this.forEach=function(v){var g=0;p.forEach(function(x){x.forEach(function(A){v(A,g++)})})};var E=function(v){if(!(v>=c.maxSize)){b=v*2;var g=[];p.forEach(function(x,A){if(!x.empty()){if(x instanceof u.default&&x.size()===1){var I=x.front();if(I===void 0)throw new Error("unknown error");g[f(I)&b-1]=new u.default([I])}else if(x instanceof a.default){var B=new u.default,j=new u.default;x.forEach(function(y){var C=f(y);C&v?j.pushBack(y):B.pushBack(y)}),B.size()>c.untreeifyThreshold?g[A]=new a.default(B):B.size()&&(g[A]=B),j.size()>c.untreeifyThreshold?g[A+v]=new a.default(j):j.size()&&(g[A+v]=j)}else{var U=new u.default,K=new u.default;x.forEach(function(y){var C=f(y);C&v?K.pushBack(y):U.pushBack(y)}),U.size()&&(g[A]=U),K.size()&&(g[A+v]=K)}p[A].clear()}}),p=g}};this.insert=function(v){if(v==null)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");var g=f(v)&b-1;if(!p[g])p[g]=new u.default([v]),++m;else{var x=p[g].size();if(p[g]instanceof u.default){if(p[g].find(v))return;p[g].pushBack(v),p[g].size()>=c.treeifyThreshold&&(p[g]=new a.default(p[g]))}else p[g].insert(v);var A=p[g].size();m+=A-x}m>b*c.sigma&&E.call(this,b)},this.eraseElementByValue=function(v){var g=f(v)&b-1;if(p[g]){var x=p[g].size();p[g].eraseElementByValue(v),p[g]instanceof a.default&&p[g].size()<=c.untreeifyThreshold&&(p[g]=new u.default(p[g]));var A=p[g].size();m+=A-x}},this.find=function(v){var g=f(v)&b-1;return p[g]?p[g].find(v):!1},this[Symbol.iterator]=function(){return function(){var v,g,x,A,I,B,j;return i(this,function(U){switch(U.label){case 0:v=0,U.label=1;case 1:if(!(v<b))return[3,10];for(;v<b&&!p[v];)++v;if(v>=b)return[3,10];U.label=2;case 2:U.trys.push([2,7,8,9]),g=(B=void 0,s(p[v])),x=g.next(),U.label=3;case 3:return x.done?[3,6]:(A=x.value,[4,A]);case 4:U.sent(),U.label=5;case 5:return x=g.next(),[3,3];case 6:return[3,9];case 7:return I=U.sent(),B={error:I},[3,9];case 8:try{x&&!x.done&&(j=g.return)&&j.call(g)}finally{if(B)throw B.error}return[7];case 9:return++v,[3,1];case 10:return[2]}})}()},l.forEach(function(v){return d.insert(v)}),Object.freeze(this)}Object.freeze(c),o.default=c},{"../LinkList/LinkList":29,"../Set/Set":33}],29:[function(n,r,o){var i=this&&this.__generator||function(u,c){var l={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},h,f,d,m;return m={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function p(E){return function(v){return b([E,v])}}function b(E){if(h)throw new TypeError("Generator is already executing.");for(;l;)try{if(h=1,f&&(d=E[0]&2?f.return:E[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,E[1])).done)return d;switch(f=0,d&&(E=[E[0]&2,d.value]),E[0]){case 0:case 1:d=E;break;case 4:return l.label++,{value:E[1],done:!1};case 5:l.label++,f=E[1],E=[0];continue;case 7:E=l.ops.pop(),l.trys.pop();continue;default:if(d=l.trys,!(d=d.length>0&&d[d.length-1])&&(E[0]===6||E[0]===2)){l=0;continue}if(E[0]===3&&(!d||E[1]>d[0]&&E[1]<d[3])){l.label=E[1];break}if(E[0]===6&&l.label<d[1]){l.label=d[1],d=E;break}if(d&&l.label<d[2]){l.label=d[2],l.ops.push(E);break}d[2]&&l.ops.pop(),l.trys.pop();continue}E=c.call(u,l)}catch(v){E=[6,v],f=0}finally{h=d=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=function(){function u(c){this.value=void 0,this.pre=void 0,this.next=void 0,this.value=c}return u}();function a(u){var c=this;u===void 0&&(u=[]);var l=0,h=void 0,f=void 0;this.size=function(){return l},this.empty=function(){return l===0},this.clear=function(){h=f=void 0,l=0},this.front=function(){return h==null?void 0:h.value},this.back=function(){return f==null?void 0:f.value},this.forEach=function(d){for(var m=h,p=0;m;){if(m.value===void 0)throw new Error("unknown error");d(m.value,p++),m=m.next}},this.getElementByPos=function(d){if(d<0||d>=l)throw new Error("pos must more then 0 and less then the list length");for(var m=h;d--&&m;)m=m.next;if(!m||m.value===void 0)throw new Error("unknown error");return m.value},this.eraseElementByPos=function(d){if(d<0||d>=l)throw new Error("erase pos must more then 0 and less then the list length");if(d===0)this.popFront();else if(d===l-1)this.popBack();else{for(var m=h;d--;){if(!(m!=null&&m.next))throw new Error("unknown error");m=m.next}if(!m||!m.pre||!m.next)throw new Error("unknown error");var p=m.pre,b=m.next;b.pre=p,p.next=b,l>0&&--l}},this.eraseElementByValue=function(d){for(;h&&h.value===d;)this.popFront();for(;f&&f.value===d;)this.popBack();if(h)for(var m=h;m;){if(m.value===d){var p=m.pre,b=m.next;b&&(b.pre=p),p&&(p.next=b),l>0&&--l}m=m.next}},this.pushBack=function(d){if(d==null)throw new Error("you can't push null or undefined here");++l;var m=new s(d);f?(f.next=m,m.pre=f,f=m):h=f=m},this.popBack=function(){f&&(l>0&&--l,f&&(h===f?h=f=void 0:(f=f.pre,f&&(f.next=void 0))))},this.setElementByPos=function(d,m){if(m==null)throw new Error("you can't set null or undefined here");if(d<0||d>=l)throw new Error("pos must more then 0 and less then the list length");for(var p=h;d--;){if(!p)throw new Error("unknown error");p=p.next}p&&(p.value=m)},this.insert=function(d,m,p){if(p===void 0&&(p=1),m==null)throw new Error("you can't insert null or undefined here");if(d<0||d>l)throw new Error("insert pos must more then 0 and less then or equal to the list length");if(p<0)throw new Error("insert size must more than 0");if(d===0)for(;p--;)this.pushFront(m);else if(d===l)for(;p--;)this.pushBack(m);else{for(var b=h,E=1;E<d;++E){if(!(b!=null&&b.next))throw new Error("unknown error");b=b==null?void 0:b.next}if(!b)throw new Error("unknown error");var v=b.next;for(l+=p;p--;)b.next=new s(m),b.next.pre=b,b=b.next;b.next=v,v&&(v.pre=b)}},this.find=function(d){for(var m=h;m;){if(m.value===d)return!0;m=m.next}return!1},this.reverse=function(){for(var d=h,m=f,p=0;d&&m&&p*2<l;){var b=d.value;d.value=m.value,m.value=b,d=d.next,m=m.pre,++p}},this.unique=function(){for(var d=h;d;){for(var m=d;m&&m.next&&m.value===m.next.value;)m=m.next,l>0&&--l;d.next=m.next,d.next&&(d.next.pre=d),d=d.next}},this.sort=function(d){var m=[];this.forEach(function(b){m.push(b)}),m.sort(d);var p=h;m.forEach(function(b){p&&(p.value=b,p=p.next)})},this.pushFront=function(d){if(d==null)throw new Error("you can't push null or undefined here");++l;var m=new s(d);h?(m.next=h,h.pre=m,h=m):h=f=m},this.popFront=function(){h&&(l>0&&--l,h&&(h===f?h=f=void 0:(h=h.next,h&&(h.pre=void 0))))},this.merge=function(d){var m=this,p=h;d.forEach(function(b){for(;p&&p.value!==void 0&&p.value<=b;)p=p.next;if(p===void 0)m.pushBack(b),p=f;else if(p===h)m.pushFront(b),p=h;else{++l;var E=p.pre;E&&(E.next=new s(b),E.next.pre=E,E.next.next=p,p&&(p.pre=E.next))}})},this[Symbol.iterator]=function(){return function(){var d;return i(this,function(m){switch(m.label){case 0:d=h,m.label=1;case 1:if(d===void 0)return[3,3];if(!d.value)throw new Error("unknown error");return[4,d.value];case 2:return m.sent(),d=d.next,[3,1];case 3:return[2]}})}()},u.forEach(function(d){return c.pushBack(d)}),Object.freeze(this)}Object.freeze(a),o.default=a},{}],30:[function(n,r,o){var i=this&&this.__generator||function(c,l){var h={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},f,d,m,p;return p={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function b(v){return function(g){return E([v,g])}}function E(v){if(f)throw new TypeError("Generator is already executing.");for(;h;)try{if(f=1,d&&(m=v[0]&2?d.return:v[0]?d.throw||((m=d.return)&&m.call(d),0):d.next)&&!(m=m.call(d,v[1])).done)return m;switch(d=0,m&&(v=[v[0]&2,m.value]),v[0]){case 0:case 1:m=v;break;case 4:return h.label++,{value:v[1],done:!1};case 5:h.label++,d=v[1],v=[0];continue;case 7:v=h.ops.pop(),h.trys.pop();continue;default:if(m=h.trys,!(m=m.length>0&&m[m.length-1])&&(v[0]===6||v[0]===2)){h=0;continue}if(v[0]===3&&(!m||v[1]>m[0]&&v[1]<m[3])){h.label=v[1];break}if(v[0]===6&&h.label<m[1]){h.label=m[1],m=v;break}if(m&&h.label<m[2]){h.label=m[2],h.ops.push(v);break}m[2]&&h.ops.pop(),h.trys.pop();continue}v=l.call(c,h)}catch(g){v=[6,g],d=0}finally{f=m=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},s=this&&this.__values||function(c){var l=typeof Symbol=="function"&&Symbol.iterator,h=l&&c[l],f=0;if(h)return h.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&f>=c.length&&(c=void 0),{value:c&&c[f++],done:!c}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var a=n("../Base/TreeNode");function u(c,l){var h=this;c===void 0&&(c=[]),l=l||function(y,C){return y<C?-1:y>C?1:0};var f=0,d=new a.default;d.color=a.default.TreeNodeColorType.black,this.size=function(){return f},this.empty=function(){return f===0},this.clear=function(){f=0,d.key=d.value=void 0,d.leftChild=d.rightChild=d.brother=void 0};var m=function(y){if(!y||y.key===void 0)throw new Error("unknown error");return y.leftChild?m(y.leftChild):y},p=function(y){if(!y||y.key===void 0)throw new Error("unknown error");return y.rightChild?p(y.rightChild):y};this.front=function(){if(!this.empty()){var y=m(d);if(y.key===void 0||y.value===void 0)throw new Error("unknown error");return{key:y.key,value:y.value}}},this.back=function(){if(!this.empty()){var y=p(d);if(y.key===void 0||y.value===void 0)throw new Error("unknown error");return{key:y.key,value:y.value}}},this.forEach=function(y){var C,S,z=0;try{for(var X=s(this),G=X.next();!G.done;G=X.next()){var J=G.value;y(J,z++)}}catch(R){C={error:R}}finally{try{G&&!G.done&&(S=X.return)&&S.call(X)}finally{if(C)throw C.error}}},this.getElementByPos=function(y){var C,S;if(y<0||y>=this.size())throw new Error("pos must more than 0 and less than set's size");var z=0;try{for(var X=s(this),G=X.next();!G.done;G=X.next()){var J=G.value;if(z===y)return J;++z}}catch(R){C={error:R}}finally{try{G&&!G.done&&(S=X.return)&&S.call(X)}finally{if(C)throw C.error}}throw new Error("unknown Error")};var b=function(y,C){if(!(!y||y.key===void 0||y.value===void 0)){var S=l(y.key,C);return S===0?{key:y.key,value:y.value}:S<0?b(y.rightChild,C):b(y.leftChild,C)||{key:y.key,value:y.value}}};this.lowerBound=function(y){return b(d,y)};var E=function(y,C){if(!(!y||y.key===void 0||y.value===void 0)){var S=l(y.key,C);return S<=0?E(y.rightChild,C):E(y.leftChild,C)||{key:y.key,value:y.value}}};this.upperBound=function(y){return E(d,y)};var v=function(y,C){if(!(!y||y.key===void 0||y.value===void 0)){var S=l(y.key,C);return S===0?{key:y.key,value:y.value}:S>0?v(y.leftChild,C):v(y.rightChild,C)||{key:y.key,value:y.value}}};this.reverseLowerBound=function(y){return v(d,y)};var g=function(y,C){if(!(!y||y.key===void 0||y.value===void 0)){var S=l(y.key,C);return S>=0?g(y.leftChild,C):g(y.rightChild,C)||{key:y.key,value:y.value}}};this.reverseUpperBound=function(y){return g(d,y)};var x=function(y){var C=y.parent;if(!C){if(y===d)return;throw new Error("unknown error")}if(y.color===a.default.TreeNodeColorType.red){y.color=a.default.TreeNodeColorType.black;return}var S=y.brother;if(!S)throw new Error("unknown error");if(y===C.leftChild){if(S.color===a.default.TreeNodeColorType.red){S.color=a.default.TreeNodeColorType.black,C.color=a.default.TreeNodeColorType.red;var z=C.rotateLeft();d===C&&(d=z),x(y)}else if(S.color===a.default.TreeNodeColorType.black)if(S.rightChild&&S.rightChild.color===a.default.TreeNodeColorType.red){S.color=C.color,C.color=a.default.TreeNodeColorType.black,S.rightChild&&(S.rightChild.color=a.default.TreeNodeColorType.black);var z=C.rotateLeft();d===C&&(d=z),y.color=a.default.TreeNodeColorType.black}else if((!S.rightChild||S.rightChild.color===a.default.TreeNodeColorType.black)&&S.leftChild&&S.leftChild.color===a.default.TreeNodeColorType.red){S.color=a.default.TreeNodeColorType.red,S.leftChild&&(S.leftChild.color=a.default.TreeNodeColorType.black);var z=S.rotateRight();d===S&&(d=z),x(y)}else(!S.leftChild||S.leftChild.color===a.default.TreeNodeColorType.black)&&(!S.rightChild||S.rightChild.color===a.default.TreeNodeColorType.black)&&(S.color=a.default.TreeNodeColorType.red,x(C))}else if(y===C.rightChild){if(S.color===a.default.TreeNodeColorType.red){S.color=a.default.TreeNodeColorType.black,C.color=a.default.TreeNodeColorType.red;var z=C.rotateRight();d===C&&(d=z),x(y)}else if(S.color===a.default.TreeNodeColorType.black)if(S.leftChild&&S.leftChild.color===a.default.TreeNodeColorType.red){S.color=C.color,C.color=a.default.TreeNodeColorType.black,S.leftChild&&(S.leftChild.color=a.default.TreeNodeColorType.black);var z=C.rotateRight();d===C&&(d=z),y.color=a.default.TreeNodeColorType.black}else if((!S.leftChild||S.leftChild.color===a.default.TreeNodeColorType.black)&&S.rightChild&&S.rightChild.color===a.default.TreeNodeColorType.red){S.color=a.default.TreeNodeColorType.red,S.rightChild&&(S.rightChild.color=a.default.TreeNodeColorType.black);var z=S.rotateLeft();d===S&&(d=z),x(y)}else(!S.leftChild||S.leftChild.color===a.default.TreeNodeColorType.black)&&(!S.rightChild||S.rightChild.color===a.default.TreeNodeColorType.black)&&(S.color=a.default.TreeNodeColorType.red,x(C))}},A=function(y){for(var C=y;C.leftChild||C.rightChild;){if(C.rightChild){C=m(C.rightChild);var S=y.key;y.key=C.key,C.key=S;var z=y.value;y.value=C.value,C.value=z,y=C}if(C.leftChild){C=p(C.leftChild);var S=y.key;y.key=C.key,C.key=S;var z=y.value;y.value=C.value,C.value=z,y=C}}x(C),C&&C.remove(),--f,d.color=a.default.TreeNodeColorType.black},I=function(y,C){if(!y||y.key===void 0)return!1;var S=I(y.leftChild,C);return S||C(y)?!0:I(y.rightChild,C)};this.eraseElementByPos=function(y){if(y<0||y>=f)throw new Error("pos must more than 0 and less than set's size");var C=0;I(d,function(S){return y===C?(A(S),!0):(++C,!1)})},this.eraseElementByKey=function(y){if(!this.empty()){var C=U(d,y);C===void 0||C.key===void 0||l(C.key,y)!==0||A(C)}};var B=function(y,C){if(!y||y.key===void 0)throw new Error("unknown error");var S=l(C,y.key);return S<0?y.leftChild?B(y.leftChild,C):(y.leftChild=new a.default,y.leftChild.parent=y,y.leftChild.brother=y.rightChild,y.rightChild&&(y.rightChild.brother=y.leftChild),y.leftChild):S>0?y.rightChild?B(y.rightChild,C):(y.rightChild=new a.default,y.rightChild.parent=y,y.rightChild.brother=y.leftChild,y.leftChild&&(y.leftChild.brother=y.rightChild),y.rightChild):y},j=function(y){var C=y.parent;if(!C){if(y===d)return;throw new Error("unknown error")}if(C.color!==a.default.TreeNodeColorType.black&&C.color===a.default.TreeNodeColorType.red){var S=C.brother,z=C.parent;if(!z)throw new Error("unknown error");if(S&&S.color===a.default.TreeNodeColorType.red)S.color=C.color=a.default.TreeNodeColorType.black,z.color=a.default.TreeNodeColorType.red,j(z);else if(!S||S.color===a.default.TreeNodeColorType.black){if(C===z.leftChild){if(y===C.leftChild){C.color=a.default.TreeNodeColorType.black,z.color=a.default.TreeNodeColorType.red;var X=z.rotateRight();z===d&&(d=X)}else if(y===C.rightChild){var X=C.rotateLeft();z===d&&(d=X),j(C)}}else if(C===z.rightChild){if(y===C.leftChild){var X=C.rotateRight();z===d&&(d=X),j(C)}else if(y===C.rightChild){C.color=a.default.TreeNodeColorType.black,z.color=a.default.TreeNodeColorType.red;var X=z.rotateLeft();z===d&&(d=X)}}}}};this.setElement=function(y,C){if(y==null)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(C==null){this.eraseElementByKey(y);return}if(this.empty()){++f,d.key=y,d.value=C,d.color=a.default.TreeNodeColorType.black;return}var S=B(d,y);if(S.key!==void 0&&l(S.key,y)===0){S.value=C;return}++f,S.key=y,S.value=C,j(S),d.color=a.default.TreeNodeColorType.black};var U=function(y,C){if(!(!y||y.key===void 0)){var S=l(C,y.key);return S<0?U(y.leftChild,C):S>0?U(y.rightChild,C):y}};this.find=function(y){return!!U(d,y)},this.getElementByKey=function(y){var C=U(d,y);if((C==null?void 0:C.key)===void 0||(C==null?void 0:C.value)===void 0)throw new Error("unknown error");return C.value},this.union=function(y){var C=this;y.forEach(function(S){var z=S.key,X=S.value;return C.setElement(z,X)})},this.getHeight=function(){if(this.empty())return 0;var y=function(C){return C?Math.max(y(C.leftChild),y(C.rightChild))+1:1};return y(d)};var K=function(y){return i(this,function(C){switch(C.label){case 0:return!y||y.key===void 0||y.value===void 0?[2]:[5,s(K(y.leftChild))];case 1:return C.sent(),[4,{key:y.key,value:y.value}];case 2:return C.sent(),[5,s(K(y.rightChild))];case 3:return C.sent(),[2]}})};this[Symbol.iterator]=function(){return K(d)},c.forEach(function(y){var C=y.key,S=y.value;return h.setElement(C,S)}),Object.freeze(this)}Object.freeze(u),o.default=u},{"../Base/TreeNode":25}],31:[function(n,r,o){Object.defineProperty(o,"__esModule",{value:!0});function i(s,a){s===void 0&&(s=[]),a=a||function(f,d){return f>d?-1:f<d?1:0};var u=[];s.forEach(function(f){return u.push(f)});var c=u.length,l=function(f,d){if(f<0||f>=c)throw new Error("unknown error");if(d<0||d>=c)throw new Error("unknown error");var m=u[f];u[f]=u[d],u[d]=m},h=function(f){if(f<0||f>=c)throw new Error("unknown error");var d=f*2+1,m=f*2+2;d<c&&a(u[f],u[d])>0&&l(f,d),m<c&&a(u[f],u[m])>0&&l(f,m)};(function(){for(var f=Math.floor((c-1)/2);f>=0;--f)for(var d=f,m=d*2+1;m<c;){var p=m,b=p+1,E=p;if(b<c&&a(u[p],u[b])>0&&(E=b),a(u[d],u[E])<=0)break;l(d,E),d=E,m=d*2+1}})(),this.size=function(){return c},this.empty=function(){return c===0},this.clear=function(){c=0,u.length=0},this.push=function(f){if(u.push(f),++c,c!==1)for(var d=c-1;d>0;){var m=Math.floor((d-1)/2);if(a(u[m],f)<=0)break;h(m),d=m}},this.pop=function(){if(!this.empty()){if(this.size()===1){--c;return}var f=u[c-1];--c;for(var d=0;d<this.size();){var m=d*2+1,p=d*2+2;if(m>=this.size())break;var b=m;if(p<this.size()&&a(u[m],u[p])>0&&(b=p),a(u[b],f)>=0)break;u[d]=u[b],d=b}u[d]=f}},this.top=function(){return u[0]},Object.freeze(this)}Object.freeze(i),o.default=i},{}],32:[function(n,r,o){Object.defineProperty(o,"__esModule",{value:!0});var i=n("../LinkList/LinkList");function s(a){a===void 0&&(a=[]);var u=new i.default(a);this.size=function(){return u.size()},this.empty=function(){return u.empty()},this.clear=function(){u.clear()},this.push=function(c){u.pushBack(c)},this.pop=function(){u.popFront()},this.front=function(){return u.front()},Object.freeze(this)}Object.freeze(s),o.default=s},{"../LinkList/LinkList":29}],33:[function(n,r,o){var i=this&&this.__generator||function(c,l){var h={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},f,d,m,p;return p={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function b(v){return function(g){return E([v,g])}}function E(v){if(f)throw new TypeError("Generator is already executing.");for(;h;)try{if(f=1,d&&(m=v[0]&2?d.return:v[0]?d.throw||((m=d.return)&&m.call(d),0):d.next)&&!(m=m.call(d,v[1])).done)return m;switch(d=0,m&&(v=[v[0]&2,m.value]),v[0]){case 0:case 1:m=v;break;case 4:return h.label++,{value:v[1],done:!1};case 5:h.label++,d=v[1],v=[0];continue;case 7:v=h.ops.pop(),h.trys.pop();continue;default:if(m=h.trys,!(m=m.length>0&&m[m.length-1])&&(v[0]===6||v[0]===2)){h=0;continue}if(v[0]===3&&(!m||v[1]>m[0]&&v[1]<m[3])){h.label=v[1];break}if(v[0]===6&&h.label<m[1]){h.label=m[1],m=v;break}if(m&&h.label<m[2]){h.label=m[2],h.ops.push(v);break}m[2]&&h.ops.pop(),h.trys.pop();continue}v=l.call(c,h)}catch(g){v=[6,g],d=0}finally{f=m=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},s=this&&this.__values||function(c){var l=typeof Symbol=="function"&&Symbol.iterator,h=l&&c[l],f=0;if(h)return h.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&f>=c.length&&(c=void 0),{value:c&&c[f++],done:!c}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var a=n("../Base/TreeNode");function u(c,l){var h=this;c===void 0&&(c=[]),l=l||function(y,C){return y<C?-1:y>C?1:0};var f=0,d=new a.default;d.color=a.default.TreeNodeColorType.black,this.size=function(){return f},this.empty=function(){return f===0},this.clear=function(){f=0,d.key=void 0,d.leftChild=d.rightChild=d.brother=d.parent=void 0,d.color=a.default.TreeNodeColorType.black};var m=function(y){if(!y||y.key===void 0)throw new Error("unknown error");return y.leftChild?m(y.leftChild):y},p=function(y){if(!y||y.key===void 0)throw new Error("unknown error");return y.rightChild?p(y.rightChild):y};this.front=function(){if(!this.empty()){var y=m(d);return y.key}},this.back=function(){if(!this.empty()){var y=p(d);return y.key}},this.forEach=function(y){var C,S,z=0;try{for(var X=s(this),G=X.next();!G.done;G=X.next()){var J=G.value;y(J,z++)}}catch(R){C={error:R}}finally{try{G&&!G.done&&(S=X.return)&&S.call(X)}finally{if(C)throw C.error}}},this.getElementByPos=function(y){var C,S;if(y<0||y>=this.size())throw new Error("pos must more than 0 and less than set's size");var z=0;try{for(var X=s(this),G=X.next();!G.done;G=X.next()){var J=G.value;if(z===y)return J;++z}}catch(R){C={error:R}}finally{try{G&&!G.done&&(S=X.return)&&S.call(X)}finally{if(C)throw C.error}}throw new Error("unknown error")};var b=function(y){var C=y.parent;if(!C){if(y===d)return;throw new Error("unknown error")}if(y.color===a.default.TreeNodeColorType.red){y.color=a.default.TreeNodeColorType.black;return}var S=y.brother;if(!S)throw new Error("unknown error");if(y===C.leftChild){if(S.color===a.default.TreeNodeColorType.red){S.color=a.default.TreeNodeColorType.black,C.color=a.default.TreeNodeColorType.red;var z=C.rotateLeft();d===C&&(d=z),b(y)}else if(S.color===a.default.TreeNodeColorType.black)if(S.rightChild&&S.rightChild.color===a.default.TreeNodeColorType.red){S.color=C.color,C.color=a.default.TreeNodeColorType.black,S.rightChild&&(S.rightChild.color=a.default.TreeNodeColorType.black);var z=C.rotateLeft();d===C&&(d=z),y.color=a.default.TreeNodeColorType.black}else if((!S.rightChild||S.rightChild.color===a.default.TreeNodeColorType.black)&&S.leftChild&&S.leftChild.color===a.default.TreeNodeColorType.red){S.color=a.default.TreeNodeColorType.red,S.leftChild&&(S.leftChild.color=a.default.TreeNodeColorType.black);var z=S.rotateRight();d===S&&(d=z),b(y)}else(!S.leftChild||S.leftChild.color===a.default.TreeNodeColorType.black)&&(!S.rightChild||S.rightChild.color===a.default.TreeNodeColorType.black)&&(S.color=a.default.TreeNodeColorType.red,b(C))}else if(y===C.rightChild){if(S.color===a.default.TreeNodeColorType.red){S.color=a.default.TreeNodeColorType.black,C.color=a.default.TreeNodeColorType.red;var z=C.rotateRight();d===C&&(d=z),b(y)}else if(S.color===a.default.TreeNodeColorType.black)if(S.leftChild&&S.leftChild.color===a.default.TreeNodeColorType.red){S.color=C.color,C.color=a.default.TreeNodeColorType.black,S.leftChild&&(S.leftChild.color=a.default.TreeNodeColorType.black);var z=C.rotateRight();d===C&&(d=z),y.color=a.default.TreeNodeColorType.black}else if((!S.leftChild||S.leftChild.color===a.default.TreeNodeColorType.black)&&S.rightChild&&S.rightChild.color===a.default.TreeNodeColorType.red){S.color=a.default.TreeNodeColorType.red,S.rightChild&&(S.rightChild.color=a.default.TreeNodeColorType.black);var z=S.rotateLeft();d===S&&(d=z),b(y)}else(!S.leftChild||S.leftChild.color===a.default.TreeNodeColorType.black)&&(!S.rightChild||S.rightChild.color===a.default.TreeNodeColorType.black)&&(S.color=a.default.TreeNodeColorType.red,b(C))}},E=function(y){for(var C=y;C.leftChild||C.rightChild;){if(C.rightChild){C=m(C.rightChild);var S=y.key;y.key=C.key,C.key=S,y=C}if(C.leftChild){C=p(C.leftChild);var S=y.key;y.key=C.key,C.key=S,y=C}}b(C),C&&C.remove(),--f,d.color=a.default.TreeNodeColorType.black},v=function(y,C){if(!y||y.key===void 0)return!1;var S=v(y.leftChild,C);return S||C(y)?!0:v(y.rightChild,C)};this.eraseElementByPos=function(y){if(y<0||y>=f)throw new Error("pos must more than 0 and less than set's size");var C=0;v(d,function(S){return y===C?(E(S),!0):(++C,!1)})},this.eraseElementByValue=function(y){if(!this.empty()){var C=A(d,y);C===void 0||C.key===void 0||l(C.key,y)!==0||E(C)}};var g=function(y,C){if(!y||y.key===void 0)throw new Error("unknown error");var S=l(C,y.key);return S<0?y.leftChild?g(y.leftChild,C):(y.leftChild=new a.default,y.leftChild.parent=y,y.leftChild.brother=y.rightChild,y.rightChild&&(y.rightChild.brother=y.leftChild),y.leftChild):S>0?y.rightChild?g(y.rightChild,C):(y.rightChild=new a.default,y.rightChild.parent=y,y.rightChild.brother=y.leftChild,y.leftChild&&(y.leftChild.brother=y.rightChild),y.rightChild):y},x=function(y){var C=y.parent;if(!C){if(y===d)return;throw new Error("unknown error")}if(C.color!==a.default.TreeNodeColorType.black&&C.color===a.default.TreeNodeColorType.red){var S=C.brother,z=C.parent;if(!z)throw new Error("unknown error");if(S&&S.color===a.default.TreeNodeColorType.red)S.color=C.color=a.default.TreeNodeColorType.black,z.color=a.default.TreeNodeColorType.red,x(z);else if(!S||S.color===a.default.TreeNodeColorType.black){if(C===z.leftChild){if(y===C.leftChild){C.color=a.default.TreeNodeColorType.black,z.color=a.default.TreeNodeColorType.red;var X=z.rotateRight();z===d&&(d=X)}else if(y===C.rightChild){var X=C.rotateLeft();z===d&&(d=X),x(C)}}else if(C===z.rightChild){if(y===C.leftChild){var X=C.rotateRight();z===d&&(d=X),x(C)}else if(y===C.rightChild){C.color=a.default.TreeNodeColorType.black,z.color=a.default.TreeNodeColorType.red;var X=z.rotateLeft();z===d&&(d=X)}}}}};this.insert=function(y){if(y==null)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(this.empty()){++f,d.key=y,d.color=a.default.TreeNodeColorType.black;return}var C=g(d,y);C.key!==void 0&&l(C.key,y)===0||(++f,C.key=y,x(C),d.color=a.default.TreeNodeColorType.black)};var A=function(y,C){if(!(!y||y.key===void 0)){var S=l(C,y.key);return S<0?A(y.leftChild,C):S>0?A(y.rightChild,C):y}};this.find=function(y){var C=A(d,y);return C!==void 0&&C.key!==void 0&&l(C.key,y)===0};var I=function(y,C){if(!(!y||y.key===void 0)){var S=l(y.key,C);if(S===0)return y.key;if(S<0)return I(y.rightChild,C);var z=I(y.leftChild,C);return z!==void 0?z:y.key}};this.lowerBound=function(y){return I(d,y)};var B=function(y,C){if(!(!y||y.key===void 0)){var S=l(y.key,C);if(S<=0)return B(y.rightChild,C);var z=B(y.leftChild,C);return z!==void 0?z:y.key}};this.upperBound=function(y){return B(d,y)};var j=function(y,C){if(!(!y||y.key===void 0)){var S=l(y.key,C);if(S===0)return y.key;if(S>0)return j(y.leftChild,C);var z=j(y.rightChild,C);return z!==void 0?z:y.key}};this.reverseLowerBound=function(y){return j(d,y)};var U=function(y,C){if(!(!y||y.key===void 0)){var S=l(y.key,C);if(S>=0)return U(y.leftChild,C);var z=U(y.rightChild,C);return z!==void 0?z:y.key}};this.reverseUpperBound=function(y){return U(d,y)},this.union=function(y){var C=this;y.forEach(function(S){return C.insert(S)})},this.getHeight=function(){if(this.empty())return 0;var y=function(C){return C?Math.max(y(C.leftChild),y(C.rightChild))+1:1};return y(d)};var K=function(y){return i(this,function(C){switch(C.label){case 0:return!y||y.key===void 0?[2]:[5,s(K(y.leftChild))];case 1:return C.sent(),[4,y.key];case 2:return C.sent(),[5,s(K(y.rightChild))];case 3:return C.sent(),[2]}})};this[Symbol.iterator]=function(){return K(d)},c.forEach(function(y){return h.insert(y)}),Object.freeze(this)}Object.freeze(u),o.default=u},{"../Base/TreeNode":25}],34:[function(n,r,o){Object.defineProperty(o,"__esModule",{value:!0});function i(s){var a=this;s===void 0&&(s=[]);var u=0,c=[];this.size=function(){return u},this.empty=function(){return u===0},this.clear=function(){u=0,c.length=0},this.push=function(l){c.push(l),++u},this.pop=function(){c.pop(),u>0&&--u},this.top=function(){return c[u-1]},s.forEach(function(l){return a.push(l)}),Object.freeze(this)}Object.freeze(i),o.default=i},{}],35:[function(n,r,o){var i=this&&this.__generator||function(l,h){var f={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},d,m,p,b;return b={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function E(g){return function(x){return v([g,x])}}function v(g){if(d)throw new TypeError("Generator is already executing.");for(;f;)try{if(d=1,m&&(p=g[0]&2?m.return:g[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,g[1])).done)return p;switch(m=0,p&&(g=[g[0]&2,p.value]),g[0]){case 0:case 1:p=g;break;case 4:return f.label++,{value:g[1],done:!1};case 5:f.label++,m=g[1],g=[0];continue;case 7:g=f.ops.pop(),f.trys.pop();continue;default:if(p=f.trys,!(p=p.length>0&&p[p.length-1])&&(g[0]===6||g[0]===2)){f=0;continue}if(g[0]===3&&(!p||g[1]>p[0]&&g[1]<p[3])){f.label=g[1];break}if(g[0]===6&&f.label<p[1]){f.label=p[1],p=g;break}if(p&&f.label<p[2]){f.label=p[2],f.ops.push(g);break}p[2]&&f.ops.pop(),f.trys.pop();continue}g=h.call(l,f)}catch(x){g=[6,x],m=0}finally{d=p=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},s=this&&this.__read||function(l,h){var f=typeof Symbol=="function"&&l[Symbol.iterator];if(!f)return l;var d=f.call(l),m,p=[],b;try{for(;(h===void 0||h-- >0)&&!(m=d.next()).done;)p.push(m.value)}catch(E){b={error:E}}finally{try{m&&!m.done&&(f=d.return)&&f.call(d)}finally{if(b)throw b.error}}return p},a=this&&this.__spreadArray||function(l,h,f){if(f||arguments.length===2)for(var d=0,m=h.length,p;d<m;d++)(p||!(d in h))&&(p||(p=Array.prototype.slice.call(h,0,d)),p[d]=h[d]);return l.concat(p||Array.prototype.slice.call(h))},u=this&&this.__values||function(l){var h=typeof Symbol=="function"&&Symbol.iterator,f=h&&l[h],d=0;if(f)return f.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&d>=l.length&&(l=void 0),{value:l&&l[d++],done:!l}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});function c(l){var h=this;l===void 0&&(l=[]);var f=0,d=[];this.size=function(){return f},this.empty=function(){return f===0},this.clear=function(){f=0,d.length=0},this.front=function(){if(!this.empty())return d[0]},this.back=function(){if(!this.empty())return d[f-1]},this.forEach=function(m){d.forEach(m)},this.getElementByPos=function(m){if(m<0||m>=f)throw new Error("pos must more than 0 and less than vector's size");return d[m]},this.eraseElementByPos=function(m){if(m<0||m>=f)throw new Error("pos must more than 0 and less than vector's size");for(var p=m;p<f-1;++p)d[p]=d[p+1];this.popBack()},this.eraseElementByValue=function(m){var p=[];this.forEach(function(E){E!==m&&p.push(E)}),p.forEach(function(E,v){d[v]=E});for(var b=p.length;f>b;)this.popBack()},this.pushBack=function(m){d.push(m),++f},this.popBack=function(){d.pop(),f>0&&--f},this.setElementByPos=function(m,p){if(m<0||m>=f)throw new Error("pos must more than 0 and less than vector's size");d[m]=p},this.insert=function(m,p,b){if(b===void 0&&(b=1),m<0||m>f)throw new Error("pos must more than 0 and less than or equal to vector's size");d.splice.apply(d,a([m,0],s(new Array(b).fill(p)),!1)),f+=b},this.find=function(m){return d.includes(m)},this.reverse=function(){d.reverse()},this.unique=function(){var m,p=[];this.forEach(function(E,v){(v===0||E!==m)&&(p.push(E),m=E)}),p.forEach(function(E,v){d[v]=E});for(var b=p.length;f>b;)this.popBack()},this.sort=function(m){d.sort(m)},this[Symbol.iterator]=function(){return function(){return i(this,function(m){switch(m.label){case 0:return[5,u(d)];case 1:return[2,m.sent()]}})}()},l.forEach(function(m){return h.pushBack(m)}),Object.freeze(this)}Object.freeze(c),o.default=c},{}],36:[function(n,r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.HashMap=o.HashSet=o.Map=o.Set=o.PriorityQueue=o.Deque=o.LinkList=o.Queue=o.Stack=o.Vector=void 0;var i=n("./Vector/Vector");o.Vector=i.default;var s=n("./Stack/Stack");o.Stack=s.default;var a=n("./Queue/Queue");o.Queue=a.default;var u=n("./LinkList/LinkList");o.LinkList=u.default;var c=n("./Deque/Deque");o.Deque=c.default;var l=n("./PriorityQueue/PriorityQueue");o.PriorityQueue=l.default;var h=n("./Set/Set");o.Set=h.default;var f=n("./Map/Map");o.Map=f.default;var d=n("./HashSet/HashSet");o.HashSet=d.default;var m=n("./HashMap/HashMap");o.HashMap=m.default},{"./Deque/Deque":26,"./HashMap/HashMap":27,"./HashSet/HashSet":28,"./LinkList/LinkList":29,"./Map/Map":30,"./PriorityQueue/PriorityQueue":31,"./Queue/Queue":32,"./Set/Set":33,"./Stack/Stack":34,"./Vector/Vector":35}],37:[function(n,r,o){const i=n("yallist"),s=Symbol("max"),a=Symbol("length"),u=Symbol("lengthCalculator"),c=Symbol("allowStale"),l=Symbol("maxAge"),h=Symbol("dispose"),f=Symbol("noDisposeOnSet"),d=Symbol("lruList"),m=Symbol("cache"),p=Symbol("updateAgeOnGet"),b=()=>1;class E{constructor(U){if(typeof U=="number"&&(U={max:U}),U||(U={}),U.max&&(typeof U.max!="number"||U.max<0))throw new TypeError("max must be a non-negative number");this[s]=U.max||1/0;const K=U.length||b;if(this[u]=typeof K!="function"?b:K,this[c]=U.stale||!1,U.maxAge&&typeof U.maxAge!="number")throw new TypeError("maxAge must be a number");this[l]=U.maxAge||0,this[h]=U.dispose,this[f]=U.noDisposeOnSet||!1,this[p]=U.updateAgeOnGet||!1,this.reset()}set max(U){if(typeof U!="number"||U<0)throw new TypeError("max must be a non-negative number");this[s]=U||1/0,x(this)}get max(){return this[s]}set allowStale(U){this[c]=!!U}get allowStale(){return this[c]}set maxAge(U){if(typeof U!="number")throw new TypeError("maxAge must be a non-negative number");this[l]=U,x(this)}get maxAge(){return this[l]}set lengthCalculator(U){typeof U!="function"&&(U=b),U!==this[u]&&(this[u]=U,this[a]=0,this[d].forEach(K=>{K.length=this[u](K.value,K.key),this[a]+=K.length})),x(this)}get lengthCalculator(){return this[u]}get length(){return this[a]}get itemCount(){return this[d].length}rforEach(U,K){K=K||this;for(let y=this[d].tail;y!==null;){const C=y.prev;B(this,U,y,K),y=C}}forEach(U,K){K=K||this;for(let y=this[d].head;y!==null;){const C=y.next;B(this,U,y,K),y=C}}keys(){return this[d].toArray().map(U=>U.key)}values(){return this[d].toArray().map(U=>U.value)}reset(){this[h]&&this[d]&&this[d].length&&this[d].forEach(U=>this[h](U.key,U.value)),this[m]=new Map,this[d]=new i,this[a]=0}dump(){return this[d].map(U=>g(this,U)?!1:{k:U.key,v:U.value,e:U.now+(U.maxAge||0)}).toArray().filter(U=>U)}dumpLru(){return this[d]}set(U,K,y){if(y=y||this[l],y&&typeof y!="number")throw new TypeError("maxAge must be a number");const C=y?Date.now():0,S=this[u](K,U);if(this[m].has(U)){if(S>this[s])return A(this,this[m].get(U)),!1;const G=this[m].get(U).value;return this[h]&&(this[f]||this[h](U,G.value)),G.now=C,G.maxAge=y,G.value=K,this[a]+=S-G.length,G.length=S,this.get(U),x(this),!0}const z=new I(U,K,S,C,y);return z.length>this[s]?(this[h]&&this[h](U,K),!1):(this[a]+=z.length,this[d].unshift(z),this[m].set(U,this[d].head),x(this),!0)}has(U){if(!this[m].has(U))return!1;const K=this[m].get(U).value;return!g(this,K)}get(U){return v(this,U,!0)}peek(U){return v(this,U,!1)}pop(){const U=this[d].tail;return U?(A(this,U),U.value):null}del(U){A(this,this[m].get(U))}load(U){this.reset();const K=Date.now();for(let y=U.length-1;y>=0;y--){const C=U[y],S=C.e||0;if(S===0)this.set(C.k,C.v);else{const z=S-K;z>0&&this.set(C.k,C.v,z)}}}prune(){this[m].forEach((U,K)=>v(this,K,!1))}}const v=(j,U,K)=>{const y=j[m].get(U);if(y){const C=y.value;if(g(j,C)){if(A(j,y),!j[c])return}else K&&(j[p]&&(y.value.now=Date.now()),j[d].unshiftNode(y));return C.value}},g=(j,U)=>{if(!U||!U.maxAge&&!j[l])return!1;const K=Date.now()-U.now;return U.maxAge?K>U.maxAge:j[l]&&K>j[l]},x=j=>{if(j[a]>j[s])for(let U=j[d].tail;j[a]>j[s]&&U!==null;){const K=U.prev;A(j,U),U=K}},A=(j,U)=>{if(U){const K=U.value;j[h]&&j[h](K.key,K.value),j[a]-=K.length,j[m].delete(K.key),j[d].removeNode(U)}};class I{constructor(U,K,y,C,S){this.key=U,this.value=K,this.length=y,this.now=C,this.maxAge=S||0}}const B=(j,U,K,y)=>{let C=K.value;g(j,C)&&(A(j,K),j[c]||(C=void 0)),C&&U.call(y,C.value,C.key,j)};r.exports=E},{yallist:83}],38:[function(n,r,o){(function(i){(function(){const s=r.exports;s.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},s.codes={};for(const u in s.types){const c=s.types[u];s.codes[c]=u}s.CMD_SHIFT=4,s.CMD_MASK=240,s.DUP_MASK=8,s.QOS_MASK=3,s.QOS_SHIFT=1,s.RETAIN_MASK=1,s.VARBYTEINT_MASK=127,s.VARBYTEINT_FIN_MASK=128,s.VARBYTEINT_MAX=268435455,s.SESSIONPRESENT_MASK=1,s.SESSIONPRESENT_HEADER=i.from([s.SESSIONPRESENT_MASK]),s.CONNACK_HEADER=i.from([s.codes.connack<<s.CMD_SHIFT]),s.USERNAME_MASK=128,s.PASSWORD_MASK=64,s.WILL_RETAIN_MASK=32,s.WILL_QOS_MASK=24,s.WILL_QOS_SHIFT=3,s.WILL_FLAG_MASK=4,s.CLEAN_SESSION_MASK=2,s.CONNECT_HEADER=i.from([s.codes.connect<<s.CMD_SHIFT]),s.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},s.propertiesCodes={};for(const u in s.properties){const c=s.properties[u];s.propertiesCodes[c]=u}s.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function a(u){return[0,1,2].map(c=>[0,1].map(l=>[0,1].map(h=>{const f=i.alloc(1);return f.writeUInt8(s.codes[u]<<s.CMD_SHIFT|(l?s.DUP_MASK:0)|c<<s.QOS_SHIFT|h,0,!0),f})))}s.PUBLISH_HEADER=a("publish"),s.SUBSCRIBE_HEADER=a("subscribe"),s.SUBSCRIBE_OPTIONS_QOS_MASK=3,s.SUBSCRIBE_OPTIONS_NL_MASK=1,s.SUBSCRIBE_OPTIONS_NL_SHIFT=2,s.SUBSCRIBE_OPTIONS_RAP_MASK=1,s.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,s.SUBSCRIBE_OPTIONS_RH_MASK=3,s.SUBSCRIBE_OPTIONS_RH_SHIFT=4,s.SUBSCRIBE_OPTIONS_RH=[0,16,32],s.SUBSCRIBE_OPTIONS_NL=4,s.SUBSCRIBE_OPTIONS_RAP=8,s.SUBSCRIBE_OPTIONS_QOS=[0,1,2],s.UNSUBSCRIBE_HEADER=a("unsubscribe"),s.ACKS={unsuback:a("unsuback"),puback:a("puback"),pubcomp:a("pubcomp"),pubrel:a("pubrel"),pubrec:a("pubrec")},s.SUBACK_HEADER=i.from([s.codes.suback<<s.CMD_SHIFT]),s.VERSION3=i.from([3]),s.VERSION4=i.from([4]),s.VERSION5=i.from([5]),s.VERSION131=i.from([131]),s.VERSION132=i.from([132]),s.QOS=[0,1,2].map(u=>i.from([u])),s.EMPTY={pingreq:i.from([s.codes.pingreq<<4,0]),pingresp:i.from([s.codes.pingresp<<4,0]),disconnect:i.from([s.codes.disconnect<<4,0])}}).call(this)}).call(this,n("buffer").Buffer)},{buffer:17}],39:[function(n,r,o){(function(i){(function(){const s=n("./writeToStream"),a=n("events");function u(l,h){const f=new c;return s(l,f,h),f.concat()}class c extends a{constructor(){super(),this._array=new Array(20),this._i=0}write(h){return this._array[this._i++]=h,!0}concat(){let h=0;const f=new Array(this._array.length),d=this._array;let m=0,p;for(p=0;p<d.length&&d[p]!==void 0;p++)typeof d[p]!="string"?f[p]=d[p].length:f[p]=i.byteLength(d[p]),h+=f[p];const b=i.allocUnsafe(h);for(p=0;p<d.length&&d[p]!==void 0;p++)typeof d[p]!="string"?(d[p].copy(b,m),m+=f[p]):(b.write(d[p],m),m+=f[p]);return b}}r.exports=u}).call(this)}).call(this,n("buffer").Buffer)},{"./writeToStream":44,buffer:17,events:22}],40:[function(n,r,o){o.parser=n("./parser").parser,o.generate=n("./generate"),o.writeToStream=n("./writeToStream")},{"./generate":39,"./parser":43,"./writeToStream":44}],41:[function(n,r,o){(function(i){(function(){const a={},u=i.isBuffer(i.from([1,2]).subarray(0,1));function c(d){const m=i.allocUnsafe(2);return m.writeUInt8(d>>8,0),m.writeUInt8(d&255,0+1),m}function l(){for(let d=0;d<65536;d++)a[d]=c(d)}function h(d){let p=0,b=0;const E=i.allocUnsafe(4);do p=d%128|0,d=d/128|0,d>0&&(p=p|128),E.writeUInt8(p,b++);while(d>0&&b<4);return d>0&&(b=0),u?E.subarray(0,b):E.slice(0,b)}function f(d){const m=i.allocUnsafe(4);return m.writeUInt32BE(d,0),m}r.exports={cache:a,generateCache:l,generateNumber:c,genBufVariableByteInt:h,generate4ByteBuffer:f}}).call(this)}).call(this,n("buffer").Buffer)},{buffer:17}],42:[function(n,r,o){class i{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}}r.exports=i},{}],43:[function(n,r,o){const i=n("bl"),s=n("events"),a=n("./packet"),u=n("./constants"),c=n("debug")("mqtt-packet:parser");class l extends s{constructor(){super(),this.parser=this.constructor.parser}static parser(f){return this instanceof l?(this.settings=f||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new l().parser(f)}_resetState(){c("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new a,this.error=null,this._list=i(),this._stateCounter=0}parse(f){for(this.error&&this._resetState(),this._list.append(f),c("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,c("parse: state complete. _stateCounter is now: %d",this._stateCounter),c("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return c("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){const f=this._list.readUInt8(0);return this.packet.cmd=u.types[f>>u.CMD_SHIFT],this.packet.retain=(f&u.RETAIN_MASK)!==0,this.packet.qos=f>>u.QOS_SHIFT&u.QOS_MASK,this.packet.dup=(f&u.DUP_MASK)!==0,c("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0}_parseLength(){const f=this._parseVarByteNum(!0);return f&&(this.packet.length=f.value,this._list.consume(f.bytes)),c("_parseLength %d",f.value),!!f}_parsePayload(){c("_parsePayload: payload %O",this._list);let f=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}f=!0}return c("_parsePayload complete result: %s",f),f}_parseConnect(){c("_parseConnect");let f,d,m,p;const b={},E=this.packet,v=this._parseString();if(v===null)return this._emitError(new Error("Cannot parse protocolId"));if(v!=="MQTT"&&v!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(E.protocolId=v,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(E.protocolVersion=this._list.readUInt8(this._pos),E.protocolVersion>=128&&(E.bridgeMode=!0,E.protocolVersion=E.protocolVersion-128),E.protocolVersion!==3&&E.protocolVersion!==4&&E.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(b.username=this._list.readUInt8(this._pos)&u.USERNAME_MASK,b.password=this._list.readUInt8(this._pos)&u.PASSWORD_MASK,b.will=this._list.readUInt8(this._pos)&u.WILL_FLAG_MASK,b.will&&(E.will={},E.will.retain=(this._list.readUInt8(this._pos)&u.WILL_RETAIN_MASK)!==0,E.will.qos=(this._list.readUInt8(this._pos)&u.WILL_QOS_MASK)>>u.WILL_QOS_SHIFT),E.clean=(this._list.readUInt8(this._pos)&u.CLEAN_SESSION_MASK)!==0,this._pos++,E.keepalive=this._parseNum(),E.keepalive===-1)return this._emitError(new Error("Packet too short"));if(E.protocolVersion===5){const x=this._parseProperties();Object.getOwnPropertyNames(x).length&&(E.properties=x)}const g=this._parseString();if(g===null)return this._emitError(new Error("Packet too short"));if(E.clientId=g,c("_parseConnect: packet.clientId: %s",E.clientId),b.will){if(E.protocolVersion===5){const x=this._parseProperties();Object.getOwnPropertyNames(x).length&&(E.will.properties=x)}if(f=this._parseString(),f===null)return this._emitError(new Error("Cannot parse will topic"));if(E.will.topic=f,c("_parseConnect: packet.will.topic: %s",E.will.topic),d=this._parseBuffer(),d===null)return this._emitError(new Error("Cannot parse will payload"));E.will.payload=d,c("_parseConnect: packet.will.paylaod: %s",E.will.payload)}if(b.username){if(p=this._parseString(),p===null)return this._emitError(new Error("Cannot parse username"));E.username=p,c("_parseConnect: packet.username: %s",E.username)}if(b.password){if(m=this._parseBuffer(),m===null)return this._emitError(new Error("Cannot parse password"));E.password=m}return this.settings=E,c("_parseConnect: complete"),E}_parseConnack(){c("_parseConnack");const f=this.packet;if(this._list.length<1)return null;if(f.sessionPresent=!!(this._list.readUInt8(this._pos++)&u.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?f.reasonCode=this._list.readUInt8(this._pos++):f.reasonCode=0;else{if(this._list.length<2)return null;f.returnCode=this._list.readUInt8(this._pos++)}if(f.returnCode===-1||f.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){const d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(f.properties=d)}c("_parseConnack: complete")}_parsePublish(){c("_parsePublish");const f=this.packet;if(f.topic=this._parseString(),f.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(f.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){const d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(f.properties=d)}f.payload=this._list.slice(this._pos,f.length),c("_parsePublish: payload from buffer list: %o",f.payload)}}_parseSubscribe(){c("_parseSubscribe");const f=this.packet;let d,m,p,b,E,v,g;if(f.qos!==1)return this._emitError(new Error("Wrong subscribe header"));if(f.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){const x=this._parseProperties();Object.getOwnPropertyNames(x).length&&(f.properties=x)}for(;this._pos<f.length;){if(d=this._parseString(),d===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=f.length)return this._emitError(new Error("Malformed Subscribe Payload"));m=this._parseByte(),p=m&u.SUBSCRIBE_OPTIONS_QOS_MASK,v=(m>>u.SUBSCRIBE_OPTIONS_NL_SHIFT&u.SUBSCRIBE_OPTIONS_NL_MASK)!==0,E=(m>>u.SUBSCRIBE_OPTIONS_RAP_SHIFT&u.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,b=m>>u.SUBSCRIBE_OPTIONS_RH_SHIFT&u.SUBSCRIBE_OPTIONS_RH_MASK,g={topic:d,qos:p},this.settings.protocolVersion===5?(g.nl=v,g.rap=E,g.rh=b):this.settings.bridgeMode&&(g.rh=0,g.rap=!0,g.nl=!0),c("_parseSubscribe: push subscription `%s` to subscription",g),f.subscriptions.push(g)}}}_parseSuback(){c("_parseSuback");const f=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){const d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(f.properties=d)}for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseUnsubscribe(){c("_parseUnsubscribe");const f=this.packet;if(f.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){const d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(f.properties=d)}for(;this._pos<f.length;){const d=this._parseString();if(d===null)return this._emitError(new Error("Cannot parse topic"));c("_parseUnsubscribe: push topic `%s` to unsubscriptions",d),f.unsubscriptions.push(d)}}}_parseUnsuback(){c("_parseUnsuback");const f=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if(this.settings.protocolVersion===5){const d=this._parseProperties();for(Object.getOwnPropertyNames(d).length&&(f.properties=d),f.granted=[];this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseConfirmation(){c("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);const f=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5&&(f.length>2?(f.reasonCode=this._parseByte(),c("_parseConfirmation: packet.reasonCode `%d`",f.reasonCode)):f.reasonCode=0,f.length>3)){const d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(f.properties=d)}return!0}_parseDisconnect(){const f=this.packet;if(c("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?f.reasonCode=this._parseByte():f.reasonCode=0;const d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(f.properties=d)}return c("_parseDisconnect result: true"),!0}_parseAuth(){c("_parseAuth");const f=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));f.reasonCode=this._parseByte();const d=this._parseProperties();return Object.getOwnPropertyNames(d).length&&(f.properties=d),c("_parseAuth: result: true"),!0}_parseMessageId(){const f=this.packet;return f.messageId=this._parseNum(),f.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(c("_parseMessageId: packet.messageId %d",f.messageId),!0)}_parseString(f){const d=this._parseNum(),m=d+this._pos;if(d===-1||m>this._list.length||m>this.packet.length)return null;const p=this._list.toString("utf8",this._pos,m);return this._pos+=d,c("_parseString: result: %s",p),p}_parseStringPair(){return c("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){const f=this._parseNum(),d=f+this._pos;if(f===-1||d>this._list.length||d>this.packet.length)return null;const m=this._list.slice(this._pos,d);return this._pos+=f,c("_parseBuffer: result: %o",m),m}_parseNum(){if(this._list.length-this._pos<2)return-1;const f=this._list.readUInt16BE(this._pos);return this._pos+=2,c("_parseNum: result: %s",f),f}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;const f=this._list.readUInt32BE(this._pos);return this._pos+=4,c("_parse4ByteNum: result: %s",f),f}_parseVarByteNum(f){c("_parseVarByteNum");const d=4;let m=0,p=1,b=0,E=!1,v;const g=this._pos?this._pos:0;for(;m<d&&g+m<this._list.length;){if(v=this._list.readUInt8(g+m++),b+=p*(v&u.VARBYTEINT_MASK),p*=128,!(v&u.VARBYTEINT_FIN_MASK)){E=!0;break}if(this._list.length<=m)break}return!E&&m===d&&this._list.length>=m&&this._emitError(new Error("Invalid variable byte integer")),g&&(this._pos+=m),E=E?f?{bytes:m,value:b}:b:!1,c("_parseVarByteNum: result: %o",E),E}_parseByte(){let f;return this._pos<this._list.length&&(f=this._list.readUInt8(this._pos),this._pos++),c("_parseByte: result: %o",f),f}_parseByType(f){switch(c("_parseByType: type: %s",f),f){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){c("_parseProperties");const f=this._parseVarByteNum(),m=this._pos+f,p={};for(;this._pos<m;){const b=this._parseByte();if(!b)return this._emitError(new Error("Cannot parse property code type")),!1;const E=u.propertiesCodes[b];if(!E)return this._emitError(new Error("Unknown property")),!1;if(E==="userProperties"){p[E]||(p[E]=Object.create(null));const v=this._parseByType(u.propertiesTypes[E]);if(p[E][v.name])if(Array.isArray(p[E][v.name]))p[E][v.name].push(v.value);else{const g=p[E][v.name];p[E][v.name]=[g],p[E][v.name].push(v.value)}else p[E][v.name]=v.value;continue}p[E]?Array.isArray(p[E])?p[E].push(this._parseByType(u.propertiesTypes[E])):(p[E]=[p[E]],p[E].push(this._parseByType(u.propertiesTypes[E]))):p[E]=this._parseByType(u.propertiesTypes[E])}return p}_newPacket(){return c("_newPacket"),this.packet&&(this._list.consume(this.packet.length),c("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),c("_newPacket: new packet"),this.packet=new a,this._pos=0,!0}_emitError(f){c("_emitError"),this.error=f,this.emit("error",f)}}r.exports=l},{"./constants":38,"./packet":42,bl:15,debug:18,events:22}],44:[function(n,r,o){(function(i){(function(){const s=n("./constants"),a=i.allocUnsafe(0),u=i.from([0]),c=n("./numbers"),l=n("process-nextick-args").nextTick,h=n("debug")("mqtt-packet:writeToStream"),f=c.cache,d=c.generateNumber,m=c.generateCache,p=c.genBufVariableByteInt,b=c.generate4ByteBuffer;let E=Q,v=!0;function g(q,H,k){switch(h("generate called"),H.cork&&(H.cork(),l(x,H)),v&&(v=!1,m()),h("generate: packet.cmd: %s",q.cmd),q.cmd){case"connect":return A(q,H);case"connack":return I(q,H,k);case"publish":return B(q,H,k);case"puback":case"pubrec":case"pubrel":case"pubcomp":return j(q,H,k);case"subscribe":return U(q,H,k);case"suback":return K(q,H,k);case"unsubscribe":return y(q,H,k);case"unsuback":return C(q,H,k);case"pingreq":case"pingresp":return S(q,H);case"disconnect":return z(q,H,k);case"auth":return X(q,H,k);default:return H.emit("error",new Error("Unknown command")),!1}}Object.defineProperty(g,"cacheNumbers",{get(){return E===Q},set(q){q?((!f||Object.keys(f).length===0)&&(v=!0),E=Q):(v=!1,E=te)}});function x(q){q.uncork()}function A(q,H,k){const M=q||{},$=M.protocolId||"MQTT";let F=M.protocolVersion||4;const V=M.will;let Y=M.clean;const P=M.keepalive||0,O=M.clientId||"",T=M.username,_=M.password,w=M.properties;Y===void 0&&(Y=!0);let L=0;if(!$||typeof $!="string"&&!i.isBuffer($))return H.emit("error",new Error("Invalid protocolId")),!1;if(L+=$.length+2,F!==3&&F!==4&&F!==5)return H.emit("error",new Error("Invalid protocol version")),!1;if(L+=1,(typeof O=="string"||i.isBuffer(O))&&(O||F>=4)&&(O||Y))L+=i.byteLength(O)+2;else{if(F<4)return H.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(Y*1===0)return H.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof P!="number"||P<0||P>65535||P%1!==0)return H.emit("error",new Error("Invalid keepalive")),!1;if(L+=2,L+=1,F===5){var W=Z(H,w);if(!W)return!1;L+=W.length}if(V){if(typeof V!="object")return H.emit("error",new Error("Invalid will")),!1;if(!V.topic||typeof V.topic!="string")return H.emit("error",new Error("Invalid will topic")),!1;if(L+=i.byteLength(V.topic)+2,L+=2,V.payload)if(V.payload.length>=0)typeof V.payload=="string"?L+=i.byteLength(V.payload):L+=V.payload.length;else return H.emit("error",new Error("Invalid will payload")),!1;var re={};if(F===5){if(re=Z(H,V.properties),!re)return!1;L+=re.length}}let oe=!1;if(T!=null)if(ne(T))oe=!0,L+=i.byteLength(T)+2;else return H.emit("error",new Error("Invalid username")),!1;if(_!=null){if(!oe)return H.emit("error",new Error("Username is required to use password")),!1;if(ne(_))L+=ye(_)+2;else return H.emit("error",new Error("Invalid password")),!1}H.write(s.CONNECT_HEADER),J(H,L),pe(H,$),M.bridgeMode&&(F+=128),H.write(F===131?s.VERSION131:F===132?s.VERSION132:F===4?s.VERSION4:F===5?s.VERSION5:s.VERSION3);let _e=0;return _e|=T!=null?s.USERNAME_MASK:0,_e|=_!=null?s.PASSWORD_MASK:0,_e|=V&&V.retain?s.WILL_RETAIN_MASK:0,_e|=V&&V.qos?V.qos<<s.WILL_QOS_SHIFT:0,_e|=V?s.WILL_FLAG_MASK:0,_e|=Y?s.CLEAN_SESSION_MASK:0,H.write(i.from([_e])),E(H,P),F===5&&W.write(),pe(H,O),V&&(F===5&&re.write(),R(H,V.topic),pe(H,V.payload)),T!=null&&pe(H,T),_!=null&&pe(H,_),!0}function I(q,H,k){const M=k?k.protocolVersion:4,$=q||{},F=M===5?$.reasonCode:$.returnCode,V=$.properties;let Y=2;if(typeof F!="number")return H.emit("error",new Error("Invalid return code")),!1;let P=null;if(M===5){if(P=Z(H,V),!P)return!1;Y+=P.length}return H.write(s.CONNACK_HEADER),J(H,Y),H.write($.sessionPresent?s.SESSIONPRESENT_HEADER:u),H.write(i.from([F])),P!=null&&P.write(),!0}function B(q,H,k){h("publish: packet: %o",q);const M=k?k.protocolVersion:4,$=q||{},F=$.qos||0,V=$.retain?s.RETAIN_MASK:0,Y=$.topic,P=$.payload||a,O=$.messageId,T=$.properties;let _=0;if(typeof Y=="string")_+=i.byteLength(Y)+2;else if(i.isBuffer(Y))_+=Y.length+2;else return H.emit("error",new Error("Invalid topic")),!1;if(i.isBuffer(P)?_+=P.length:_+=i.byteLength(P),F&&typeof O!="number")return H.emit("error",new Error("Invalid messageId")),!1;F&&(_+=2);let w=null;if(M===5){if(w=Z(H,T),!w)return!1;_+=w.length}return H.write(s.PUBLISH_HEADER[F][$.dup?1:0][V?1:0]),J(H,_),E(H,ye(Y)),H.write(Y),F>0&&E(H,O),w!=null&&w.write(),h("publish: payload: %o",P),H.write(P)}function j(q,H,k){const M=k?k.protocolVersion:4,$=q||{},F=$.cmd||"puback",V=$.messageId,Y=$.dup&&F==="pubrel"?s.DUP_MASK:0;let P=0;const O=$.reasonCode,T=$.properties;let _=M===5?3:2;if(F==="pubrel"&&(P=1),typeof V!="number")return H.emit("error",new Error("Invalid messageId")),!1;let w=null;if(M===5&&typeof T=="object"){if(w=ee(H,T,k,_),!w)return!1;_+=w.length}return H.write(s.ACKS[F][P][Y][0]),J(H,_),E(H,V),M===5&&H.write(i.from([O])),w!==null&&w.write(),!0}function U(q,H,k){h("subscribe: packet: ");const M=k?k.protocolVersion:4,$=q||{},F=$.dup?s.DUP_MASK:0,V=$.messageId,Y=$.subscriptions,P=$.properties;let O=0;if(typeof V!="number")return H.emit("error",new Error("Invalid messageId")),!1;O+=2;let T=null;if(M===5){if(T=Z(H,P),!T)return!1;O+=T.length}if(typeof Y=="object"&&Y.length)for(let w=0;w<Y.length;w+=1){const L=Y[w].topic,W=Y[w].qos;if(typeof L!="string")return H.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if(typeof W!="number")return H.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;if(M===5){if(typeof(Y[w].nl||!1)!="boolean")return H.emit("error",new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(Y[w].rap||!1)!="boolean")return H.emit("error",new Error("Invalid subscriptions - invalid Retain as Published")),!1;const _e=Y[w].rh||0;if(typeof _e!="number"||_e>2)return H.emit("error",new Error("Invalid subscriptions - invalid Retain Handling")),!1}O+=i.byteLength(L)+2+1}else return H.emit("error",new Error("Invalid subscriptions")),!1;h("subscribe: writing to stream: %o",s.SUBSCRIBE_HEADER),H.write(s.SUBSCRIBE_HEADER[1][F?1:0][0]),J(H,O),E(H,V),T!==null&&T.write();let _=!0;for(const w of Y){const L=w.topic,W=w.qos,re=+w.nl,oe=+w.rap,_e=w.rh;let we;R(H,L),we=s.SUBSCRIBE_OPTIONS_QOS[W],M===5&&(we|=re?s.SUBSCRIBE_OPTIONS_NL:0,we|=oe?s.SUBSCRIBE_OPTIONS_RAP:0,we|=_e?s.SUBSCRIBE_OPTIONS_RH[_e]:0),_=H.write(i.from([we]))}return _}function K(q,H,k){const M=k?k.protocolVersion:4,$=q||{},F=$.messageId,V=$.granted,Y=$.properties;let P=0;if(typeof F!="number")return H.emit("error",new Error("Invalid messageId")),!1;if(P+=2,typeof V=="object"&&V.length)for(let T=0;T<V.length;T+=1){if(typeof V[T]!="number")return H.emit("error",new Error("Invalid qos vector")),!1;P+=1}else return H.emit("error",new Error("Invalid qos vector")),!1;let O=null;if(M===5){if(O=ee(H,Y,k,P),!O)return!1;P+=O.length}return H.write(s.SUBACK_HEADER),J(H,P),E(H,F),O!==null&&O.write(),H.write(i.from(V))}function y(q,H,k){const M=k?k.protocolVersion:4,$=q||{},F=$.messageId,V=$.dup?s.DUP_MASK:0,Y=$.unsubscriptions,P=$.properties;let O=0;if(typeof F!="number")return H.emit("error",new Error("Invalid messageId")),!1;if(O+=2,typeof Y=="object"&&Y.length)for(let w=0;w<Y.length;w+=1){if(typeof Y[w]!="string")return H.emit("error",new Error("Invalid unsubscriptions")),!1;O+=i.byteLength(Y[w])+2}else return H.emit("error",new Error("Invalid unsubscriptions")),!1;let T=null;if(M===5){if(T=Z(H,P),!T)return!1;O+=T.length}H.write(s.UNSUBSCRIBE_HEADER[1][V?1:0][0]),J(H,O),E(H,F),T!==null&&T.write();let _=!0;for(let w=0;w<Y.length;w++)_=R(H,Y[w]);return _}function C(q,H,k){const M=k?k.protocolVersion:4,$=q||{},F=$.messageId,V=$.dup?s.DUP_MASK:0,Y=$.granted,P=$.properties,O=$.cmd,T=0;let _=2;if(typeof F!="number")return H.emit("error",new Error("Invalid messageId")),!1;if(M===5)if(typeof Y=="object"&&Y.length)for(let L=0;L<Y.length;L+=1){if(typeof Y[L]!="number")return H.emit("error",new Error("Invalid qos vector")),!1;_+=1}else return H.emit("error",new Error("Invalid qos vector")),!1;let w=null;if(M===5){if(w=ee(H,P,k,_),!w)return!1;_+=w.length}return H.write(s.ACKS[O][T][V][0]),J(H,_),E(H,F),w!==null&&w.write(),M===5&&H.write(i.from(Y)),!0}function S(q,H,k){return H.write(s.EMPTY[q.cmd])}function z(q,H,k){const M=k?k.protocolVersion:4,$=q||{},F=$.reasonCode,V=$.properties;let Y=M===5?1:0,P=null;if(M===5){if(P=ee(H,V,k,Y),!P)return!1;Y+=P.length}return H.write(i.from([s.codes.disconnect<<4])),J(H,Y),M===5&&H.write(i.from([F])),P!==null&&P.write(),!0}function X(q,H,k){const M=k?k.protocolVersion:4,$=q||{},F=$.reasonCode,V=$.properties;let Y=M===5?1:0;M!==5&&H.emit("error",new Error("Invalid mqtt version for auth packet"));const P=ee(H,V,k,Y);return P?(Y+=P.length,H.write(i.from([s.codes.auth<<4])),J(H,Y),H.write(i.from([F])),P!==null&&P.write(),!0):!1}const G={};function J(q,H){if(H>s.VARBYTEINT_MAX)return q.emit("error",new Error(`Invalid variable byte integer: ${H}`)),!1;let k=G[H];return k||(k=p(H),H<16384&&(G[H]=k)),h("writeVarByteInt: writing to stream: %o",k),q.write(k)}function R(q,H){const k=i.byteLength(H);return E(q,k),h("writeString: %s",H),q.write(H,"utf8")}function D(q,H,k){R(q,H),R(q,k)}function Q(q,H){return h("writeNumberCached: number: %d",H),h("writeNumberCached: %o",f[H]),q.write(f[H])}function te(q,H){const k=d(H);return h("writeNumberGenerated: %o",k),q.write(k)}function he(q,H){const k=b(H);return h("write4ByteNumber: %o",k),q.write(k)}function pe(q,H){typeof H=="string"?R(q,H):H?(E(q,H.length),q.write(H)):E(q,0)}function Z(q,H){if(typeof H!="object"||H.length!=null)return{length:1,write(){ce(q,{},0)}};let k=0;function M(F,V){const Y=s.propertiesTypes[F];let P=0;switch(Y){case"byte":{if(typeof V!="boolean")return q.emit("error",new Error(`Invalid ${F}: ${V}`)),!1;P+=1+1;break}case"int8":{if(typeof V!="number"||V<0||V>255)return q.emit("error",new Error(`Invalid ${F}: ${V}`)),!1;P+=1+1;break}case"binary":{if(V&&V===null)return q.emit("error",new Error(`Invalid ${F}: ${V}`)),!1;P+=1+i.byteLength(V)+2;break}case"int16":{if(typeof V!="number"||V<0||V>65535)return q.emit("error",new Error(`Invalid ${F}: ${V}`)),!1;P+=1+2;break}case"int32":{if(typeof V!="number"||V<0||V>4294967295)return q.emit("error",new Error(`Invalid ${F}: ${V}`)),!1;P+=1+4;break}case"var":{if(typeof V!="number"||V<0||V>268435455)return q.emit("error",new Error(`Invalid ${F}: ${V}`)),!1;P+=1+i.byteLength(p(V));break}case"string":{if(typeof V!="string")return q.emit("error",new Error(`Invalid ${F}: ${V}`)),!1;P+=1+2+i.byteLength(V.toString());break}case"pair":{if(typeof V!="object")return q.emit("error",new Error(`Invalid ${F}: ${V}`)),!1;P+=Object.getOwnPropertyNames(V).reduce((O,T)=>{const _=V[T];return Array.isArray(_)?O+=_.reduce((w,L)=>(w+=1+2+i.byteLength(T.toString())+2+i.byteLength(L.toString()),w),0):O+=1+2+i.byteLength(T.toString())+2+i.byteLength(V[T].toString()),O},0);break}default:return q.emit("error",new Error(`Invalid property ${F}: ${V}`)),!1}return P}if(H)for(const F in H){let V=0,Y=0;const P=H[F];if(Array.isArray(P))for(let O=0;O<P.length;O++){if(Y=M(F,P[O]),!Y)return!1;V+=Y}else{if(Y=M(F,P),!Y)return!1;V=Y}if(!V)return!1;k+=V}return{length:i.byteLength(p(k))+k,write(){ce(q,H,k)}}}function ee(q,H,k,M){const $=["reasonString","userProperties"],F=k&&k.properties&&k.properties.maximumPacketSize?k.properties.maximumPacketSize:0;let V=Z(q,H);if(F)for(;M+V.length>F;){const Y=$.shift();if(Y&&H[Y])delete H[Y],V=Z(q,H);else return!1}return V}function ue(q,H,k){switch(s.propertiesTypes[H]){case"byte":{q.write(i.from([s.properties[H]])),q.write(i.from([+k]));break}case"int8":{q.write(i.from([s.properties[H]])),q.write(i.from([k]));break}case"binary":{q.write(i.from([s.properties[H]])),pe(q,k);break}case"int16":{q.write(i.from([s.properties[H]])),E(q,k);break}case"int32":{q.write(i.from([s.properties[H]])),he(q,k);break}case"var":{q.write(i.from([s.properties[H]])),J(q,k);break}case"string":{q.write(i.from([s.properties[H]])),R(q,k);break}case"pair":{Object.getOwnPropertyNames(k).forEach($=>{const F=k[$];Array.isArray(F)?F.forEach(V=>{q.write(i.from([s.properties[H]])),D(q,$.toString(),V.toString())}):(q.write(i.from([s.properties[H]])),D(q,$.toString(),F.toString()))});break}default:return q.emit("error",new Error(`Invalid property ${H} value: ${k}`)),!1}}function ce(q,H,k){J(q,k);for(const M in H)if(Object.prototype.hasOwnProperty.call(H,M)&&H[M]!==null){const $=H[M];if(Array.isArray($))for(let F=0;F<$.length;F++)ue(q,M,$[F]);else ue(q,M,$)}}function ye(q){return q?q instanceof i?q.length:i.byteLength(q):0}function ne(q){return typeof q=="string"||q instanceof i}r.exports=g}).call(this)}).call(this,n("buffer").Buffer)},{"./constants":38,"./numbers":41,buffer:17,debug:18,"process-nextick-args":49}],45:[function(n,r,o){var i=1e3,s=i*60,a=s*60,u=a*24,c=u*7,l=u*365.25;r.exports=function(p,b){b=b||{};var E=typeof p;if(E==="string"&&p.length>0)return h(p);if(E==="number"&&isFinite(p))return b.long?d(p):f(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))};function h(p){if(p=String(p),!(p.length>100)){var b=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(b){var E=parseFloat(b[1]),v=(b[2]||"ms").toLowerCase();switch(v){case"years":case"year":case"yrs":case"yr":case"y":return E*l;case"weeks":case"week":case"w":return E*c;case"days":case"day":case"d":return E*u;case"hours":case"hour":case"hrs":case"hr":case"h":return E*a;case"minutes":case"minute":case"mins":case"min":case"m":return E*s;case"seconds":case"second":case"secs":case"sec":case"s":return E*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return E;default:return}}}}function f(p){var b=Math.abs(p);return b>=u?Math.round(p/u)+"d":b>=a?Math.round(p/a)+"h":b>=s?Math.round(p/s)+"m":b>=i?Math.round(p/i)+"s":p+"ms"}function d(p){var b=Math.abs(p);return b>=u?m(p,b,u,"day"):b>=a?m(p,b,a,"hour"):b>=s?m(p,b,s,"minute"):b>=i?m(p,b,i,"second"):p+" ms"}function m(p,b,E,v){var g=b>=E*1.5;return Math.round(p/E)+" "+v+(g?"s":"")}},{}],46:[function(n,r,o){const i=n("./lib/number-allocator.js");r.exports.NumberAllocator=i},{"./lib/number-allocator.js":47}],47:[function(n,r,o){const i=n("js-sdsl").Set,s=n("debug")("number-allocator:trace"),a=n("debug")("number-allocator:error");function u(l,h){this.low=l,this.high=h}u.prototype.equals=function(l){return this.low===l.low&&this.high===l.high},u.prototype.compare=function(l){return this.low<l.low&&this.high<l.low?-1:l.low<this.low&&l.high<this.low?1:0};function c(l,h){if(!(this instanceof c))return new c(l,h);this.min=l,this.max=h,this.ss=new i([],(f,d)=>f.compare(d)),s("Create"),this.clear()}c.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},c.prototype.alloc=function(){if(this.ss.size()===0)return s("alloc():empty"),null;const l=this.ss.front(),h=l.low;return h+1<=l.high?++l.low:this.ss.eraseElementByPos(0),s("alloc():"+h),h},c.prototype.use=function(l){const h=new u(l,l),f=this.ss.lowerBound(h);if(f){if(f.equals(h))return this.ss.eraseElementByValue(f),s("use():"+l),!0;if(f.low>l)return!1;if(f.low===l)return++f.low,s("use():"+l),!0;if(f.high===l)return--f.high,s("use():"+l),!0;const d=f.low;return f.low=l+1,this.ss.insert(new u(d,l-1)),s("use():"+l),!0}return s("use():failed"),!1},c.prototype.free=function(l){if(l<this.min||l>this.max){a("free():"+l+" is out of range");return}const h=new u(l,l),f=this.ss.lowerBound(h);if(f){if(f.low<=l&&l<=f.high){a("free():"+l+" has already been vacant");return}if(f===this.ss.front())l+1===f.low?--f.low:this.ss.insert(h);else{const d=this.ss.reverseLowerBound(h);d.high+1===l?l+1===f.low?(this.ss.eraseElementByValue(d),f.low=d.low):d.high=l:l+1===f.low?f.low=l:this.ss.insert(h)}}else{if(f===this.ss.front()){this.ss.insert(h);return}const d=this.ss.reverseLowerBound(h);d.high+1===l?d.high=l:this.ss.insert(h)}s("free():"+l)},c.prototype.clear=function(){s("clear()"),this.ss.clear(),this.ss.insert(new u(this.min,this.max))},c.prototype.intervalCount=function(){return this.ss.size()},c.prototype.dump=function(){console.log("length:"+this.ss.size());for(const l of this.ss)console.log(l)},r.exports=c},{debug:18,"js-sdsl":36}],48:[function(n,r,o){var i=n("wrappy");r.exports=i(s),r.exports.strict=i(a),s.proto=s(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return s(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return a(this)},configurable:!0})});function s(u){var c=function(){return c.called?c.value:(c.called=!0,c.value=u.apply(this,arguments))};return c.called=!1,c}function a(u){var c=function(){if(c.called)throw new Error(c.onceError);return c.called=!0,c.value=u.apply(this,arguments)},l=u.name||"Function wrapped with `once`";return c.onceError=l+" shouldn't be called more than once",c.called=!1,c}},{wrappy:79}],49:[function(n,r,o){(function(i){(function(){typeof i>"u"||!i.version||i.version.indexOf("v0.")===0||i.version.indexOf("v1.")===0&&i.version.indexOf("v1.8.")!==0?r.exports={nextTick:s}:r.exports=i;function s(a,u,c,l){if(typeof a!="function")throw new TypeError('"callback" argument must be a function');var h=arguments.length,f,d;switch(h){case 0:case 1:return i.nextTick(a);case 2:return i.nextTick(function(){a.call(null,u)});case 3:return i.nextTick(function(){a.call(null,u,c)});case 4:return i.nextTick(function(){a.call(null,u,c,l)});default:for(f=new Array(h-1),d=0;d<f.length;)f[d++]=arguments[d];return i.nextTick(function(){a.apply(null,f)})}}}).call(this)}).call(this,n("_process"))},{_process:50}],50:[function(n,r,o){var i=r.exports={},s,a;function u(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?s=setTimeout:s=u}catch{s=u}try{typeof clearTimeout=="function"?a=clearTimeout:a=c}catch{a=c}})();function l(x){if(s===setTimeout)return setTimeout(x,0);if((s===u||!s)&&setTimeout)return s=setTimeout,setTimeout(x,0);try{return s(x,0)}catch{try{return s.call(null,x,0)}catch{return s.call(this,x,0)}}}function h(x){if(a===clearTimeout)return clearTimeout(x);if((a===c||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(x);try{return a(x)}catch{try{return a.call(null,x)}catch{return a.call(this,x)}}}var f=[],d=!1,m,p=-1;function b(){!d||!m||(d=!1,m.length?f=m.concat(f):p=-1,f.length&&E())}function E(){if(!d){var x=l(b);d=!0;for(var A=f.length;A;){for(m=f,f=[];++p<A;)m&&m[p].run();p=-1,A=f.length}m=null,d=!1,h(x)}}i.nextTick=function(x){var A=new Array(arguments.length-1);if(arguments.length>1)for(var I=1;I<arguments.length;I++)A[I-1]=arguments[I];f.push(new v(x,A)),f.length===1&&!d&&l(E)};function v(x,A){this.fun=x,this.array=A}v.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={};function g(){}i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(x){return[]},i.binding=function(x){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(x){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],51:[function(n,r,o){(function(i){(function(){(function(s){var a=typeof o=="object"&&o&&!o.nodeType&&o,u=typeof r=="object"&&r&&!r.nodeType&&r,c=typeof i=="object"&&i;(c.global===c||c.window===c||c.self===c)&&(s=c);var l,h=2147483647,f=36,d=1,m=26,p=38,b=700,E=72,v=128,g="-",x=/^xn--/,A=/[^\x20-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,B={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},j=f-d,U=Math.floor,K=String.fromCharCode,y;function C(Z){throw new RangeError(B[Z])}function S(Z,ee){for(var ue=Z.length,ce=[];ue--;)ce[ue]=ee(Z[ue]);return ce}function z(Z,ee){var ue=Z.split("@"),ce="";ue.length>1&&(ce=ue[0]+"@",Z=ue[1]),Z=Z.replace(I,".");var ye=Z.split("."),ne=S(ye,ee).join(".");return ce+ne}function X(Z){for(var ee=[],ue=0,ce=Z.length,ye,ne;ue<ce;)ye=Z.charCodeAt(ue++),ye>=55296&&ye<=56319&&ue<ce?(ne=Z.charCodeAt(ue++),(ne&64512)==56320?ee.push(((ye&1023)<<10)+(ne&1023)+65536):(ee.push(ye),ue--)):ee.push(ye);return ee}function G(Z){return S(Z,function(ee){var ue="";return ee>65535&&(ee-=65536,ue+=K(ee>>>10&1023|55296),ee=56320|ee&1023),ue+=K(ee),ue}).join("")}function J(Z){return Z-48<10?Z-22:Z-65<26?Z-65:Z-97<26?Z-97:f}function R(Z,ee){return Z+22+75*(Z<26)-((ee!=0)<<5)}function D(Z,ee,ue){var ce=0;for(Z=ue?U(Z/b):Z>>1,Z+=U(Z/ee);Z>j*m>>1;ce+=f)Z=U(Z/j);return U(ce+(j+1)*Z/(Z+p))}function Q(Z){var ee=[],ue=Z.length,ce,ye=0,ne=v,q=E,H,k,M,$,F,V,Y,P,O;for(H=Z.lastIndexOf(g),H<0&&(H=0),k=0;k<H;++k)Z.charCodeAt(k)>=128&&C("not-basic"),ee.push(Z.charCodeAt(k));for(M=H>0?H+1:0;M<ue;){for($=ye,F=1,V=f;M>=ue&&C("invalid-input"),Y=J(Z.charCodeAt(M++)),(Y>=f||Y>U((h-ye)/F))&&C("overflow"),ye+=Y*F,P=V<=q?d:V>=q+m?m:V-q,!(Y<P);V+=f)O=f-P,F>U(h/O)&&C("overflow"),F*=O;ce=ee.length+1,q=D(ye-$,ce,$==0),U(ye/ce)>h-ne&&C("overflow"),ne+=U(ye/ce),ye%=ce,ee.splice(ye++,0,ne)}return G(ee)}function te(Z){var ee,ue,ce,ye,ne,q,H,k,M,$,F,V=[],Y,P,O,T;for(Z=X(Z),Y=Z.length,ee=v,ue=0,ne=E,q=0;q<Y;++q)F=Z[q],F<128&&V.push(K(F));for(ce=ye=V.length,ye&&V.push(g);ce<Y;){for(H=h,q=0;q<Y;++q)F=Z[q],F>=ee&&F<H&&(H=F);for(P=ce+1,H-ee>U((h-ue)/P)&&C("overflow"),ue+=(H-ee)*P,ee=H,q=0;q<Y;++q)if(F=Z[q],F<ee&&++ue>h&&C("overflow"),F==ee){for(k=ue,M=f;$=M<=ne?d:M>=ne+m?m:M-ne,!(k<$);M+=f)T=k-$,O=f-$,V.push(K(R($+T%O,0))),k=U(T/O);V.push(K(R(k,0))),ne=D(ue,P,ce==ye),ue=0,++ce}++ue,++ee}return V.join("")}function he(Z){return z(Z,function(ee){return x.test(ee)?Q(ee.slice(4).toLowerCase()):ee})}function pe(Z){return z(Z,function(ee){return A.test(ee)?"xn--"+te(ee):ee})}if(l={version:"1.4.1",ucs2:{decode:X,encode:G},decode:Q,encode:te,toASCII:pe,toUnicode:he},a&&u)if(r.exports==a)u.exports=l;else for(y in l)l.hasOwnProperty(y)&&(a[y]=l[y]);else s.punycode=l})(this)}).call(this)}).call(this,typeof en<"u"?en:typeof self<"u"?self:typeof window<"u"?window:{})},{}],52:[function(n,r,o){function i(a,u){return Object.prototype.hasOwnProperty.call(a,u)}r.exports=function(a,u,c,l){u=u||"&",c=c||"=";var h={};if(typeof a!="string"||a.length===0)return h;var f=/\+/g;a=a.split(u);var d=1e3;l&&typeof l.maxKeys=="number"&&(d=l.maxKeys);var m=a.length;d>0&&m>d&&(m=d);for(var p=0;p<m;++p){var b=a[p].replace(f,"%20"),E=b.indexOf(c),v,g,x,A;E>=0?(v=b.substr(0,E),g=b.substr(E+1)):(v=b,g=""),x=decodeURIComponent(v),A=decodeURIComponent(g),i(h,x)?s(h[x])?h[x].push(A):h[x]=[h[x],A]:h[x]=A}return h};var s=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"}},{}],53:[function(n,r,o){var i=function(c){switch(typeof c){case"string":return c;case"boolean":return c?"true":"false";case"number":return isFinite(c)?c:"";default:return""}};r.exports=function(c,l,h,f){return l=l||"&",h=h||"=",c===null&&(c=void 0),typeof c=="object"?a(u(c),function(d){var m=encodeURIComponent(i(d))+h;return s(c[d])?a(c[d],function(p){return m+encodeURIComponent(i(p))}).join(l):m+encodeURIComponent(i(c[d]))}).join(l):f?encodeURIComponent(i(f))+h+encodeURIComponent(i(c)):""};var s=Array.isArray||function(c){return Object.prototype.toString.call(c)==="[object Array]"};function a(c,l){if(c.map)return c.map(l);for(var h=[],f=0;f<c.length;f++)h.push(l(c[f],f));return h}var u=Object.keys||function(c){var l=[];for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&l.push(h);return l}},{}],54:[function(n,r,o){o.decode=o.parse=n("./decode"),o.encode=o.stringify=n("./encode")},{"./decode":52,"./encode":53}],55:[function(n,r,o){function i(f,d){f.prototype=Object.create(d.prototype),f.prototype.constructor=f,f.__proto__=d}var s={};function a(f,d,m){m||(m=Error);function p(E,v,g){return typeof d=="string"?d:d(E,v,g)}var b=function(E){i(v,E);function v(g,x,A){return E.call(this,p(g,x,A))||this}return v}(m);b.prototype.name=m.name,b.prototype.code=f,s[f]=b}function u(f,d){if(Array.isArray(f)){var m=f.length;return f=f.map(function(p){return String(p)}),m>2?"one of ".concat(d," ").concat(f.slice(0,m-1).join(", "),", or ")+f[m-1]:m===2?"one of ".concat(d," ").concat(f[0]," or ").concat(f[1]):"of ".concat(d," ").concat(f[0])}else return"of ".concat(d," ").concat(String(f))}function c(f,d,m){return f.substr(!m||m<0?0:+m,d.length)===d}function l(f,d,m){return(m===void 0||m>f.length)&&(m=f.length),f.substring(m-d.length,m)===d}function h(f,d,m){return typeof m!="number"&&(m=0),m+d.length>f.length?!1:f.indexOf(d,m)!==-1}a("ERR_INVALID_OPT_VALUE",function(f,d){return'The value "'+d+'" is invalid for option "'+f+'"'},TypeError),a("ERR_INVALID_ARG_TYPE",function(f,d,m){var p;typeof d=="string"&&c(d,"not ")?(p="must not be",d=d.replace(/^not /,"")):p="must be";var b;if(l(f," argument"))b="The ".concat(f," ").concat(p," ").concat(u(d,"type"));else{var E=h(f,".")?"property":"argument";b='The "'.concat(f,'" ').concat(E," ").concat(p," ").concat(u(d,"type"))}return b+=". Received type ".concat(typeof m),b},TypeError),a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),a("ERR_METHOD_NOT_IMPLEMENTED",function(f){return"The "+f+" method is not implemented"}),a("ERR_STREAM_PREMATURE_CLOSE","Premature close"),a("ERR_STREAM_DESTROYED",function(f){return"Cannot call "+f+" after a stream was destroyed"}),a("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),a("ERR_STREAM_WRITE_AFTER_END","write after end"),a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),a("ERR_UNKNOWN_ENCODING",function(f){return"Unknown encoding: "+f},TypeError),a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),r.exports.codes=s},{}],56:[function(n,r,o){(function(i){(function(){var s=Object.keys||function(p){var b=[];for(var E in p)b.push(E);return b};r.exports=f;var a=n("./_stream_readable"),u=n("./_stream_writable");n("inherits")(f,a);for(var c=s(u.prototype),l=0;l<c.length;l++){var h=c[l];f.prototype[h]||(f.prototype[h]=u.prototype[h])}function f(p){if(!(this instanceof f))return new f(p);a.call(this,p),u.call(this,p),this.allowHalfOpen=!0,p&&(p.readable===!1&&(this.readable=!1),p.writable===!1&&(this.writable=!1),p.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",d)))}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function d(){this._writableState.ended||i.nextTick(m,this)}function m(p){p.end()}Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(b){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=b,this._writableState.destroyed=b)}})}).call(this)}).call(this,n("_process"))},{"./_stream_readable":58,"./_stream_writable":60,_process:50,inherits:24}],57:[function(n,r,o){r.exports=s;var i=n("./_stream_transform");n("inherits")(s,i);function s(a){if(!(this instanceof s))return new s(a);i.call(this,a)}s.prototype._transform=function(a,u,c){c(null,a)}},{"./_stream_transform":59,inherits:24}],58:[function(n,r,o){(function(i,s){(function(){r.exports=G;var a;G.ReadableState=X,n("events").EventEmitter;var u=function(O,T){return O.listeners(T).length},c=n("./internal/streams/stream"),l=n("buffer").Buffer,h=s.Uint8Array||function(){};function f(P){return l.from(P)}function d(P){return l.isBuffer(P)||P instanceof h}var m=n("util"),p;m&&m.debuglog?p=m.debuglog("stream"):p=function(){};var b=n("./internal/streams/buffer_list"),E=n("./internal/streams/destroy"),v=n("./internal/streams/state"),g=v.getHighWaterMark,x=n("../errors").codes,A=x.ERR_INVALID_ARG_TYPE,I=x.ERR_STREAM_PUSH_AFTER_EOF,B=x.ERR_METHOD_NOT_IMPLEMENTED,j=x.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,U,K,y;n("inherits")(G,c);var C=E.errorOrDestroy,S=["error","close","destroy","pause","resume"];function z(P,O,T){if(typeof P.prependListener=="function")return P.prependListener(O,T);!P._events||!P._events[O]?P.on(O,T):Array.isArray(P._events[O])?P._events[O].unshift(T):P._events[O]=[T,P._events[O]]}function X(P,O,T){a=a||n("./_stream_duplex"),P=P||{},typeof T!="boolean"&&(T=O instanceof a),this.objectMode=!!P.objectMode,T&&(this.objectMode=this.objectMode||!!P.readableObjectMode),this.highWaterMark=g(this,P,"readableHighWaterMark",T),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=P.emitClose!==!1,this.autoDestroy=!!P.autoDestroy,this.destroyed=!1,this.defaultEncoding=P.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,P.encoding&&(U||(U=n("string_decoder/").StringDecoder),this.decoder=new U(P.encoding),this.encoding=P.encoding)}function G(P){if(a=a||n("./_stream_duplex"),!(this instanceof G))return new G(P);var O=this instanceof a;this._readableState=new X(P,this,O),this.readable=!0,P&&(typeof P.read=="function"&&(this._read=P.read),typeof P.destroy=="function"&&(this._destroy=P.destroy)),c.call(this)}Object.defineProperty(G.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(O){this._readableState&&(this._readableState.destroyed=O)}}),G.prototype.destroy=E.destroy,G.prototype._undestroy=E.undestroy,G.prototype._destroy=function(P,O){O(P)},G.prototype.push=function(P,O){var T=this._readableState,_;return T.objectMode?_=!0:typeof P=="string"&&(O=O||T.defaultEncoding,O!==T.encoding&&(P=l.from(P,O),O=""),_=!0),J(this,P,O,!1,_)},G.prototype.unshift=function(P){return J(this,P,null,!0,!1)};function J(P,O,T,_,w){p("readableAddChunk",O);var L=P._readableState;if(O===null)L.reading=!1,pe(P,L);else{var W;if(w||(W=D(L,O)),W)C(P,W);else if(L.objectMode||O&&O.length>0)if(typeof O!="string"&&!L.objectMode&&Object.getPrototypeOf(O)!==l.prototype&&(O=f(O)),_)L.endEmitted?C(P,new j):R(P,L,O,!0);else if(L.ended)C(P,new I);else{if(L.destroyed)return!1;L.reading=!1,L.decoder&&!T?(O=L.decoder.write(O),L.objectMode||O.length!==0?R(P,L,O,!1):ue(P,L)):R(P,L,O,!1)}else _||(L.reading=!1,ue(P,L))}return!L.ended&&(L.length<L.highWaterMark||L.length===0)}function R(P,O,T,_){O.flowing&&O.length===0&&!O.sync?(O.awaitDrain=0,P.emit("data",T)):(O.length+=O.objectMode?1:T.length,_?O.buffer.unshift(T):O.buffer.push(T),O.needReadable&&Z(P)),ue(P,O)}function D(P,O){var T;return!d(O)&&typeof O!="string"&&O!==void 0&&!P.objectMode&&(T=new A("chunk",["string","Buffer","Uint8Array"],O)),T}G.prototype.isPaused=function(){return this._readableState.flowing===!1},G.prototype.setEncoding=function(P){U||(U=n("string_decoder/").StringDecoder);var O=new U(P);this._readableState.decoder=O,this._readableState.encoding=this._readableState.decoder.encoding;for(var T=this._readableState.buffer.head,_="";T!==null;)_+=O.write(T.data),T=T.next;return this._readableState.buffer.clear(),_!==""&&this._readableState.buffer.push(_),this._readableState.length=_.length,this};var Q=1073741824;function te(P){return P>=Q?P=Q:(P--,P|=P>>>1,P|=P>>>2,P|=P>>>4,P|=P>>>8,P|=P>>>16,P++),P}function he(P,O){return P<=0||O.length===0&&O.ended?0:O.objectMode?1:P!==P?O.flowing&&O.length?O.buffer.head.data.length:O.length:(P>O.highWaterMark&&(O.highWaterMark=te(P)),P<=O.length?P:O.ended?O.length:(O.needReadable=!0,0))}G.prototype.read=function(P){p("read",P),P=parseInt(P,10);var O=this._readableState,T=P;if(P!==0&&(O.emittedReadable=!1),P===0&&O.needReadable&&((O.highWaterMark!==0?O.length>=O.highWaterMark:O.length>0)||O.ended))return p("read: emitReadable",O.length,O.ended),O.length===0&&O.ended?F(this):Z(this),null;if(P=he(P,O),P===0&&O.ended)return O.length===0&&F(this),null;var _=O.needReadable;p("need readable",_),(O.length===0||O.length-P<O.highWaterMark)&&(_=!0,p("length less than watermark",_)),O.ended||O.reading?(_=!1,p("reading or ended",_)):_&&(p("do read"),O.reading=!0,O.sync=!0,O.length===0&&(O.needReadable=!0),this._read(O.highWaterMark),O.sync=!1,O.reading||(P=he(T,O)));var w;return P>0?w=$(P,O):w=null,w===null?(O.needReadable=O.length<=O.highWaterMark,P=0):(O.length-=P,O.awaitDrain=0),O.length===0&&(O.ended||(O.needReadable=!0),T!==P&&O.ended&&F(this)),w!==null&&this.emit("data",w),w};function pe(P,O){if(p("onEofChunk"),!O.ended){if(O.decoder){var T=O.decoder.end();T&&T.length&&(O.buffer.push(T),O.length+=O.objectMode?1:T.length)}O.ended=!0,O.sync?Z(P):(O.needReadable=!1,O.emittedReadable||(O.emittedReadable=!0,ee(P)))}}function Z(P){var O=P._readableState;p("emitReadable",O.needReadable,O.emittedReadable),O.needReadable=!1,O.emittedReadable||(p("emitReadable",O.flowing),O.emittedReadable=!0,i.nextTick(ee,P))}function ee(P){var O=P._readableState;p("emitReadable_",O.destroyed,O.length,O.ended),!O.destroyed&&(O.length||O.ended)&&(P.emit("readable"),O.emittedReadable=!1),O.needReadable=!O.flowing&&!O.ended&&O.length<=O.highWaterMark,M(P)}function ue(P,O){O.readingMore||(O.readingMore=!0,i.nextTick(ce,P,O))}function ce(P,O){for(;!O.reading&&!O.ended&&(O.length<O.highWaterMark||O.flowing&&O.length===0);){var T=O.length;if(p("maybeReadMore read 0"),P.read(0),T===O.length)break}O.readingMore=!1}G.prototype._read=function(P){C(this,new B("_read()"))},G.prototype.pipe=function(P,O){var T=this,_=this._readableState;switch(_.pipesCount){case 0:_.pipes=P;break;case 1:_.pipes=[_.pipes,P];break;default:_.pipes.push(P);break}_.pipesCount+=1,p("pipe count=%d opts=%j",_.pipesCount,O);var w=(!O||O.end!==!1)&&P!==i.stdout&&P!==i.stderr,L=w?re:vt;_.endEmitted?i.nextTick(L):T.once("end",L),P.on("unpipe",W);function W(Pt,Ge){p("onunpipe"),Pt===T&&Ge&&Ge.hasUnpiped===!1&&(Ge.hasUnpiped=!0,we())}function re(){p("onend"),P.end()}var oe=ye(T);P.on("drain",oe);var _e=!1;function we(){p("cleanup"),P.removeListener("close",$e),P.removeListener("finish",Bt),P.removeListener("drain",oe),P.removeListener("error",Ne),P.removeListener("unpipe",W),T.removeListener("end",re),T.removeListener("end",vt),T.removeListener("data",Ce),_e=!0,_.awaitDrain&&(!P._writableState||P._writableState.needDrain)&&oe()}T.on("data",Ce);function Ce(Pt){p("ondata");var Ge=P.write(Pt);p("dest.write",Ge),Ge===!1&&((_.pipesCount===1&&_.pipes===P||_.pipesCount>1&&Y(_.pipes,P)!==-1)&&!_e&&(p("false write response, pause",_.awaitDrain),_.awaitDrain++),T.pause())}function Ne(Pt){p("onerror",Pt),vt(),P.removeListener("error",Ne),u(P,"error")===0&&C(P,Pt)}z(P,"error",Ne);function $e(){P.removeListener("finish",Bt),vt()}P.once("close",$e);function Bt(){p("onfinish"),P.removeListener("close",$e),vt()}P.once("finish",Bt);function vt(){p("unpipe"),T.unpipe(P)}return P.emit("pipe",T),_.flowing||(p("pipe resume"),T.resume()),P};function ye(P){return function(){var T=P._readableState;p("pipeOnDrain",T.awaitDrain),T.awaitDrain&&T.awaitDrain--,T.awaitDrain===0&&u(P,"data")&&(T.flowing=!0,M(P))}}G.prototype.unpipe=function(P){var O=this._readableState,T={hasUnpiped:!1};if(O.pipesCount===0)return this;if(O.pipesCount===1)return P&&P!==O.pipes?this:(P||(P=O.pipes),O.pipes=null,O.pipesCount=0,O.flowing=!1,P&&P.emit("unpipe",this,T),this);if(!P){var _=O.pipes,w=O.pipesCount;O.pipes=null,O.pipesCount=0,O.flowing=!1;for(var L=0;L<w;L++)_[L].emit("unpipe",this,{hasUnpiped:!1});return this}var W=Y(O.pipes,P);return W===-1?this:(O.pipes.splice(W,1),O.pipesCount-=1,O.pipesCount===1&&(O.pipes=O.pipes[0]),P.emit("unpipe",this,T),this)},G.prototype.on=function(P,O){var T=c.prototype.on.call(this,P,O),_=this._readableState;return P==="data"?(_.readableListening=this.listenerCount("readable")>0,_.flowing!==!1&&this.resume()):P==="readable"&&!_.endEmitted&&!_.readableListening&&(_.readableListening=_.needReadable=!0,_.flowing=!1,_.emittedReadable=!1,p("on readable",_.length,_.reading),_.length?Z(this):_.reading||i.nextTick(q,this)),T},G.prototype.addListener=G.prototype.on,G.prototype.removeListener=function(P,O){var T=c.prototype.removeListener.call(this,P,O);return P==="readable"&&i.nextTick(ne,this),T},G.prototype.removeAllListeners=function(P){var O=c.prototype.removeAllListeners.apply(this,arguments);return(P==="readable"||P===void 0)&&i.nextTick(ne,this),O};function ne(P){var O=P._readableState;O.readableListening=P.listenerCount("readable")>0,O.resumeScheduled&&!O.paused?O.flowing=!0:P.listenerCount("data")>0&&P.resume()}function q(P){p("readable nexttick read 0"),P.read(0)}G.prototype.resume=function(){var P=this._readableState;return P.flowing||(p("resume"),P.flowing=!P.readableListening,H(this,P)),P.paused=!1,this};function H(P,O){O.resumeScheduled||(O.resumeScheduled=!0,i.nextTick(k,P,O))}function k(P,O){p("resume",O.reading),O.reading||P.read(0),O.resumeScheduled=!1,P.emit("resume"),M(P),O.flowing&&!O.reading&&P.read(0)}G.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function M(P){var O=P._readableState;for(p("flow",O.flowing);O.flowing&&P.read()!==null;);}G.prototype.wrap=function(P){var O=this,T=this._readableState,_=!1;P.on("end",function(){if(p("wrapped end"),T.decoder&&!T.ended){var W=T.decoder.end();W&&W.length&&O.push(W)}O.push(null)}),P.on("data",function(W){if(p("wrapped data"),T.decoder&&(W=T.decoder.write(W)),!(T.objectMode&&W==null)&&!(!T.objectMode&&(!W||!W.length))){var re=O.push(W);re||(_=!0,P.pause())}});for(var w in P)this[w]===void 0&&typeof P[w]=="function"&&(this[w]=function(re){return function(){return P[re].apply(P,arguments)}}(w));for(var L=0;L<S.length;L++)P.on(S[L],this.emit.bind(this,S[L]));return this._read=function(W){p("wrapped _read",W),_&&(_=!1,P.resume())},this},typeof Symbol=="function"&&(G.prototype[Symbol.asyncIterator]=function(){return K===void 0&&(K=n("./internal/streams/async_iterator")),K(this)}),Object.defineProperty(G.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(G.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(G.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(O){this._readableState&&(this._readableState.flowing=O)}}),G._fromList=$,Object.defineProperty(G.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function $(P,O){if(O.length===0)return null;var T;return O.objectMode?T=O.buffer.shift():!P||P>=O.length?(O.decoder?T=O.buffer.join(""):O.buffer.length===1?T=O.buffer.first():T=O.buffer.concat(O.length),O.buffer.clear()):T=O.buffer.consume(P,O.decoder),T}function F(P){var O=P._readableState;p("endReadable",O.endEmitted),O.endEmitted||(O.ended=!0,i.nextTick(V,O,P))}function V(P,O){if(p("endReadableNT",P.endEmitted,P.length),!P.endEmitted&&P.length===0&&(P.endEmitted=!0,O.readable=!1,O.emit("end"),P.autoDestroy)){var T=O._writableState;(!T||T.autoDestroy&&T.finished)&&O.destroy()}}typeof Symbol=="function"&&(G.from=function(P,O){return y===void 0&&(y=n("./internal/streams/from")),y(G,P,O)});function Y(P,O){for(var T=0,_=P.length;T<_;T++)if(P[T]===O)return T;return-1}}).call(this)}).call(this,n("_process"),typeof en<"u"?en:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":55,"./_stream_duplex":56,"./internal/streams/async_iterator":61,"./internal/streams/buffer_list":62,"./internal/streams/destroy":63,"./internal/streams/from":65,"./internal/streams/state":67,"./internal/streams/stream":68,_process:50,buffer:17,events:22,inherits:24,"string_decoder/":75,util:16}],59:[function(n,r,o){r.exports=f;var i=n("../errors").codes,s=i.ERR_METHOD_NOT_IMPLEMENTED,a=i.ERR_MULTIPLE_CALLBACK,u=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=i.ERR_TRANSFORM_WITH_LENGTH_0,l=n("./_stream_duplex");n("inherits")(f,l);function h(p,b){var E=this._transformState;E.transforming=!1;var v=E.writecb;if(v===null)return this.emit("error",new a);E.writechunk=null,E.writecb=null,b!=null&&this.push(b),v(p);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function f(p){if(!(this instanceof f))return new f(p);l.call(this,p),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",d)}function d(){var p=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(b,E){m(p,b,E)}):m(this,null,null)}f.prototype.push=function(p,b){return this._transformState.needTransform=!1,l.prototype.push.call(this,p,b)},f.prototype._transform=function(p,b,E){E(new s("_transform()"))},f.prototype._write=function(p,b,E){var v=this._transformState;if(v.writecb=E,v.writechunk=p,v.writeencoding=b,!v.transforming){var g=this._readableState;(v.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},f.prototype._read=function(p){var b=this._transformState;b.writechunk!==null&&!b.transforming?(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform)):b.needTransform=!0},f.prototype._destroy=function(p,b){l.prototype._destroy.call(this,p,function(E){b(E)})};function m(p,b,E){if(b)return p.emit("error",b);if(E!=null&&p.push(E),p._writableState.length)throw new c;if(p._transformState.transforming)throw new u;return p.push(null)}},{"../errors":55,"./_stream_duplex":56,inherits:24}],60:[function(n,r,o){(function(i,s){(function(){r.exports=X;function a(M){var $=this;this.next=null,this.entry=null,this.finish=function(){k($,M)}}var u;X.WritableState=S;var c={deprecate:n("util-deprecate")},l=n("./internal/streams/stream"),h=n("buffer").Buffer,f=s.Uint8Array||function(){};function d(M){return h.from(M)}function m(M){return h.isBuffer(M)||M instanceof f}var p=n("./internal/streams/destroy"),b=n("./internal/streams/state"),E=b.getHighWaterMark,v=n("../errors").codes,g=v.ERR_INVALID_ARG_TYPE,x=v.ERR_METHOD_NOT_IMPLEMENTED,A=v.ERR_MULTIPLE_CALLBACK,I=v.ERR_STREAM_CANNOT_PIPE,B=v.ERR_STREAM_DESTROYED,j=v.ERR_STREAM_NULL_VALUES,U=v.ERR_STREAM_WRITE_AFTER_END,K=v.ERR_UNKNOWN_ENCODING,y=p.errorOrDestroy;n("inherits")(X,l);function C(){}function S(M,$,F){u=u||n("./_stream_duplex"),M=M||{},typeof F!="boolean"&&(F=$ instanceof u),this.objectMode=!!M.objectMode,F&&(this.objectMode=this.objectMode||!!M.writableObjectMode),this.highWaterMark=E(this,M,"writableHighWaterMark",F),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var V=M.decodeStrings===!1;this.decodeStrings=!V,this.defaultEncoding=M.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Y){pe($,Y)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=M.emitClose!==!1,this.autoDestroy=!!M.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}S.prototype.getBuffer=function(){for(var $=this.bufferedRequest,F=[];$;)F.push($),$=$.next;return F},function(){try{Object.defineProperty(S.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var z;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(z=Function.prototype[Symbol.hasInstance],Object.defineProperty(X,Symbol.hasInstance,{value:function($){return z.call(this,$)?!0:this!==X?!1:$&&$._writableState instanceof S}})):z=function($){return $ instanceof this};function X(M){u=u||n("./_stream_duplex");var $=this instanceof u;if(!$&&!z.call(X,this))return new X(M);this._writableState=new S(M,this,$),this.writable=!0,M&&(typeof M.write=="function"&&(this._write=M.write),typeof M.writev=="function"&&(this._writev=M.writev),typeof M.destroy=="function"&&(this._destroy=M.destroy),typeof M.final=="function"&&(this._final=M.final)),l.call(this)}X.prototype.pipe=function(){y(this,new I)};function G(M,$){var F=new U;y(M,F),i.nextTick($,F)}function J(M,$,F,V){var Y;return F===null?Y=new j:typeof F!="string"&&!$.objectMode&&(Y=new g("chunk",["string","Buffer"],F)),Y?(y(M,Y),i.nextTick(V,Y),!1):!0}X.prototype.write=function(M,$,F){var V=this._writableState,Y=!1,P=!V.objectMode&&m(M);return P&&!h.isBuffer(M)&&(M=d(M)),typeof $=="function"&&(F=$,$=null),P?$="buffer":$||($=V.defaultEncoding),typeof F!="function"&&(F=C),V.ending?G(this,F):(P||J(this,V,M,F))&&(V.pendingcb++,Y=D(this,V,P,M,$,F)),Y},X.prototype.cork=function(){this._writableState.corked++},X.prototype.uncork=function(){var M=this._writableState;M.corked&&(M.corked--,!M.writing&&!M.corked&&!M.bufferProcessing&&M.bufferedRequest&&ue(this,M))},X.prototype.setDefaultEncoding=function($){if(typeof $=="string"&&($=$.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf(($+"").toLowerCase())>-1))throw new K($);return this._writableState.defaultEncoding=$,this},Object.defineProperty(X.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function R(M,$,F){return!M.objectMode&&M.decodeStrings!==!1&&typeof $=="string"&&($=h.from($,F)),$}Object.defineProperty(X.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function D(M,$,F,V,Y,P){if(!F){var O=R($,V,Y);V!==O&&(F=!0,Y="buffer",V=O)}var T=$.objectMode?1:V.length;$.length+=T;var _=$.length<$.highWaterMark;if(_||($.needDrain=!0),$.writing||$.corked){var w=$.lastBufferedRequest;$.lastBufferedRequest={chunk:V,encoding:Y,isBuf:F,callback:P,next:null},w?w.next=$.lastBufferedRequest:$.bufferedRequest=$.lastBufferedRequest,$.bufferedRequestCount+=1}else Q(M,$,!1,T,V,Y,P);return _}function Q(M,$,F,V,Y,P,O){$.writelen=V,$.writecb=O,$.writing=!0,$.sync=!0,$.destroyed?$.onwrite(new B("write")):F?M._writev(Y,$.onwrite):M._write(Y,P,$.onwrite),$.sync=!1}function te(M,$,F,V,Y){--$.pendingcb,F?(i.nextTick(Y,V),i.nextTick(q,M,$),M._writableState.errorEmitted=!0,y(M,V)):(Y(V),M._writableState.errorEmitted=!0,y(M,V),q(M,$))}function he(M){M.writing=!1,M.writecb=null,M.length-=M.writelen,M.writelen=0}function pe(M,$){var F=M._writableState,V=F.sync,Y=F.writecb;if(typeof Y!="function")throw new A;if(he(F),$)te(M,F,V,$,Y);else{var P=ce(F)||M.destroyed;!P&&!F.corked&&!F.bufferProcessing&&F.bufferedRequest&&ue(M,F),V?i.nextTick(Z,M,F,P,Y):Z(M,F,P,Y)}}function Z(M,$,F,V){F||ee(M,$),$.pendingcb--,V(),q(M,$)}function ee(M,$){$.length===0&&$.needDrain&&($.needDrain=!1,M.emit("drain"))}function ue(M,$){$.bufferProcessing=!0;var F=$.bufferedRequest;if(M._writev&&F&&F.next){var V=$.bufferedRequestCount,Y=new Array(V),P=$.corkedRequestsFree;P.entry=F;for(var O=0,T=!0;F;)Y[O]=F,F.isBuf||(T=!1),F=F.next,O+=1;Y.allBuffers=T,Q(M,$,!0,$.length,Y,"",P.finish),$.pendingcb++,$.lastBufferedRequest=null,P.next?($.corkedRequestsFree=P.next,P.next=null):$.corkedRequestsFree=new a($),$.bufferedRequestCount=0}else{for(;F;){var _=F.chunk,w=F.encoding,L=F.callback,W=$.objectMode?1:_.length;if(Q(M,$,!1,W,_,w,L),F=F.next,$.bufferedRequestCount--,$.writing)break}F===null&&($.lastBufferedRequest=null)}$.bufferedRequest=F,$.bufferProcessing=!1}X.prototype._write=function(M,$,F){F(new x("_write()"))},X.prototype._writev=null,X.prototype.end=function(M,$,F){var V=this._writableState;return typeof M=="function"?(F=M,M=null,$=null):typeof $=="function"&&(F=$,$=null),M!=null&&this.write(M,$),V.corked&&(V.corked=1,this.uncork()),V.ending||H(this,V,F),this},Object.defineProperty(X.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ce(M){return M.ending&&M.length===0&&M.bufferedRequest===null&&!M.finished&&!M.writing}function ye(M,$){M._final(function(F){$.pendingcb--,F&&y(M,F),$.prefinished=!0,M.emit("prefinish"),q(M,$)})}function ne(M,$){!$.prefinished&&!$.finalCalled&&(typeof M._final=="function"&&!$.destroyed?($.pendingcb++,$.finalCalled=!0,i.nextTick(ye,M,$)):($.prefinished=!0,M.emit("prefinish")))}function q(M,$){var F=ce($);if(F&&(ne(M,$),$.pendingcb===0&&($.finished=!0,M.emit("finish"),$.autoDestroy))){var V=M._readableState;(!V||V.autoDestroy&&V.endEmitted)&&M.destroy()}return F}function H(M,$,F){$.ending=!0,q(M,$),F&&($.finished?i.nextTick(F):M.once("finish",F)),$.ended=!0,M.writable=!1}function k(M,$,F){var V=M.entry;for(M.entry=null;V;){var Y=V.callback;$.pendingcb--,Y(F),V=V.next}$.corkedRequestsFree.next=M}Object.defineProperty(X.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function($){this._writableState&&(this._writableState.destroyed=$)}}),X.prototype.destroy=p.destroy,X.prototype._undestroy=p.undestroy,X.prototype._destroy=function(M,$){$(M)}}).call(this)}).call(this,n("_process"),typeof en<"u"?en:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":55,"./_stream_duplex":56,"./internal/streams/destroy":63,"./internal/streams/state":67,"./internal/streams/stream":68,_process:50,buffer:17,inherits:24,"util-deprecate":78}],61:[function(n,r,o){(function(i){(function(){var s;function a(B,j,U){return j in B?Object.defineProperty(B,j,{value:U,enumerable:!0,configurable:!0,writable:!0}):B[j]=U,B}var u=n("./end-of-stream"),c=Symbol("lastResolve"),l=Symbol("lastReject"),h=Symbol("error"),f=Symbol("ended"),d=Symbol("lastPromise"),m=Symbol("handlePromise"),p=Symbol("stream");function b(B,j){return{value:B,done:j}}function E(B){var j=B[c];if(j!==null){var U=B[p].read();U!==null&&(B[d]=null,B[c]=null,B[l]=null,j(b(U,!1)))}}function v(B){i.nextTick(E,B)}function g(B,j){return function(U,K){B.then(function(){if(j[f]){U(b(void 0,!0));return}j[m](U,K)},K)}}var x=Object.getPrototypeOf(function(){}),A=Object.setPrototypeOf((s={get stream(){return this[p]},next:function(){var j=this,U=this[h];if(U!==null)return Promise.reject(U);if(this[f])return Promise.resolve(b(void 0,!0));if(this[p].destroyed)return new Promise(function(S,z){i.nextTick(function(){j[h]?z(j[h]):S(b(void 0,!0))})});var K=this[d],y;if(K)y=new Promise(g(K,this));else{var C=this[p].read();if(C!==null)return Promise.resolve(b(C,!1));y=new Promise(this[m])}return this[d]=y,y}},a(s,Symbol.asyncIterator,function(){return this}),a(s,"return",function(){var j=this;return new Promise(function(U,K){j[p].destroy(null,function(y){if(y){K(y);return}U(b(void 0,!0))})})}),s),x),I=function(j){var U,K=Object.create(A,(U={},a(U,p,{value:j,writable:!0}),a(U,c,{value:null,writable:!0}),a(U,l,{value:null,writable:!0}),a(U,h,{value:null,writable:!0}),a(U,f,{value:j._readableState.endEmitted,writable:!0}),a(U,m,{value:function(C,S){var z=K[p].read();z?(K[d]=null,K[c]=null,K[l]=null,C(b(z,!1))):(K[c]=C,K[l]=S)},writable:!0}),U));return K[d]=null,u(j,function(y){if(y&&y.code!=="ERR_STREAM_PREMATURE_CLOSE"){var C=K[l];C!==null&&(K[d]=null,K[c]=null,K[l]=null,C(y)),K[h]=y;return}var S=K[c];S!==null&&(K[d]=null,K[c]=null,K[l]=null,S(b(void 0,!0))),K[f]=!0}),j.on("readable",v.bind(null,K)),K};r.exports=I}).call(this)}).call(this,n("_process"))},{"./end-of-stream":64,_process:50}],62:[function(n,r,o){function i(E,v){var g=Object.keys(E);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(E);v&&(x=x.filter(function(A){return Object.getOwnPropertyDescriptor(E,A).enumerable})),g.push.apply(g,x)}return g}function s(E){for(var v=1;v<arguments.length;v++){var g=arguments[v]!=null?arguments[v]:{};v%2?i(Object(g),!0).forEach(function(x){a(E,x,g[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(g)):i(Object(g)).forEach(function(x){Object.defineProperty(E,x,Object.getOwnPropertyDescriptor(g,x))})}return E}function a(E,v,g){return v in E?Object.defineProperty(E,v,{value:g,enumerable:!0,configurable:!0,writable:!0}):E[v]=g,E}function u(E,v){if(!(E instanceof v))throw new TypeError("Cannot call a class as a function")}function c(E,v){for(var g=0;g<v.length;g++){var x=v[g];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(E,x.key,x)}}function l(E,v,g){return v&&c(E.prototype,v),g&&c(E,g),E}var h=n("buffer"),f=h.Buffer,d=n("util"),m=d.inspect,p=m&&m.custom||"inspect";function b(E,v,g){f.prototype.copy.call(E,v,g)}r.exports=function(){function E(){u(this,E),this.head=null,this.tail=null,this.length=0}return l(E,[{key:"push",value:function(g){var x={data:g,next:null};this.length>0?this.tail.next=x:this.head=x,this.tail=x,++this.length}},{key:"unshift",value:function(g){var x={data:g,next:this.head};this.length===0&&(this.tail=x),this.head=x,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var x=this.head,A=""+x.data;x=x.next;)A+=g+x.data;return A}},{key:"concat",value:function(g){if(this.length===0)return f.alloc(0);for(var x=f.allocUnsafe(g>>>0),A=this.head,I=0;A;)b(A.data,x,I),I+=A.data.length,A=A.next;return x}},{key:"consume",value:function(g,x){var A;return g<this.head.data.length?(A=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):g===this.head.data.length?A=this.shift():A=x?this._getString(g):this._getBuffer(g),A}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var x=this.head,A=1,I=x.data;for(g-=I.length;x=x.next;){var B=x.data,j=g>B.length?B.length:g;if(j===B.length?I+=B:I+=B.slice(0,g),g-=j,g===0){j===B.length?(++A,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=B.slice(j));break}++A}return this.length-=A,I}},{key:"_getBuffer",value:function(g){var x=f.allocUnsafe(g),A=this.head,I=1;for(A.data.copy(x),g-=A.data.length;A=A.next;){var B=A.data,j=g>B.length?B.length:g;if(B.copy(x,x.length-g,0,j),g-=j,g===0){j===B.length?(++I,A.next?this.head=A.next:this.head=this.tail=null):(this.head=A,A.data=B.slice(j));break}++I}return this.length-=I,x}},{key:p,value:function(g,x){return m(this,s({},x,{depth:0,customInspect:!1}))}}]),E}()},{buffer:17,util:16}],63:[function(n,r,o){(function(i){(function(){function s(f,d){var m=this,p=this._readableState&&this._readableState.destroyed,b=this._writableState&&this._writableState.destroyed;return p||b?(d?d(f):f&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(l,this,f)):i.nextTick(l,this,f)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(f||null,function(E){!d&&E?m._writableState?m._writableState.errorEmitted?i.nextTick(u,m):(m._writableState.errorEmitted=!0,i.nextTick(a,m,E)):i.nextTick(a,m,E):d?(i.nextTick(u,m),d(E)):i.nextTick(u,m)}),this)}function a(f,d){l(f,d),u(f)}function u(f){f._writableState&&!f._writableState.emitClose||f._readableState&&!f._readableState.emitClose||f.emit("close")}function c(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function l(f,d){f.emit("error",d)}function h(f,d){var m=f._readableState,p=f._writableState;m&&m.autoDestroy||p&&p.autoDestroy?f.destroy(d):f.emit("error",d)}r.exports={destroy:s,undestroy:c,errorOrDestroy:h}}).call(this)}).call(this,n("_process"))},{_process:50}],64:[function(n,r,o){var i=n("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function s(l){var h=!1;return function(){if(!h){h=!0;for(var f=arguments.length,d=new Array(f),m=0;m<f;m++)d[m]=arguments[m];l.apply(this,d)}}}function a(){}function u(l){return l.setHeader&&typeof l.abort=="function"}function c(l,h,f){if(typeof h=="function")return c(l,null,h);h||(h={}),f=s(f||a);var d=h.readable||h.readable!==!1&&l.readable,m=h.writable||h.writable!==!1&&l.writable,p=function(){l.writable||E()},b=l._writableState&&l._writableState.finished,E=function(){m=!1,b=!0,d||f.call(l)},v=l._readableState&&l._readableState.endEmitted,g=function(){d=!1,v=!0,m||f.call(l)},x=function(j){f.call(l,j)},A=function(){var j;if(d&&!v)return(!l._readableState||!l._readableState.ended)&&(j=new i),f.call(l,j);if(m&&!b)return(!l._writableState||!l._writableState.ended)&&(j=new i),f.call(l,j)},I=function(){l.req.on("finish",E)};return u(l)?(l.on("complete",E),l.on("abort",A),l.req?I():l.on("request",I)):m&&!l._writableState&&(l.on("end",p),l.on("close",p)),l.on("end",g),l.on("finish",E),h.error!==!1&&l.on("error",x),l.on("close",A),function(){l.removeListener("complete",E),l.removeListener("abort",A),l.removeListener("request",I),l.req&&l.req.removeListener("finish",E),l.removeListener("end",p),l.removeListener("close",p),l.removeListener("finish",E),l.removeListener("end",g),l.removeListener("error",x),l.removeListener("close",A)}}r.exports=c},{"../../../errors":55}],65:[function(n,r,o){r.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],66:[function(n,r,o){var i;function s(E){var v=!1;return function(){v||(v=!0,E.apply(void 0,arguments))}}var a=n("../../../errors").codes,u=a.ERR_MISSING_ARGS,c=a.ERR_STREAM_DESTROYED;function l(E){if(E)throw E}function h(E){return E.setHeader&&typeof E.abort=="function"}function f(E,v,g,x){x=s(x);var A=!1;E.on("close",function(){A=!0}),i===void 0&&(i=n("./end-of-stream")),i(E,{readable:v,writable:g},function(B){if(B)return x(B);A=!0,x()});var I=!1;return function(B){if(!A&&!I){if(I=!0,h(E))return E.abort();if(typeof E.destroy=="function")return E.destroy();x(B||new c("pipe"))}}}function d(E){E()}function m(E,v){return E.pipe(v)}function p(E){return!E.length||typeof E[E.length-1]!="function"?l:E.pop()}function b(){for(var E=arguments.length,v=new Array(E),g=0;g<E;g++)v[g]=arguments[g];var x=p(v);if(Array.isArray(v[0])&&(v=v[0]),v.length<2)throw new u("streams");var A,I=v.map(function(B,j){var U=j<v.length-1,K=j>0;return f(B,U,K,function(y){A||(A=y),y&&I.forEach(d),!U&&(I.forEach(d),x(A))})});return v.reduce(m)}r.exports=b},{"../../../errors":55,"./end-of-stream":64}],67:[function(n,r,o){var i=n("../../../errors").codes.ERR_INVALID_OPT_VALUE;function s(u,c,l){return u.highWaterMark!=null?u.highWaterMark:c?u[l]:null}function a(u,c,l,h){var f=s(c,h,l);if(f!=null){if(!(isFinite(f)&&Math.floor(f)===f)||f<0){var d=h?l:"highWaterMark";throw new i(d,f)}return Math.floor(f)}return u.objectMode?16:16*1024}r.exports={getHighWaterMark:a}},{"../../../errors":55}],68:[function(n,r,o){r.exports=n("events").EventEmitter},{events:22}],69:[function(n,r,o){o=r.exports=n("./lib/_stream_readable.js"),o.Stream=o,o.Readable=o,o.Writable=n("./lib/_stream_writable.js"),o.Duplex=n("./lib/_stream_duplex.js"),o.Transform=n("./lib/_stream_transform.js"),o.PassThrough=n("./lib/_stream_passthrough.js"),o.finished=n("./lib/internal/streams/end-of-stream.js"),o.pipeline=n("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":56,"./lib/_stream_passthrough.js":57,"./lib/_stream_readable.js":58,"./lib/_stream_transform.js":59,"./lib/_stream_writable.js":60,"./lib/internal/streams/end-of-stream.js":64,"./lib/internal/streams/pipeline.js":66}],70:[function(n,r,o){function i(a,u,c){var l=this;this._callback=a,this._args=c,this._interval=setInterval(a,u,this._args),this.reschedule=function(h){h||(h=l._interval),l._interval&&clearInterval(l._interval),l._interval=setInterval(l._callback,h,l._args)},this.clear=function(){l._interval&&(clearInterval(l._interval),l._interval=void 0)},this.destroy=function(){l._interval&&clearInterval(l._interval),l._callback=void 0,l._interval=void 0,l._args=void 0}}function s(){if(typeof arguments[0]!="function")throw new Error("callback needed");if(typeof arguments[1]!="number")throw new Error("interval needed");var a;if(arguments.length>0){a=new Array(arguments.length-2);for(var u=0;u<a.length;u++)a[u]=arguments[u+2]}return new i(arguments[0],arguments[1],a)}r.exports=s},{}],71:[function(n,r,o){r.exports=n("./index.js")()},{"./index.js":72}],72:[function(n,r,o){(function(i){(function(){r.exports=a;function s(c){return c instanceof i?i.from(c):new c.constructor(c.buffer.slice(),c.byteOffset,c.length)}function a(c){if(c=c||{},c.circles)return u(c);return c.proto?f:h;function l(d,m){for(var p=Object.keys(d),b=new Array(p.length),E=0;E<p.length;E++){var v=p[E],g=d[v];typeof g!="object"||g===null?b[v]=g:g instanceof Date?b[v]=new Date(g):ArrayBuffer.isView(g)?b[v]=s(g):b[v]=m(g)}return b}function h(d){if(typeof d!="object"||d===null)return d;if(d instanceof Date)return new Date(d);if(Array.isArray(d))return l(d,h);if(d instanceof Map)return new Map(l(Array.from(d),h));if(d instanceof Set)return new Set(l(Array.from(d),h));var m={};for(var p in d)if(Object.hasOwnProperty.call(d,p)!==!1){var b=d[p];typeof b!="object"||b===null?m[p]=b:b instanceof Date?m[p]=new Date(b):b instanceof Map?m[p]=new Map(l(Array.from(b),h)):b instanceof Set?m[p]=new Set(l(Array.from(b),h)):ArrayBuffer.isView(b)?m[p]=s(b):m[p]=h(b)}return m}function f(d){if(typeof d!="object"||d===null)return d;if(d instanceof Date)return new Date(d);if(Array.isArray(d))return l(d,f);if(d instanceof Map)return new Map(l(Array.from(d),f));if(d instanceof Set)return new Set(l(Array.from(d),f));var m={};for(var p in d){var b=d[p];typeof b!="object"||b===null?m[p]=b:b instanceof Date?m[p]=new Date(b):b instanceof Map?m[p]=new Map(l(Array.from(b),f)):b instanceof Set?m[p]=new Set(l(Array.from(b),f)):ArrayBuffer.isView(b)?m[p]=s(b):m[p]=f(b)}return m}}function u(c){var l=[],h=[];return c.proto?m:d;function f(p,b){for(var E=Object.keys(p),v=new Array(E.length),g=0;g<E.length;g++){var x=E[g],A=p[x];if(typeof A!="object"||A===null)v[x]=A;else if(A instanceof Date)v[x]=new Date(A);else if(ArrayBuffer.isView(A))v[x]=s(A);else{var I=l.indexOf(A);I!==-1?v[x]=h[I]:v[x]=b(A)}}return v}function d(p){if(typeof p!="object"||p===null)return p;if(p instanceof Date)return new Date(p);if(Array.isArray(p))return f(p,d);if(p instanceof Map)return new Map(f(Array.from(p),d));if(p instanceof Set)return new Set(f(Array.from(p),d));var b={};l.push(p),h.push(b);for(var E in p)if(Object.hasOwnProperty.call(p,E)!==!1){var v=p[E];if(typeof v!="object"||v===null)b[E]=v;else if(v instanceof Date)b[E]=new Date(v);else if(v instanceof Map)b[E]=new Map(f(Array.from(v),d));else if(v instanceof Set)b[E]=new Set(f(Array.from(v),d));else if(ArrayBuffer.isView(v))b[E]=s(v);else{var g=l.indexOf(v);g!==-1?b[E]=h[g]:b[E]=d(v)}}return l.pop(),h.pop(),b}function m(p){if(typeof p!="object"||p===null)return p;if(p instanceof Date)return new Date(p);if(Array.isArray(p))return f(p,m);if(p instanceof Map)return new Map(f(Array.from(p),m));if(p instanceof Set)return new Set(f(Array.from(p),m));var b={};l.push(p),h.push(b);for(var E in p){var v=p[E];if(typeof v!="object"||v===null)b[E]=v;else if(v instanceof Date)b[E]=new Date(v);else if(v instanceof Map)b[E]=new Map(f(Array.from(v),m));else if(v instanceof Set)b[E]=new Set(f(Array.from(v),m));else if(ArrayBuffer.isView(v))b[E]=s(v);else{var g=l.indexOf(v);g!==-1?b[E]=h[g]:b[E]=m(v)}}return l.pop(),h.pop(),b}}}).call(this)}).call(this,n("buffer").Buffer)},{buffer:17}],73:[function(n,r,o){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var i=n("buffer"),s=i.Buffer;function a(c,l){for(var h in c)l[h]=c[h]}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?r.exports=i:(a(i,o),o.Buffer=u);function u(c,l,h){return s(c,l,h)}u.prototype=Object.create(s.prototype),a(s,u),u.from=function(c,l,h){if(typeof c=="number")throw new TypeError("Argument must not be a number");return s(c,l,h)},u.alloc=function(c,l,h){if(typeof c!="number")throw new TypeError("Argument must be a number");var f=s(c);return l!==void 0?typeof h=="string"?f.fill(l,h):f.fill(l):f.fill(0),f},u.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return s(c)},u.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(c)}},{buffer:17}],74:[function(n,r,o){r.exports=i;function i(a){var u=a._readableState;return u?u.objectMode||typeof a._duplexState=="number"?a.read():a.read(s(u)):null}function s(a){return a.buffer.length?a.buffer.head?a.buffer.head.data.length:a.buffer[0].length:a.length}},{}],75:[function(n,r,o){var i=n("safe-buffer").Buffer,s=i.isEncoding||function(I){switch(I=""+I,I&&I.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(I){if(!I)return"utf8";for(var B;;)switch(I){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return I;default:if(B)return;I=(""+I).toLowerCase(),B=!0}}function u(I){var B=a(I);if(typeof B!="string"&&(i.isEncoding===s||!s(I)))throw new Error("Unknown encoding: "+I);return B||I}o.StringDecoder=c;function c(I){this.encoding=u(I);var B;switch(this.encoding){case"utf16le":this.text=b,this.end=E,B=4;break;case"utf8":this.fillLast=d,B=4;break;case"base64":this.text=v,this.end=g,B=3;break;default:this.write=x,this.end=A;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(B)}c.prototype.write=function(I){if(I.length===0)return"";var B,j;if(this.lastNeed){if(B=this.fillLast(I),B===void 0)return"";j=this.lastNeed,this.lastNeed=0}else j=0;return j<I.length?B?B+this.text(I,j):this.text(I,j):B||""},c.prototype.end=p,c.prototype.text=m,c.prototype.fillLast=function(I){if(this.lastNeed<=I.length)return I.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);I.copy(this.lastChar,this.lastTotal-this.lastNeed,0,I.length),this.lastNeed-=I.length};function l(I){return I<=127?0:I>>5===6?2:I>>4===14?3:I>>3===30?4:I>>6===2?-1:-2}function h(I,B,j){var U=B.length-1;if(U<j)return 0;var K=l(B[U]);return K>=0?(K>0&&(I.lastNeed=K-1),K):--U<j||K===-2?0:(K=l(B[U]),K>=0?(K>0&&(I.lastNeed=K-2),K):--U<j||K===-2?0:(K=l(B[U]),K>=0?(K>0&&(K===2?K=0:I.lastNeed=K-3),K):0))}function f(I,B,j){if((B[0]&192)!==128)return I.lastNeed=0,"�";if(I.lastNeed>1&&B.length>1){if((B[1]&192)!==128)return I.lastNeed=1,"�";if(I.lastNeed>2&&B.length>2&&(B[2]&192)!==128)return I.lastNeed=2,"�"}}function d(I){var B=this.lastTotal-this.lastNeed,j=f(this,I);if(j!==void 0)return j;if(this.lastNeed<=I.length)return I.copy(this.lastChar,B,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);I.copy(this.lastChar,B,0,I.length),this.lastNeed-=I.length}function m(I,B){var j=h(this,I,B);if(!this.lastNeed)return I.toString("utf8",B);this.lastTotal=j;var U=I.length-(j-this.lastNeed);return I.copy(this.lastChar,0,U),I.toString("utf8",B,U)}function p(I){var B=I&&I.length?this.write(I):"";return this.lastNeed?B+"�":B}function b(I,B){if((I.length-B)%2===0){var j=I.toString("utf16le",B);if(j){var U=j.charCodeAt(j.length-1);if(U>=55296&&U<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=I[I.length-2],this.lastChar[1]=I[I.length-1],j.slice(0,-1)}return j}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=I[I.length-1],I.toString("utf16le",B,I.length-1)}function E(I){var B=I&&I.length?this.write(I):"";if(this.lastNeed){var j=this.lastTotal-this.lastNeed;return B+this.lastChar.toString("utf16le",0,j)}return B}function v(I,B){var j=(I.length-B)%3;return j===0?I.toString("base64",B):(this.lastNeed=3-j,this.lastTotal=3,j===1?this.lastChar[0]=I[I.length-1]:(this.lastChar[0]=I[I.length-2],this.lastChar[1]=I[I.length-1]),I.toString("base64",B,I.length-j))}function g(I){var B=I&&I.length?this.write(I):"";return this.lastNeed?B+this.lastChar.toString("base64",0,3-this.lastNeed):B}function x(I){return I.toString(this.encoding)}function A(I){return I&&I.length?this.write(I):""}},{"safe-buffer":73}],76:[function(n,r,o){var i=n("punycode"),s=n("./util");o.parse=B,o.resolve=U,o.resolveObject=K,o.format=j,o.Url=a;function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var u=/^([a-z0-9.+-]+:)/i,c=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,h=["<",">",'"',"`"," ","\r",`
`,"	"],f=["{","}","|","\\","^","`"].concat(h),d=["'"].concat(f),m=["%","/","?",";","#"].concat(d),p=["/","?","#"],b=255,E=/^[+a-z0-9A-Z_-]{0,63}$/,v=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},x={javascript:!0,"javascript:":!0},A={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},I=n("querystring");function B(y,C,S){if(y&&s.isObject(y)&&y instanceof a)return y;var z=new a;return z.parse(y,C,S),z}a.prototype.parse=function(y,C,S){if(!s.isString(y))throw new TypeError("Parameter 'url' must be a string, not "+typeof y);var z=y.indexOf("?"),X=z!==-1&&z<y.indexOf("#")?"?":"#",G=y.split(X),J=/\\/g;G[0]=G[0].replace(J,"/"),y=G.join(X);var R=y;if(R=R.trim(),!S&&y.split("#").length===1){var D=l.exec(R);if(D)return this.path=R,this.href=R,this.pathname=D[1],D[2]?(this.search=D[2],C?this.query=I.parse(this.search.substr(1)):this.query=this.search.substr(1)):C&&(this.search="",this.query={}),this}var Q=u.exec(R);if(Q){Q=Q[0];var te=Q.toLowerCase();this.protocol=te,R=R.substr(Q.length)}if(S||Q||R.match(/^\/\/[^@\/]+@[^@\/]+/)){var he=R.substr(0,2)==="//";he&&!(Q&&x[Q])&&(R=R.substr(2),this.slashes=!0)}if(!x[Q]&&(he||Q&&!A[Q])){for(var pe=-1,Z=0;Z<p.length;Z++){var ee=R.indexOf(p[Z]);ee!==-1&&(pe===-1||ee<pe)&&(pe=ee)}var ue,ce;pe===-1?ce=R.lastIndexOf("@"):ce=R.lastIndexOf("@",pe),ce!==-1&&(ue=R.slice(0,ce),R=R.slice(ce+1),this.auth=decodeURIComponent(ue)),pe=-1;for(var Z=0;Z<m.length;Z++){var ee=R.indexOf(m[Z]);ee!==-1&&(pe===-1||ee<pe)&&(pe=ee)}pe===-1&&(pe=R.length),this.host=R.slice(0,pe),R=R.slice(pe),this.parseHost(),this.hostname=this.hostname||"";var ye=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ye)for(var ne=this.hostname.split(/\./),Z=0,q=ne.length;Z<q;Z++){var H=ne[Z];if(H&&!H.match(E)){for(var k="",M=0,$=H.length;M<$;M++)H.charCodeAt(M)>127?k+="x":k+=H[M];if(!k.match(E)){var F=ne.slice(0,Z),V=ne.slice(Z+1),Y=H.match(v);Y&&(F.push(Y[1]),V.unshift(Y[2])),V.length&&(R="/"+V.join(".")+R),this.hostname=F.join(".");break}}}this.hostname.length>b?this.hostname="":this.hostname=this.hostname.toLowerCase(),ye||(this.hostname=i.toASCII(this.hostname));var P=this.port?":"+this.port:"",O=this.hostname||"";this.host=O+P,this.href+=this.host,ye&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),R[0]!=="/"&&(R="/"+R))}if(!g[te])for(var Z=0,q=d.length;Z<q;Z++){var T=d[Z];if(R.indexOf(T)!==-1){var _=encodeURIComponent(T);_===T&&(_=escape(T)),R=R.split(T).join(_)}}var w=R.indexOf("#");w!==-1&&(this.hash=R.substr(w),R=R.slice(0,w));var L=R.indexOf("?");if(L!==-1?(this.search=R.substr(L),this.query=R.substr(L+1),C&&(this.query=I.parse(this.query)),R=R.slice(0,L)):C&&(this.search="",this.query={}),R&&(this.pathname=R),A[te]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var P=this.pathname||"",W=this.search||"";this.path=P+W}return this.href=this.format(),this};function j(y){return s.isString(y)&&(y=B(y)),y instanceof a?y.format():a.prototype.format.call(y)}a.prototype.format=function(){var y=this.auth||"";y&&(y=encodeURIComponent(y),y=y.replace(/%3A/i,":"),y+="@");var C=this.protocol||"",S=this.pathname||"",z=this.hash||"",X=!1,G="";this.host?X=y+this.host:this.hostname&&(X=y+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(X+=":"+this.port)),this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(G=I.stringify(this.query));var J=this.search||G&&"?"+G||"";return C&&C.substr(-1)!==":"&&(C+=":"),this.slashes||(!C||A[C])&&X!==!1?(X="//"+(X||""),S&&S.charAt(0)!=="/"&&(S="/"+S)):X||(X=""),z&&z.charAt(0)!=="#"&&(z="#"+z),J&&J.charAt(0)!=="?"&&(J="?"+J),S=S.replace(/[?#]/g,function(R){return encodeURIComponent(R)}),J=J.replace("#","%23"),C+X+S+J+z};function U(y,C){return B(y,!1,!0).resolve(C)}a.prototype.resolve=function(y){return this.resolveObject(B(y,!1,!0)).format()};function K(y,C){return y?B(y,!1,!0).resolveObject(C):C}a.prototype.resolveObject=function(y){if(s.isString(y)){var C=new a;C.parse(y,!1,!0),y=C}for(var S=new a,z=Object.keys(this),X=0;X<z.length;X++){var G=z[X];S[G]=this[G]}if(S.hash=y.hash,y.href==="")return S.href=S.format(),S;if(y.slashes&&!y.protocol){for(var J=Object.keys(y),R=0;R<J.length;R++){var D=J[R];D!=="protocol"&&(S[D]=y[D])}return A[S.protocol]&&S.hostname&&!S.pathname&&(S.path=S.pathname="/"),S.href=S.format(),S}if(y.protocol&&y.protocol!==S.protocol){if(!A[y.protocol]){for(var Q=Object.keys(y),te=0;te<Q.length;te++){var he=Q[te];S[he]=y[he]}return S.href=S.format(),S}if(S.protocol=y.protocol,!y.host&&!x[y.protocol]){for(var q=(y.pathname||"").split("/");q.length&&!(y.host=q.shift()););y.host||(y.host=""),y.hostname||(y.hostname=""),q[0]!==""&&q.unshift(""),q.length<2&&q.unshift(""),S.pathname=q.join("/")}else S.pathname=y.pathname;if(S.search=y.search,S.query=y.query,S.host=y.host||"",S.auth=y.auth,S.hostname=y.hostname||y.host,S.port=y.port,S.pathname||S.search){var pe=S.pathname||"",Z=S.search||"";S.path=pe+Z}return S.slashes=S.slashes||y.slashes,S.href=S.format(),S}var ee=S.pathname&&S.pathname.charAt(0)==="/",ue=y.host||y.pathname&&y.pathname.charAt(0)==="/",ce=ue||ee||S.host&&y.pathname,ye=ce,ne=S.pathname&&S.pathname.split("/")||[],q=y.pathname&&y.pathname.split("/")||[],H=S.protocol&&!A[S.protocol];if(H&&(S.hostname="",S.port=null,S.host&&(ne[0]===""?ne[0]=S.host:ne.unshift(S.host)),S.host="",y.protocol&&(y.hostname=null,y.port=null,y.host&&(q[0]===""?q[0]=y.host:q.unshift(y.host)),y.host=null),ce=ce&&(q[0]===""||ne[0]==="")),ue)S.host=y.host||y.host===""?y.host:S.host,S.hostname=y.hostname||y.hostname===""?y.hostname:S.hostname,S.search=y.search,S.query=y.query,ne=q;else if(q.length)ne||(ne=[]),ne.pop(),ne=ne.concat(q),S.search=y.search,S.query=y.query;else if(!s.isNullOrUndefined(y.search)){if(H){S.hostname=S.host=ne.shift();var k=S.host&&S.host.indexOf("@")>0?S.host.split("@"):!1;k&&(S.auth=k.shift(),S.host=S.hostname=k.shift())}return S.search=y.search,S.query=y.query,(!s.isNull(S.pathname)||!s.isNull(S.search))&&(S.path=(S.pathname?S.pathname:"")+(S.search?S.search:"")),S.href=S.format(),S}if(!ne.length)return S.pathname=null,S.search?S.path="/"+S.search:S.path=null,S.href=S.format(),S;for(var M=ne.slice(-1)[0],$=(S.host||y.host||ne.length>1)&&(M==="."||M==="..")||M==="",F=0,V=ne.length;V>=0;V--)M=ne[V],M==="."?ne.splice(V,1):M===".."?(ne.splice(V,1),F++):F&&(ne.splice(V,1),F--);if(!ce&&!ye)for(;F--;F)ne.unshift("..");ce&&ne[0]!==""&&(!ne[0]||ne[0].charAt(0)!=="/")&&ne.unshift(""),$&&ne.join("/").substr(-1)!=="/"&&ne.push("");var Y=ne[0]===""||ne[0]&&ne[0].charAt(0)==="/";if(H){S.hostname=S.host=Y?"":ne.length?ne.shift():"";var k=S.host&&S.host.indexOf("@")>0?S.host.split("@"):!1;k&&(S.auth=k.shift(),S.host=S.hostname=k.shift())}return ce=ce||S.host&&ne.length,ce&&!Y&&ne.unshift(""),ne.length?S.pathname=ne.join("/"):(S.pathname=null,S.path=null),(!s.isNull(S.pathname)||!s.isNull(S.search))&&(S.path=(S.pathname?S.pathname:"")+(S.search?S.search:"")),S.auth=y.auth||S.auth,S.slashes=S.slashes||y.slashes,S.href=S.format(),S},a.prototype.parseHost=function(){var y=this.host,C=c.exec(y);C&&(C=C[0],C!==":"&&(this.port=C.substr(1)),y=y.substr(0,y.length-C.length)),y&&(this.hostname=y)}},{"./util":77,punycode:51,querystring:54}],77:[function(n,r,o){r.exports={isString:function(i){return typeof i=="string"},isObject:function(i){return typeof i=="object"&&i!==null},isNull:function(i){return i===null},isNullOrUndefined:function(i){return i==null}}},{}],78:[function(n,r,o){(function(i){(function(){r.exports=s;function s(u,c){if(a("noDeprecation"))return u;var l=!1;function h(){if(!l){if(a("throwDeprecation"))throw new Error(c);a("traceDeprecation")?console.trace(c):console.warn(c),l=!0}return u.apply(this,arguments)}return h}function a(u){try{if(!i.localStorage)return!1}catch{return!1}var c=i.localStorage[u];return c==null?!1:String(c).toLowerCase()==="true"}}).call(this)}).call(this,typeof en<"u"?en:typeof self<"u"?self:typeof window<"u"?window:{})},{}],79:[function(n,r,o){r.exports=i;function i(s,a){if(s&&a)return i(s)(a);if(typeof s!="function")throw new TypeError("need wrapper function");return Object.keys(s).forEach(function(c){u[c]=s[c]}),u;function u(){for(var c=new Array(arguments.length),l=0;l<c.length;l++)c[l]=arguments[l];var h=s.apply(this,c),f=c[c.length-1];return typeof h=="function"&&h!==f&&Object.keys(f).forEach(function(d){h[d]=f[d]}),h}}},{}],80:[function(n,r,o){r.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},{}],81:[function(n,r,o){r.exports=s;var i=Object.prototype.hasOwnProperty;function s(){for(var a={},u=0;u<arguments.length;u++){var c=arguments[u];for(var l in c)i.call(c,l)&&(a[l]=c[l])}return a}},{}],82:[function(n,r,o){r.exports=function(i){i.prototype[Symbol.iterator]=function*(){for(let s=this.head;s;s=s.next)yield s.value}}},{}],83:[function(n,r,o){r.exports=i,i.Node=c,i.create=i;function i(l){var h=this;if(h instanceof i||(h=new i),h.tail=null,h.head=null,h.length=0,l&&typeof l.forEach=="function")l.forEach(function(m){h.push(m)});else if(arguments.length>0)for(var f=0,d=arguments.length;f<d;f++)h.push(arguments[f]);return h}i.prototype.removeNode=function(l){if(l.list!==this)throw new Error("removing node which does not belong to this list");var h=l.next,f=l.prev;return h&&(h.prev=f),f&&(f.next=h),l===this.head&&(this.head=h),l===this.tail&&(this.tail=f),l.list.length--,l.next=null,l.prev=null,l.list=null,h},i.prototype.unshiftNode=function(l){if(l!==this.head){l.list&&l.list.removeNode(l);var h=this.head;l.list=this,l.next=h,h&&(h.prev=l),this.head=l,this.tail||(this.tail=l),this.length++}},i.prototype.pushNode=function(l){if(l!==this.tail){l.list&&l.list.removeNode(l);var h=this.tail;l.list=this,l.prev=h,h&&(h.next=l),this.tail=l,this.head||(this.head=l),this.length++}},i.prototype.push=function(){for(var l=0,h=arguments.length;l<h;l++)a(this,arguments[l]);return this.length},i.prototype.unshift=function(){for(var l=0,h=arguments.length;l<h;l++)u(this,arguments[l]);return this.length},i.prototype.pop=function(){if(this.tail){var l=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,l}},i.prototype.shift=function(){if(this.head){var l=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,l}},i.prototype.forEach=function(l,h){h=h||this;for(var f=this.head,d=0;f!==null;d++)l.call(h,f.value,d,this),f=f.next},i.prototype.forEachReverse=function(l,h){h=h||this;for(var f=this.tail,d=this.length-1;f!==null;d--)l.call(h,f.value,d,this),f=f.prev},i.prototype.get=function(l){for(var h=0,f=this.head;f!==null&&h<l;h++)f=f.next;if(h===l&&f!==null)return f.value},i.prototype.getReverse=function(l){for(var h=0,f=this.tail;f!==null&&h<l;h++)f=f.prev;if(h===l&&f!==null)return f.value},i.prototype.map=function(l,h){h=h||this;for(var f=new i,d=this.head;d!==null;)f.push(l.call(h,d.value,this)),d=d.next;return f},i.prototype.mapReverse=function(l,h){h=h||this;for(var f=new i,d=this.tail;d!==null;)f.push(l.call(h,d.value,this)),d=d.prev;return f},i.prototype.reduce=function(l,h){var f,d=this.head;if(arguments.length>1)f=h;else if(this.head)d=this.head.next,f=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var m=0;d!==null;m++)f=l(f,d.value,m),d=d.next;return f},i.prototype.reduceReverse=function(l,h){var f,d=this.tail;if(arguments.length>1)f=h;else if(this.tail)d=this.tail.prev,f=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var m=this.length-1;d!==null;m--)f=l(f,d.value,m),d=d.prev;return f},i.prototype.toArray=function(){for(var l=new Array(this.length),h=0,f=this.head;f!==null;h++)l[h]=f.value,f=f.next;return l},i.prototype.toArrayReverse=function(){for(var l=new Array(this.length),h=0,f=this.tail;f!==null;h++)l[h]=f.value,f=f.prev;return l},i.prototype.slice=function(l,h){h=h||this.length,h<0&&(h+=this.length),l=l||0,l<0&&(l+=this.length);var f=new i;if(h<l||h<0)return f;l<0&&(l=0),h>this.length&&(h=this.length);for(var d=0,m=this.head;m!==null&&d<l;d++)m=m.next;for(;m!==null&&d<h;d++,m=m.next)f.push(m.value);return f},i.prototype.sliceReverse=function(l,h){h=h||this.length,h<0&&(h+=this.length),l=l||0,l<0&&(l+=this.length);var f=new i;if(h<l||h<0)return f;l<0&&(l=0),h>this.length&&(h=this.length);for(var d=this.length,m=this.tail;m!==null&&d>h;d--)m=m.prev;for(;m!==null&&d>l;d--,m=m.prev)f.push(m.value);return f},i.prototype.splice=function(l,h,...f){l>this.length&&(l=this.length-1),l<0&&(l=this.length+l);for(var d=0,m=this.head;m!==null&&d<l;d++)m=m.next;for(var p=[],d=0;m&&d<h;d++)p.push(m.value),m=this.removeNode(m);m===null&&(m=this.tail),m!==this.head&&m!==this.tail&&(m=m.prev);for(var d=0;d<f.length;d++)m=s(this,m,f[d]);return p},i.prototype.reverse=function(){for(var l=this.head,h=this.tail,f=l;f!==null;f=f.prev){var d=f.prev;f.prev=f.next,f.next=d}return this.head=h,this.tail=l,this};function s(l,h,f){var d=h===l.head?new c(f,null,h,l):new c(f,h,h.next,l);return d.next===null&&(l.tail=d),d.prev===null&&(l.head=d),l.length++,d}function a(l,h){l.tail=new c(h,l.tail,null,l),l.head||(l.head=l.tail),l.length++}function u(l,h){l.head=new c(h,null,l.head,l),l.tail||(l.tail=l.head),l.length++}function c(l,h,f,d){if(!(this instanceof c))return new c(l,h,f,d);this.list=d,this.value=l,h?(h.next=this,this.prev=h):this.prev=null,f?(f.prev=this,this.next=f):this.next=null}try{n("./iterator.js")(i)}catch{}},{"./iterator.js":82}]},{},[12])(12)})})(Oh);var Lh=Oh.exports;const k_=0,$h={host:location.hostname,port:9001,endpoint:"/",clean:!0,connectTimeout:4e3,reconnectPeriod:4e3,clientId:Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,6),username:"openWB",password:"openWB"},ts={topic:"",qos:k_};let Dn;const{host:I_,port:M_,endpoint:P_,...O_}=$h,L_=`ws://${I_}:${M_}${P_}`;try{Dn=Lh.connect(L_,O_),Dn.on("connect",()=>{console.info("MQTT connection successful")}),Dn.on("error",e=>{console.error("MQTT connection failed: ",e)})}catch(e){console.error("MQTT connect error: ",e)}function $_(e){Dn?Dn.on("message",e):console.error("MqttRegister: MQTT client not available")}function qi(e){ts.topic=e;const{topic:t,qos:n}=ts;Dn.subscribe(t,{qos:n},r=>{if(r){console.error("MQTT Subscription error: "+r);return}})}function ns(e){ts.topic=e;const{topic:t}=ts;Dn.unsubscribe(t,n=>{if(n){console.error("MQTT Unsubscribe from "+e+" failed: "+n);return}})}function rs(e,t){Dn.publish(e,t,{qos:0},r=>{r&&console.warn("MQTT publish error: ",r),console.info("Message sent: ["+e+"]("+t+")")})}function R_(){return $h.clientId}class N_{constructor(t){de(this,"id");de(this,"name","Ladepunkt");de(this,"icon","Ladepunkt");de(this,"type","");de(this,"ev",0);de(this,"template",0);de(this,"connectedPhases",0);de(this,"phase_1",0);de(this,"autoPhaseSwitchHw",!1);de(this,"controlPilotInterruptionHw",!1);de(this,"isEnabled",!0);de(this,"isPluggedIn",!1);de(this,"isCharging",!1);de(this,"_isLocked",!1);de(this,"_connectedVehicle",0);de(this,"chargeTemplate",0);de(this,"evTemplate",0);de(this,"_chargeMode","pv_charging");de(this,"_hasPriority",!1);de(this,"currentPlan","");de(this,"averageConsumption",0);de(this,"vehicleName","");de(this,"range",0);de(this,"rangeUnit","");de(this,"counter",0);de(this,"dailyYield",0);de(this,"energyPv",0);de(this,"energyBat",0);de(this,"pvPercentage",0);de(this,"faultState",0);de(this,"faultStr","");de(this,"phasesInUse",0);de(this,"power",0);de(this,"chargedSincePlugged",0);de(this,"stateStr","");de(this,"current",0);de(this,"phasesToUse",0);de(this,"soc",0);de(this,"isSocConfigured",!0);de(this,"isSocManual",!1);de(this,"color","white");de(this,"_scheduledCharging",!1);de(this,"_instantChargeLimitMode","");de(this,"_instantTargetCurrent",0);de(this,"_instantTargetSoc",0);de(this,"_instantMaxEnergy",0);de(this,"_pvFeedInLimit",!1);de(this,"_pvMinCurrent",0);de(this,"_pvMaxSoc",0);de(this,"_pvMinSoc",0);de(this,"_pvMinSocCurrent",0);this.id=t}get isLocked(){return this._isLocked}set isLocked(t){this._isLocked=t,Ze("cpLock",t,this.id)}updateIsLocked(t){this._isLocked=t}get connectedVehicle(){return this._connectedVehicle}set connectedVehicle(t){this._connectedVehicle=t,Ze("cpVehicle",t,this.id)}updateConnectedVehicle(t){this._connectedVehicle=t}get chargeMode(){return this._chargeMode}set chargeMode(t){this._chargeMode=t,Ze("chargeMode",t,this.id)}updateChargeMode(t){this._chargeMode=t}get hasPriority(){return this._hasPriority}set hasPriority(t){this._hasPriority=t,Ze("cpPriority",t,this.id)}updateCpPriority(t){this._hasPriority=t}get scheduledCharging(){return this._scheduledCharging}set scheduledCharging(t){this._scheduledCharging=t,Ze("cpScheduledCharging",t,this.id)}updateScheduledCharging(t){this._scheduledCharging=t}get instantTargetCurrent(){return this._instantTargetCurrent}set instantTargetCurrent(t){this._instantTargetCurrent=t,Ze("cpInstantTargetCurrent",t,this.id)}updateInstantTargetCurrent(t){this._instantTargetCurrent=t}get instantChargeLimitMode(){return this._instantChargeLimitMode}set instantChargeLimitMode(t){this._instantChargeLimitMode=t,Ze("cpInstantChargeLimitMode",t,this.id)}updateInstantChargeLimitMode(t){this._instantChargeLimitMode=t}get instantTargetSoc(){return this._instantTargetSoc}set instantTargetSoc(t){this._instantTargetSoc=t,Ze("cpInstantTargetSoc",t,this.id)}updateInstantTargetSoc(t){this._instantTargetSoc=t}get instantMaxEnergy(){return this._instantMaxEnergy}set instantMaxEnergy(t){this._instantMaxEnergy=t,Ze("cpInstantMaxEnergy",t,this.id)}updateInstantMaxEnergy(t){this._instantMaxEnergy=t}get pvFeedInLimit(){return this._pvFeedInLimit}set pvFeedInLimit(t){this._pvFeedInLimit=t,Ze("cpPvFeedInLimit",t,this.id)}updatePvFeedInLimit(t){this._pvFeedInLimit=t}get pvMinCurrent(){return this._pvMinCurrent}set pvMinCurrent(t){this._pvMinCurrent=t,Ze("cpPvMinCurrent",t,this.id)}updatePvMinCurrent(t){this._pvMinCurrent=t}get pvMaxSoc(){return this._pvMaxSoc}set pvMaxSoc(t){this._pvMaxSoc=t,Ze("cpPvMaxSoc",t,this.id)}updatePvMaxSoc(t){this._pvMaxSoc=t}get pvMinSoc(){return this._pvMinSoc}set pvMinSoc(t){this._pvMinSoc=t,Ze("cpPvMinSoc",t,this.id)}updatePvMinSoc(t){this._pvMinSoc=t}get pvMinSocCurrent(){return this._pvMinSocCurrent}set pvMinSocCurrent(t){this._pvMinSocCurrent=t,Ze("cpPvMinSocCurrent",t,this.id)}updatePvMinSocCurrent(t){this._pvMinSocCurrent=t}toPowerItem(){return{name:this.name,power:this.power,energy:this.dailyYield,energyPv:this.energyPv,energyBat:this.energyBat,pvPercentage:this.pvPercentage,color:this.color,icon:this.icon}}}class D_{constructor(t){de(this,"id");de(this,"name","");de(this,"_chargeTemplateId",0);de(this,"_evTemplateId",0);de(this,"tags",[]);de(this,"soc",0);this.id=t}get chargeTemplateId(){return this._chargeTemplateId}set chargeTemplateId(t){this._chargeTemplateId=t,Ze("vhChargeTemplateId",t,this.id)}updateChargeTemplateId(t){this._chargeTemplateId=t}get evTemplateId(){return this._evTemplateId}set evTemplateId(t){this._evTemplateId=t,Ze("vhEvTemplateId",t,this.id)}updateEvTemplateId(t){this._evTemplateId=t}}var Wt=(e=>(e.instant_charging="instant_charging",e.pv_charging="pv_charging",e.scheduled_charging="scheduled_charging",e.standby="standby",e.stop="stop",e))(Wt||{});function Rh(){return{frequency:{once:["2022-02-02","2022-02-22"],selected:"daily",weekly:[!1,!1,!1,!1,!1,!1,!1]},name:"Neuer Plan",time:["10:00","16:00"],current:16}}function Nh(){return{name:"Neuer Plan",timed:!1,time:"12:00",soc:80,frequency:{once:["2022-02-02","2022-02-22"],selected:"daily",weekly:[!1,!1,!1,!1,!1,!1,!1]}}}const ke=qe({}),Et=qe({}),an=qe({}),Ga=qe({});function B_(e){e in ke?console.info("Duplicate chargepoint message: "+e):(ke[e]=new N_(e),ke[e].color="var(--color-cp"+Object.values(ke).length+")",console.info("Added chargepoint "+e))}function F_(){Object.keys(ke).forEach(e=>{delete ke[parseInt(e)]})}const U_={cpLock:"openWB/set/chargepoint/%/set/manual_lock",chargeMode:"openWB/set/vehicle/template/charge_template/%/chargemode/selected",cpPriority:"openWB/set/vehicle/template/charge_template/%/prio",cpScheduledCharging:"openWB/set/vehicle/template/charge_template/%/time_charging/active",pvBatteryPriority:"openWB/set/general/chargemode_config/pv_charging/bat_prio",chargeTemplate:"openWB/set/vehicle/template/charge_template/%",cpVehicle:"openWB/set/chargepoint/%/config/ev",cpInstantChargeLimitMode:"openWB/set/vehicle/template/charge_template/%/chargemode/instant_charging/limit/selected",cpInstantTargetCurrent:"openWB/set/vehicle/template/charge_template/%/chargemode/instant_charging/current",cpInstantTargetSoc:"openWB/set/vehicle/template/charge_template/%/chargemode/instant_charging/limit/soc",cpInstantMaxEnergy:"openWB/set/vehicle/template/charge_template/%/chargemode/instant_charging/limit/amount",cpPvFeedInLimit:"openWB/set/vehicle/template/charge_template/%/chargemode/pv_charging/feed_in_limit",cpPvMinCurrent:"openWB/set/vehicle/template/charge_template/%/chargemode/pv_charging/min_current",cpPvMaxSoc:"openWB/set/vehicle/template/charge_template/%/chargemode/pv_charging/max_soc",cpPvMinSoc:"openWB/set/vehicle/template/charge_template/%/chargemode/pv_charging/min_soc",cpPvMinSocCurrent:"openWB/set/vehicle/template/charge_template/%/chargemode/pv_charging/min_soc_current",etMaxPrice:"openWB/set/optional/et/max_price",vhChargeTemplateId:"openWB/set/vehicle/%/charge_template",vhEvTemplateId:"openWB/set/vehicle/%/ev_template"};function Ze(e,t,n=0){if(isNaN(n)){console.warn("Invalid index");return}let r=U_[e];if(!r){console.warn("No topic for update type "+e);return}switch(e){case"chargeMode":case"cpPriority":case"cpScheduledCharging":case"cpInstantTargetCurrent":case"cpInstantChargeLimitMode":case"cpInstantTargetSoc":case"cpInstantMaxEnergy":case"cpPvFeedInLimit":case"cpPvMinCurrent":case"cpPvMaxSoc":case"cpPvMinSoc":case"cpPvMinSocCurrent":let o=ke[n].chargeTemplate;r=r.replace("%",String(o));break;default:r=r.replace("%",String(n))}switch(typeof t){case"number":rs(r,JSON.stringify(+t));break;default:rs(r,JSON.stringify(t))}}function Dh(e){let t=an[e];if(t){let n="openWB/set/vehicle/template/charge_template/"+e;rs(n,JSON.stringify(t))}}function Bh(e){rs("openWB/set/command/"+R_()+"/todo",JSON.stringify(e))}class V_{constructor(t){de(this,"id");de(this,"name","");de(this,"power",0);de(this,"energy",0);de(this,"energyPv",0);de(this,"energyBat",0);de(this,"pvPercentage",0);de(this,"configured",!0);de(this,"showInGraph",!0);de(this,"color","white");de(this,"icon","");de(this,"countAsHouse",!1);this.id=t}}class j_{constructor(){de(this,"batterySoc",0);de(this,"isBatteryConfigured",!0);de(this,"chargeMode","0");de(this,"_pvBatteryPriority",!1);de(this,"displayLiveGraph",!0);de(this,"isEtEnabled",!0);de(this,"etMaxPrice",0);de(this,"etCurrentPrice",0);de(this,"cpDailyExported",0);de(this,"evuId",0);de(this,"etProvider","")}get pvBatteryPriority(){return this._pvBatteryPriority}set pvBatteryPriority(t){this._pvBatteryPriority=t,Ze("pvBatteryPriority",t)}updatePvBatteryPriority(t){this._pvBatteryPriority=t}}const Vt=qe({evuIn:{name:"Netz",color:"var(--color-evu)",icon:""},pv:{name:"PV",color:"var(--color-pv",icon:""},batOut:{name:"Bat >",color:"var(--color-battery)",icon:""},evuOut:{name:"Export",color:"var(--color-export)",icon:""},charging:{name:"Laden",color:"var(--color-charging)",icon:""},devices:{name:"Geräte",color:"var(--color-devices)",icon:""},batIn:{name:"> Bat",color:"var(--color-battery)",icon:""},house:{name:"Haus",color:"var(--color-house)",icon:""}}),Ke=qe({evuIn:st("evuIn"),pv:st("pv"),batOut:st("batOut"),evuOut:st("evuOut"),charging:st("charging"),devices:st("devices"),batIn:st("batIn"),house:st("house")}),Ue=qe({evuIn:st("evuIn"),pv:st("pv"),batOut:st("batOut")}),Ve=qe({evuOut:st("evuOut"),charging:st("charging"),devices:st("devices"),batIn:st("batIn"),house:st("house")}),xr=qe([]),rt=qe(new j_);$t("");Array.from({length:9},(e,t)=>xr[t]=new V_(t));Object.values(xr).forEach(e=>{e.color="var(--color-sh"+(e.id+1)+")"});function st(e){return{name:Vt[e].name,power:0,energy:0,energyPv:0,energyBat:0,pvPercentage:0,color:Vt[e].color,icon:Vt[e].icon}}class H_{constructor(){de(this,"etPriceList","");de(this,"_etMaxPrice",20);de(this,"etCurrentPrice",0);de(this,"isEtEnabled",!1);de(this,"etProvider","")}get etMaxPrice(){return this._etMaxPrice}set etMaxPrice(t){this._etMaxPrice=t,Ze("etMaxPrice",t)}updateEtMaxPrice(t){this._etMaxPrice=t}}const Qe=qe(new H_);function Do(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function W_(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function jl(e){let t,n,r;e.length!==2?(t=Do,n=(a,u)=>Do(e(a),u),r=(a,u)=>e(a)-u):(t=e===Do||e===W_?e:z_,n=e,r=e);function o(a,u,c=0,l=a.length){if(c<l){if(t(u,u)!==0)return l;do{const h=c+l>>>1;n(a[h],u)<0?c=h+1:l=h}while(c<l)}return c}function i(a,u,c=0,l=a.length){if(c<l){if(t(u,u)!==0)return l;do{const h=c+l>>>1;n(a[h],u)<=0?c=h+1:l=h}while(c<l)}return c}function s(a,u,c=0,l=a.length){const h=o(a,u,c,l-1);return h>c&&r(a[h-1],u)>-r(a[h],u)?h-1:h}return{left:o,center:s,right:i}}function z_(){return 0}function q_(e){return e===null?NaN:+e}const K_=jl(Do),Y_=K_.right;jl(q_).center;const G_=Y_;function pr(e,t){let n,r;if(t===void 0)for(const o of e)o!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)));else{let o=-1;for(let i of e)(i=t(i,++o,e))!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}class uu extends Map{constructor(t,n=J_){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,o]of t)this.set(r,o)}get(t){return super.get(fu(this,t))}has(t){return super.has(fu(this,t))}set(t,n){return super.set(Q_(this,t),n)}delete(t){return super.delete(X_(this,t))}}function fu({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Q_({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function X_({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function J_(e){return e!==null&&typeof e=="object"?e.valueOf():e}var Qa=Math.sqrt(50),Xa=Math.sqrt(10),Ja=Math.sqrt(2);function Z_(e,t,n){var r,o=-1,i,s,a;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),(a=Fh(e,t,n))===0||!isFinite(a))return[];if(a>0){let u=Math.round(e/a),c=Math.round(t/a);for(u*a<e&&++u,c*a>t&&--c,s=new Array(i=c-u+1);++o<i;)s[o]=(u+o)*a}else{a=-a;let u=Math.round(e*a),c=Math.round(t*a);for(u/a<e&&++u,c/a>t&&--c,s=new Array(i=c-u+1);++o<i;)s[o]=(u+o)/a}return r&&s.reverse(),s}function Fh(e,t,n){var r=(t-e)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=Qa?10:i>=Xa?5:i>=Ja?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=Qa?10:i>=Xa?5:i>=Ja?2:1)}function Za(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=Qa?o*=10:i>=Xa?o*=5:i>=Ja&&(o*=2),t<e?-o:o}function ev(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let o of e)(o=t(o,++r,e))!=null&&(n<o||n===void 0&&o>=o)&&(n=o)}return n}function tv(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(o);++r<o;)i[r]=e+r*n;return i}function nv(e){return e}var Bo=1,Fo=2,el=3,ki=4,hu=1e-6;function rv(e){return"translate("+e+",0)"}function iv(e){return"translate(0,"+e+")"}function ov(e){return t=>+e(t)}function sv(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function av(){return!this.__axis}function Ds(e,t){var n=[],r=null,o=null,i=6,s=6,a=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=e===Bo||e===ki?-1:1,l=e===ki||e===Fo?"x":"y",h=e===Bo||e===el?rv:iv;function f(d){var m=r??(t.ticks?t.ticks.apply(t,n):t.domain()),p=o??(t.tickFormat?t.tickFormat.apply(t,n):nv),b=Math.max(i,0)+a,E=t.range(),v=+E[0]+u,g=+E[E.length-1]+u,x=(t.bandwidth?sv:ov)(t.copy(),u),A=d.selection?d.selection():d,I=A.selectAll(".domain").data([null]),B=A.selectAll(".tick").data(m,t).order(),j=B.exit(),U=B.enter().append("g").attr("class","tick"),K=B.select("line"),y=B.select("text");I=I.merge(I.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),B=B.merge(U),K=K.merge(U.append("line").attr("stroke","currentColor").attr(l+"2",c*i)),y=y.merge(U.append("text").attr("fill","currentColor").attr(l,c*b).attr("dy",e===Bo?"0em":e===el?"0.71em":"0.32em")),d!==A&&(I=I.transition(d),B=B.transition(d),K=K.transition(d),y=y.transition(d),j=j.transition(d).attr("opacity",hu).attr("transform",function(C){return isFinite(C=x(C))?h(C+u):this.getAttribute("transform")}),U.attr("opacity",hu).attr("transform",function(C){var S=this.parentNode.__axis;return h((S&&isFinite(S=S(C))?S:x(C))+u)})),j.remove(),I.attr("d",e===ki||e===Fo?s?"M"+c*s+","+v+"H"+u+"V"+g+"H"+c*s:"M"+u+","+v+"V"+g:s?"M"+v+","+c*s+"V"+u+"H"+g+"V"+c*s:"M"+v+","+u+"H"+g),B.attr("opacity",1).attr("transform",function(C){return h(x(C)+u)}),K.attr(l+"2",c*i),y.attr(l,c*b).text(p),A.filter(av).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Fo?"start":e===ki?"end":"middle"),A.each(function(){this.__axis=x})}return f.scale=function(d){return arguments.length?(t=d,f):t},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),f):n.slice()},f.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),f):r&&r.slice()},f.tickFormat=function(d){return arguments.length?(o=d,f):o},f.tickSize=function(d){return arguments.length?(i=s=+d,f):i},f.tickSizeInner=function(d){return arguments.length?(i=+d,f):i},f.tickSizeOuter=function(d){return arguments.length?(s=+d,f):s},f.tickPadding=function(d){return arguments.length?(a=+d,f):a},f.offset=function(d){return arguments.length?(u=+d,f):u},f}function lv(e){return Ds(Bo,e)}function cv(e){return Ds(Fo,e)}function Uh(e){return Ds(el,e)}function Bs(e){return Ds(ki,e)}var uv={value:()=>{}};function Vh(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Uo(n)}function Uo(e){this._=e}function fv(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Uo.prototype=Vh.prototype={constructor:Uo,on:function(e,t){var n=this._,r=fv(e+"",n),o,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((o=(e=r[i]).type)&&(o=hv(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(o=(e=r[i]).type)n[o]=du(n[o],e.name,t);else if(t==null)for(o in n)n[o]=du(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Uo(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function hv(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function du(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=uv,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var tl="http://www.w3.org/1999/xhtml";const pu={svg:"http://www.w3.org/2000/svg",xhtml:tl,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Fs(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),pu.hasOwnProperty(t)?{space:pu[t],local:e}:e}function dv(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===tl&&t.documentElement.namespaceURI===tl?t.createElement(e):t.createElementNS(n,e)}}function pv(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function jh(e){var t=Fs(e);return(t.local?pv:dv)(t)}function gv(){}function Hl(e){return e==null?gv:function(){return this.querySelector(e)}}function mv(e){typeof e!="function"&&(e=Hl(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,a=r[o]=new Array(s),u,c,l=0;l<s;++l)(u=i[l])&&(c=e.call(u,u.__data__,l,i))&&("__data__"in u&&(c.__data__=u.__data__),a[l]=c);return new At(r,this._parents)}function _v(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function vv(){return[]}function Hh(e){return e==null?vv:function(){return this.querySelectorAll(e)}}function yv(e){return function(){return _v(e.apply(this,arguments))}}function bv(e){typeof e=="function"?e=yv(e):e=Hh(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var s=t[i],a=s.length,u,c=0;c<a;++c)(u=s[c])&&(r.push(e.call(u,u.__data__,c,s)),o.push(u));return new At(r,o)}function Wh(e){return function(){return this.matches(e)}}function zh(e){return function(t){return t.matches(e)}}var wv=Array.prototype.find;function Ev(e){return function(){return wv.call(this.children,e)}}function xv(){return this.firstElementChild}function Sv(e){return this.select(e==null?xv:Ev(typeof e=="function"?e:zh(e)))}var Tv=Array.prototype.filter;function Cv(){return Array.from(this.children)}function Av(e){return function(){return Tv.call(this.children,e)}}function kv(e){return this.selectAll(e==null?Cv:Av(typeof e=="function"?e:zh(e)))}function Iv(e){typeof e!="function"&&(e=Wh(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,a=r[o]=[],u,c=0;c<s;++c)(u=i[c])&&e.call(u,u.__data__,c,i)&&a.push(u);return new At(r,this._parents)}function qh(e){return new Array(e.length)}function Mv(){return new At(this._enter||this._groups.map(qh),this._parents)}function is(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}is.prototype={constructor:is,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Pv(e){return function(){return e}}function Ov(e,t,n,r,o,i){for(var s=0,a,u=t.length,c=i.length;s<c;++s)(a=t[s])?(a.__data__=i[s],r[s]=a):n[s]=new is(e,i[s]);for(;s<u;++s)(a=t[s])&&(o[s]=a)}function Lv(e,t,n,r,o,i,s){var a,u,c=new Map,l=t.length,h=i.length,f=new Array(l),d;for(a=0;a<l;++a)(u=t[a])&&(f[a]=d=s.call(u,u.__data__,a,t)+"",c.has(d)?o[a]=u:c.set(d,u));for(a=0;a<h;++a)d=s.call(e,i[a],a,i)+"",(u=c.get(d))?(r[a]=u,u.__data__=i[a],c.delete(d)):n[a]=new is(e,i[a]);for(a=0;a<l;++a)(u=t[a])&&c.get(f[a])===u&&(o[a]=u)}function $v(e){return e.__data__}function Rv(e,t){if(!arguments.length)return Array.from(this,$v);var n=t?Lv:Ov,r=this._parents,o=this._groups;typeof e!="function"&&(e=Pv(e));for(var i=o.length,s=new Array(i),a=new Array(i),u=new Array(i),c=0;c<i;++c){var l=r[c],h=o[c],f=h.length,d=Nv(e.call(l,l&&l.__data__,c,r)),m=d.length,p=a[c]=new Array(m),b=s[c]=new Array(m),E=u[c]=new Array(f);n(l,h,p,b,E,d,t);for(var v=0,g=0,x,A;v<m;++v)if(x=p[v]){for(v>=g&&(g=v+1);!(A=b[g])&&++g<m;);x._next=A||null}}return s=new At(s,r),s._enter=a,s._exit=u,s}function Nv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Dv(){return new At(this._exit||this._groups.map(qh),this._parents)}function Bv(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function Fv(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,s=Math.min(o,i),a=new Array(o),u=0;u<s;++u)for(var c=n[u],l=r[u],h=c.length,f=a[u]=new Array(h),d,m=0;m<h;++m)(d=c[m]||l[m])&&(f[m]=d);for(;u<o;++u)a[u]=n[u];return new At(a,this._parents)}function Uv(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],s;--o>=0;)(s=r[o])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function Vv(e){e||(e=jv);function t(h,f){return h&&f?e(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var s=n[i],a=s.length,u=o[i]=new Array(a),c,l=0;l<a;++l)(c=s[l])&&(u[l]=c);u.sort(t)}return new At(o,this._parents).order()}function jv(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Hv(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Wv(){return Array.from(this)}function zv(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var s=r[o];if(s)return s}return null}function qv(){let e=0;for(const t of this)++e;return e}function Kv(){return!this.node()}function Yv(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,s=o.length,a;i<s;++i)(a=o[i])&&e.call(a,a.__data__,i,o);return this}function Gv(e){return function(){this.removeAttribute(e)}}function Qv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Xv(e,t){return function(){this.setAttribute(e,t)}}function Jv(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Zv(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function ey(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function ty(e,t){var n=Fs(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Qv:Gv:typeof t=="function"?n.local?ey:Zv:n.local?Jv:Xv)(n,t))}function Kh(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ny(e){return function(){this.style.removeProperty(e)}}function ry(e,t,n){return function(){this.style.setProperty(e,t,n)}}function iy(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function oy(e,t,n){return arguments.length>1?this.each((t==null?ny:typeof t=="function"?iy:ry)(e,t,n??"")):Qr(this.node(),e)}function Qr(e,t){return e.style.getPropertyValue(t)||Kh(e).getComputedStyle(e,null).getPropertyValue(t)}function sy(e){return function(){delete this[e]}}function ay(e,t){return function(){this[e]=t}}function ly(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function cy(e,t){return arguments.length>1?this.each((t==null?sy:typeof t=="function"?ly:ay)(e,t)):this.node()[e]}function Yh(e){return e.trim().split(/^|\s+/)}function Wl(e){return e.classList||new Gh(e)}function Gh(e){this._node=e,this._names=Yh(e.getAttribute("class")||"")}Gh.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Qh(e,t){for(var n=Wl(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function Xh(e,t){for(var n=Wl(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function uy(e){return function(){Qh(this,e)}}function fy(e){return function(){Xh(this,e)}}function hy(e,t){return function(){(t.apply(this,arguments)?Qh:Xh)(this,e)}}function dy(e,t){var n=Yh(e+"");if(arguments.length<2){for(var r=Wl(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?hy:t?uy:fy)(n,t))}function py(){this.textContent=""}function gy(e){return function(){this.textContent=e}}function my(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function _y(e){return arguments.length?this.each(e==null?py:(typeof e=="function"?my:gy)(e)):this.node().textContent}function vy(){this.innerHTML=""}function yy(e){return function(){this.innerHTML=e}}function by(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function wy(e){return arguments.length?this.each(e==null?vy:(typeof e=="function"?by:yy)(e)):this.node().innerHTML}function Ey(){this.nextSibling&&this.parentNode.appendChild(this)}function xy(){return this.each(Ey)}function Sy(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ty(){return this.each(Sy)}function Cy(e){var t=typeof e=="function"?e:jh(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Ay(){return null}function ky(e,t){var n=typeof e=="function"?e:jh(e),r=t==null?Ay:typeof t=="function"?t:Hl(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Iy(){var e=this.parentNode;e&&e.removeChild(this)}function My(){return this.each(Iy)}function Py(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Oy(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ly(e){return this.select(e?Oy:Py)}function $y(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Ry(e){return function(t){e.call(this,t,this.__data__)}}function Ny(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Dy(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function By(e,t,n){return function(){var r=this.__on,o,i=Ry(t);if(r){for(var s=0,a=r.length;s<a;++s)if((o=r[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function Fy(e,t,n){var r=Ny(e+""),o,i=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,c=a.length,l;u<c;++u)for(o=0,l=a[u];o<i;++o)if((s=r[o]).type===l.type&&s.name===l.name)return l.value}return}for(a=t?By:Dy,o=0;o<i;++o)this.each(a(r[o],t,n));return this}function Jh(e,t,n){var r=Kh(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function Uy(e,t){return function(){return Jh(this,e,t)}}function Vy(e,t){return function(){return Jh(this,e,t.apply(this,arguments))}}function jy(e,t){return this.each((typeof t=="function"?Vy:Uy)(e,t))}function*Hy(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,s;o<i;++o)(s=r[o])&&(yield s)}var Zh=[null];function At(e,t){this._groups=e,this._parents=t}function ro(){return new At([[document.documentElement]],Zh)}function Wy(){return this}At.prototype=ro.prototype={constructor:At,select:mv,selectAll:bv,selectChild:Sv,selectChildren:kv,filter:Iv,data:Rv,enter:Mv,exit:Dv,join:Bv,merge:Fv,selection:Wy,order:Uv,sort:Vv,call:Hv,nodes:Wv,node:zv,size:qv,empty:Kv,each:Yv,attr:ty,style:oy,property:cy,classed:dy,text:_y,html:wy,raise:xy,lower:Ty,append:Cy,insert:ky,remove:My,clone:Ly,datum:$y,on:Fy,dispatch:jy,[Symbol.iterator]:Hy};function Ct(e){return typeof e=="string"?new At([[document.querySelector(e)]],[document.documentElement]):new At([[e]],Zh)}function zl(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ed(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function io(){}var Ki=.7,os=1/Ki,Wr="\\s*([+-]?\\d+)\\s*",Yi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ln="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zy=/^#([0-9a-f]{3,8})$/,qy=new RegExp(`^rgb\\(${Wr},${Wr},${Wr}\\)$`),Ky=new RegExp(`^rgb\\(${ln},${ln},${ln}\\)$`),Yy=new RegExp(`^rgba\\(${Wr},${Wr},${Wr},${Yi}\\)$`),Gy=new RegExp(`^rgba\\(${ln},${ln},${ln},${Yi}\\)$`),Qy=new RegExp(`^hsl\\(${Yi},${ln},${ln}\\)$`),Xy=new RegExp(`^hsla\\(${Yi},${ln},${ln},${Yi}\\)$`),gu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zl(io,gr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:mu,formatHex:mu,formatHex8:Jy,formatHsl:Zy,formatRgb:_u,toString:_u});function mu(){return this.rgb().formatHex()}function Jy(){return this.rgb().formatHex8()}function Zy(){return td(this).formatHsl()}function _u(){return this.rgb().formatRgb()}function gr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=zy.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?vu(t):n===3?new St(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?yo(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?yo(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=qy.exec(e))?new St(t[1],t[2],t[3],1):(t=Ky.exec(e))?new St(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Yy.exec(e))?yo(t[1],t[2],t[3],t[4]):(t=Gy.exec(e))?yo(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Qy.exec(e))?wu(t[1],t[2]/100,t[3]/100,1):(t=Xy.exec(e))?wu(t[1],t[2]/100,t[3]/100,t[4]):gu.hasOwnProperty(e)?vu(gu[e]):e==="transparent"?new St(NaN,NaN,NaN,0):null}function vu(e){return new St(e>>16&255,e>>8&255,e&255,1)}function yo(e,t,n,r){return r<=0&&(e=t=n=NaN),new St(e,t,n,r)}function e0(e){return e instanceof io||(e=gr(e)),e?(e=e.rgb(),new St(e.r,e.g,e.b,e.opacity)):new St}function nl(e,t,n,r){return arguments.length===1?e0(e):new St(e,t,n,r??1)}function St(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}zl(St,nl,ed(io,{brighter(e){return e=e==null?os:Math.pow(os,e),new St(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ki:Math.pow(Ki,e),new St(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new St(hr(this.r),hr(this.g),hr(this.b),ss(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yu,formatHex:yu,formatHex8:t0,formatRgb:bu,toString:bu}));function yu(){return`#${sr(this.r)}${sr(this.g)}${sr(this.b)}`}function t0(){return`#${sr(this.r)}${sr(this.g)}${sr(this.b)}${sr((isNaN(this.opacity)?1:this.opacity)*255)}`}function bu(){const e=ss(this.opacity);return`${e===1?"rgb(":"rgba("}${hr(this.r)}, ${hr(this.g)}, ${hr(this.b)}${e===1?")":`, ${e})`}`}function ss(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function hr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function sr(e){return e=hr(e),(e<16?"0":"")+e.toString(16)}function wu(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new zt(e,t,n,r)}function td(e){if(e instanceof zt)return new zt(e.h,e.s,e.l,e.opacity);if(e instanceof io||(e=gr(e)),!e)return new zt;if(e instanceof zt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,a=i-o,u=(i+o)/2;return a?(t===i?s=(n-r)/a+(n<r)*6:n===i?s=(r-t)/a+2:s=(t-n)/a+4,a/=u<.5?i+o:2-i-o,s*=60):a=u>0&&u<1?0:s,new zt(s,a,u,e.opacity)}function n0(e,t,n,r){return arguments.length===1?td(e):new zt(e,t,n,r??1)}function zt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}zl(zt,n0,ed(io,{brighter(e){return e=e==null?os:Math.pow(os,e),new zt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ki:Math.pow(Ki,e),new zt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new St(ca(e>=240?e-240:e+120,o,r),ca(e,o,r),ca(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new zt(Eu(this.h),bo(this.s),bo(this.l),ss(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ss(this.opacity);return`${e===1?"hsl(":"hsla("}${Eu(this.h)}, ${bo(this.s)*100}%, ${bo(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Eu(e){return e=(e||0)%360,e<0?e+360:e}function bo(e){return Math.max(0,Math.min(1,e||0))}function ca(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const ql=e=>()=>e;function r0(e,t){return function(n){return e+n*t}}function i0(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function o0(e){return(e=+e)==1?nd:function(t,n){return n-t?i0(t,n,e):ql(isNaN(t)?n:t)}}function nd(e,t){var n=t-e;return n?r0(e,n):ql(isNaN(e)?t:e)}const as=function e(t){var n=o0(t);function r(o,i){var s=n((o=nl(o)).r,(i=nl(i)).r),a=n(o.g,i.g),u=n(o.b,i.b),c=nd(o.opacity,i.opacity);return function(l){return o.r=s(l),o.g=a(l),o.b=u(l),o.opacity=c(l),o+""}}return r.gamma=e,r}(1);function s0(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=e[o]*(1-i)+t[o]*i;return r}}function a0(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function l0(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),i=new Array(n),s;for(s=0;s<r;++s)o[s]=Kl(e[s],t[s]);for(;s<n;++s)i[s]=t[s];return function(a){for(s=0;s<r;++s)i[s]=o[s](a);return i}}function c0(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function jt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function u0(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=Kl(e[o],t[o]):r[o]=t[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var rl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ua=new RegExp(rl.source,"g");function f0(e){return function(){return e}}function h0(e){return function(t){return e(t)+""}}function rd(e,t){var n=rl.lastIndex=ua.lastIndex=0,r,o,i,s=-1,a=[],u=[];for(e=e+"",t=t+"";(r=rl.exec(e))&&(o=ua.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),a[s]?a[s]+=i:a[++s]=i),(r=r[0])===(o=o[0])?a[s]?a[s]+=o:a[++s]=o:(a[++s]=null,u.push({i:s,x:jt(r,o)})),n=ua.lastIndex;return n<t.length&&(i=t.slice(n),a[s]?a[s]+=i:a[++s]=i),a.length<2?u[0]?h0(u[0].x):f0(t):(t=u.length,function(c){for(var l=0,h;l<t;++l)a[(h=u[l]).i]=h.x(c);return a.join("")})}function Kl(e,t){var n=typeof t,r;return t==null||n==="boolean"?ql(t):(n==="number"?jt:n==="string"?(r=gr(t))?(t=r,as):rd:t instanceof gr?as:t instanceof Date?c0:a0(t)?s0:Array.isArray(t)?l0:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?u0:jt)(e,t)}function d0(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var xu=180/Math.PI,il={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function id(e,t,n,r,o,i){var s,a,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),e*r<t*n&&(e=-e,t=-t,u=-u,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*xu,skewX:Math.atan(u)*xu,scaleX:s,scaleY:a}}var wo;function p0(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?il:id(t.a,t.b,t.c,t.d,t.e,t.f)}function g0(e){return e==null||(wo||(wo=document.createElementNS("http://www.w3.org/2000/svg","g")),wo.setAttribute("transform",e),!(e=wo.transform.baseVal.consolidate()))?il:(e=e.matrix,id(e.a,e.b,e.c,e.d,e.e,e.f))}function od(e,t,n,r){function o(c){return c.length?c.pop()+" ":""}function i(c,l,h,f,d,m){if(c!==h||l!==f){var p=d.push("translate(",null,t,null,n);m.push({i:p-4,x:jt(c,h)},{i:p-2,x:jt(l,f)})}else(h||f)&&d.push("translate("+h+t+f+n)}function s(c,l,h,f){c!==l?(c-l>180?l+=360:l-c>180&&(c+=360),f.push({i:h.push(o(h)+"rotate(",null,r)-2,x:jt(c,l)})):l&&h.push(o(h)+"rotate("+l+r)}function a(c,l,h,f){c!==l?f.push({i:h.push(o(h)+"skewX(",null,r)-2,x:jt(c,l)}):l&&h.push(o(h)+"skewX("+l+r)}function u(c,l,h,f,d,m){if(c!==h||l!==f){var p=d.push(o(d)+"scale(",null,",",null,")");m.push({i:p-4,x:jt(c,h)},{i:p-2,x:jt(l,f)})}else(h!==1||f!==1)&&d.push(o(d)+"scale("+h+","+f+")")}return function(c,l){var h=[],f=[];return c=e(c),l=e(l),i(c.translateX,c.translateY,l.translateX,l.translateY,h,f),s(c.rotate,l.rotate,h,f),a(c.skewX,l.skewX,h,f),u(c.scaleX,c.scaleY,l.scaleX,l.scaleY,h,f),c=l=null,function(d){for(var m=-1,p=f.length,b;++m<p;)h[(b=f[m]).i]=b.x(d);return h.join("")}}}var m0=od(p0,"px, ","px)","deg)"),_0=od(g0,", ",")",")"),Xr=0,Ii=0,bi=0,sd=1e3,ls,Mi,cs=0,mr=0,Us=0,Gi=typeof performance=="object"&&performance.now?performance:Date,ad=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Yl(){return mr||(ad(v0),mr=Gi.now()+Us)}function v0(){mr=0}function us(){this._call=this._time=this._next=null}us.prototype=ld.prototype={constructor:us,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Yl():+n)+(t==null?0:+t),!this._next&&Mi!==this&&(Mi?Mi._next=this:ls=this,Mi=this),this._call=e,this._time=n,ol()},stop:function(){this._call&&(this._call=null,this._time=1/0,ol())}};function ld(e,t,n){var r=new us;return r.restart(e,t,n),r}function y0(){Yl(),++Xr;for(var e=ls,t;e;)(t=mr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Xr}function Su(){mr=(cs=Gi.now())+Us,Xr=Ii=0;try{y0()}finally{Xr=0,w0(),mr=0}}function b0(){var e=Gi.now(),t=e-cs;t>sd&&(Us-=t,cs=e)}function w0(){for(var e,t=ls,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ls=n);Mi=e,ol(r)}function ol(e){if(!Xr){Ii&&(Ii=clearTimeout(Ii));var t=e-mr;t>24?(e<1/0&&(Ii=setTimeout(Su,e-Gi.now()-Us)),bi&&(bi=clearInterval(bi))):(bi||(cs=Gi.now(),bi=setInterval(b0,sd)),Xr=1,ad(Su))}}function Tu(e,t,n){var r=new us;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var E0=Vh("start","end","cancel","interrupt"),x0=[],cd=0,Cu=1,sl=2,Vo=3,Au=4,al=5,jo=6;function Vs(e,t,n,r,o,i){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;S0(e,n,{name:t,index:r,group:o,on:E0,tween:x0,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:cd})}function Gl(e,t){var n=Qt(e,t);if(n.state>cd)throw new Error("too late; already scheduled");return n}function pn(e,t){var n=Qt(e,t);if(n.state>Vo)throw new Error("too late; already running");return n}function Qt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function S0(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=ld(i,0,n.time);function i(c){n.state=Cu,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var l,h,f,d;if(n.state!==Cu)return u();for(l in r)if(d=r[l],d.name===n.name){if(d.state===Vo)return Tu(s);d.state===Au?(d.state=jo,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete r[l]):+l<t&&(d.state=jo,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete r[l])}if(Tu(function(){n.state===Vo&&(n.state=Au,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=sl,n.on.call("start",e,e.__data__,n.index,n.group),n.state===sl){for(n.state=Vo,o=new Array(f=n.tween.length),l=0,h=-1;l<f;++l)(d=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(o[++h]=d);o.length=h+1}}function a(c){for(var l=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=al,1),h=-1,f=o.length;++h<f;)o[h].call(e,l);n.state===al&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=jo,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function T0(e,t){var n=e.__transition,r,o,i=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){i=!1;continue}o=r.state>sl&&r.state<al,r.state=jo,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}i&&delete e.__transition}}function C0(e){return this.each(function(){T0(this,e)})}function A0(e,t){var n,r;return function(){var o=pn(this,e),i=o.tween;if(i!==n){r=n=i;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}o.tween=r}}function k0(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=pn(this,e),s=i.tween;if(s!==r){o=(r=s).slice();for(var a={name:t,value:n},u=0,c=o.length;u<c;++u)if(o[u].name===t){o[u]=a;break}u===c&&o.push(a)}i.tween=o}}function I0(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Qt(this.node(),n).tween,o=0,i=r.length,s;o<i;++o)if((s=r[o]).name===e)return s.value;return null}return this.each((t==null?A0:k0)(n,e,t))}function Ql(e,t,n){var r=e._id;return e.each(function(){var o=pn(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return Qt(o,r).value[t]}}function ud(e,t){var n;return(typeof t=="number"?jt:t instanceof gr?as:(n=gr(t))?(t=n,as):rd)(e,t)}function M0(e){return function(){this.removeAttribute(e)}}function P0(e){return function(){this.removeAttributeNS(e.space,e.local)}}function O0(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function L0(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function $0(e,t,n){var r,o,i;return function(){var s,a=n(this),u;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),u=a+"",s===u?null:s===r&&u===o?i:(o=u,i=t(r=s,a)))}}function R0(e,t,n){var r,o,i;return function(){var s,a=n(this),u;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),u=a+"",s===u?null:s===r&&u===o?i:(o=u,i=t(r=s,a)))}}function N0(e,t){var n=Fs(e),r=n==="transform"?_0:ud;return this.attrTween(e,typeof t=="function"?(n.local?R0:$0)(n,r,Ql(this,"attr."+e,t)):t==null?(n.local?P0:M0)(n):(n.local?L0:O0)(n,r,t))}function D0(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function B0(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function F0(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&B0(e,i)),n}return o._value=t,o}function U0(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&D0(e,i)),n}return o._value=t,o}function V0(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Fs(e);return this.tween(n,(r.local?F0:U0)(r,t))}function j0(e,t){return function(){Gl(this,e).delay=+t.apply(this,arguments)}}function H0(e,t){return t=+t,function(){Gl(this,e).delay=t}}function W0(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?j0:H0)(t,e)):Qt(this.node(),t).delay}function z0(e,t){return function(){pn(this,e).duration=+t.apply(this,arguments)}}function q0(e,t){return t=+t,function(){pn(this,e).duration=t}}function K0(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?z0:q0)(t,e)):Qt(this.node(),t).duration}function Y0(e,t){if(typeof t!="function")throw new Error;return function(){pn(this,e).ease=t}}function G0(e){var t=this._id;return arguments.length?this.each(Y0(t,e)):Qt(this.node(),t).ease}function Q0(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;pn(this,e).ease=n}}function X0(e){if(typeof e!="function")throw new Error;return this.each(Q0(this._id,e))}function J0(e){typeof e!="function"&&(e=Wh(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,a=r[o]=[],u,c=0;c<s;++c)(u=i[c])&&e.call(u,u.__data__,c,i)&&a.push(u);return new Sn(r,this._parents,this._name,this._id)}function Z0(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),s=new Array(r),a=0;a<i;++a)for(var u=t[a],c=n[a],l=u.length,h=s[a]=new Array(l),f,d=0;d<l;++d)(f=u[d]||c[d])&&(h[d]=f);for(;a<r;++a)s[a]=t[a];return new Sn(s,this._parents,this._name,this._id)}function eb(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function tb(e,t,n){var r,o,i=eb(t)?Gl:pn;return function(){var s=i(this,e),a=s.on;a!==r&&(o=(r=a).copy()).on(t,n),s.on=o}}function nb(e,t){var n=this._id;return arguments.length<2?Qt(this.node(),n).on.on(e):this.each(tb(n,e,t))}function rb(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function ib(){return this.on("end.remove",rb(this._id))}function ob(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Hl(e));for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s)for(var a=r[s],u=a.length,c=i[s]=new Array(u),l,h,f=0;f<u;++f)(l=a[f])&&(h=e.call(l,l.__data__,f,a))&&("__data__"in l&&(h.__data__=l.__data__),c[f]=h,Vs(c[f],t,n,f,c,Qt(l,n)));return new Sn(i,this._parents,t,n)}function sb(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Hh(e));for(var r=this._groups,o=r.length,i=[],s=[],a=0;a<o;++a)for(var u=r[a],c=u.length,l,h=0;h<c;++h)if(l=u[h]){for(var f=e.call(l,l.__data__,h,u),d,m=Qt(l,n),p=0,b=f.length;p<b;++p)(d=f[p])&&Vs(d,t,n,p,f,m);i.push(f),s.push(l)}return new Sn(i,s,t,n)}var ab=ro.prototype.constructor;function lb(){return new ab(this._groups,this._parents)}function cb(e,t){var n,r,o;return function(){var i=Qr(this,e),s=(this.style.removeProperty(e),Qr(this,e));return i===s?null:i===n&&s===r?o:o=t(n=i,r=s)}}function fd(e){return function(){this.style.removeProperty(e)}}function ub(e,t,n){var r,o=n+"",i;return function(){var s=Qr(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}function fb(e,t,n){var r,o,i;return function(){var s=Qr(this,e),a=n(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(e),Qr(this,e))),s===u?null:s===r&&u===o?i:(o=u,i=t(r=s,a))}}function hb(e,t){var n,r,o,i="style."+t,s="end."+i,a;return function(){var u=pn(this,e),c=u.on,l=u.value[i]==null?a||(a=fd(t)):void 0;(c!==n||o!==l)&&(r=(n=c).copy()).on(s,o=l),u.on=r}}function db(e,t,n){var r=(e+="")=="transform"?m0:ud;return t==null?this.styleTween(e,cb(e,r)).on("end.style."+e,fd(e)):typeof t=="function"?this.styleTween(e,fb(e,r,Ql(this,"style."+e,t))).each(hb(this._id,e)):this.styleTween(e,ub(e,r,t),n).on("end.style."+e,null)}function pb(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function gb(e,t,n){var r,o;function i(){var s=t.apply(this,arguments);return s!==o&&(r=(o=s)&&pb(e,s,n)),r}return i._value=t,i}function mb(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,gb(e,t,n??""))}function _b(e){return function(){this.textContent=e}}function vb(e){return function(){var t=e(this);this.textContent=t??""}}function yb(e){return this.tween("text",typeof e=="function"?vb(Ql(this,"text",e)):_b(e==null?"":e+""))}function bb(e){return function(t){this.textContent=e.call(this,t)}}function wb(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&bb(o)),t}return r._value=e,r}function Eb(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,wb(e))}function xb(){for(var e=this._name,t=this._id,n=hd(),r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],a=s.length,u,c=0;c<a;++c)if(u=s[c]){var l=Qt(u,t);Vs(u,e,n,c,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Sn(r,this._parents,e,n)}function Sb(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,s){var a={value:s},u={value:function(){--o===0&&i()}};n.each(function(){var c=pn(this,r),l=c.on;l!==e&&(t=(e=l).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(u)),c.on=t}),o===0&&i()})}var Tb=0;function Sn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function hd(){return++Tb}var gn=ro.prototype;Sn.prototype={constructor:Sn,select:ob,selectAll:sb,selectChild:gn.selectChild,selectChildren:gn.selectChildren,filter:J0,merge:Z0,selection:lb,transition:xb,call:gn.call,nodes:gn.nodes,node:gn.node,size:gn.size,empty:gn.empty,each:gn.each,on:nb,attr:N0,attrTween:V0,style:db,styleTween:mb,text:yb,textTween:Eb,remove:ib,tween:I0,delay:W0,duration:K0,ease:G0,easeVarying:X0,end:Sb,[Symbol.iterator]:gn[Symbol.iterator]};const _n=e=>+e;function Cb(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Ab={time:null,delay:0,duration:250,ease:Cb};function kb(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Ib(e){var t,n;e instanceof Sn?(t=e._id,e=e._name):(t=hd(),(n=Ab).time=Yl(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],a=s.length,u,c=0;c<a;++c)(u=s[c])&&Vs(u,e,t,c,s,n||kb(u,t));return new Sn(r,this._parents,e,t)}ro.prototype.interrupt=C0;ro.prototype.transition=Ib;const ll=Math.PI,cl=2*ll,tr=1e-6,Mb=cl-tr;function ul(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function js(){return new ul}ul.prototype=js.prototype={constructor:ul,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,o,i){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+o)+","+(this._y1=+i)},arcTo:function(e,t,n,r,o){e=+e,t=+t,n=+n,r=+r,o=+o;var i=this._x1,s=this._y1,a=n-e,u=r-t,c=i-e,l=s-t,h=c*c+l*l;if(o<0)throw new Error("negative radius: "+o);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>tr)if(!(Math.abs(l*a-u*c)>tr)||!o)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var f=n-i,d=r-s,m=a*a+u*u,p=f*f+d*d,b=Math.sqrt(m),E=Math.sqrt(h),v=o*Math.tan((ll-Math.acos((m+h-p)/(2*b*E)))/2),g=v/E,x=v/b;Math.abs(g-1)>tr&&(this._+="L"+(e+g*c)+","+(t+g*l)),this._+="A"+o+","+o+",0,0,"+ +(l*f>c*d)+","+(this._x1=e+x*a)+","+(this._y1=t+x*u)}},arc:function(e,t,n,r,o,i){e=+e,t=+t,n=+n,i=!!i;var s=n*Math.cos(r),a=n*Math.sin(r),u=e+s,c=t+a,l=1^i,h=i?r-o:o-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+u+","+c:(Math.abs(this._x1-u)>tr||Math.abs(this._y1-c)>tr)&&(this._+="L"+u+","+c),n&&(h<0&&(h=h%cl+cl),h>Mb?this._+="A"+n+","+n+",0,1,"+l+","+(e-s)+","+(t-a)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):h>tr&&(this._+="A"+n+","+n+",0,"+ +(h>=ll)+","+l+","+(this._x1=e+n*Math.cos(o))+","+(this._y1=t+n*Math.sin(o))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function Pb(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function fs(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Jr(e){return e=fs(Math.abs(e)),e?e[1]:NaN}function Ob(e,t){return function(n,r){for(var o=n.length,i=[],s=0,a=e[0],u=0;o>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),i.push(n.substring(o-=a,o+a)),!((u+=a+1)>r));)a=e[s=(s+1)%e.length];return i.reverse().join(t)}}function Lb(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var $b=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hs(e){if(!(t=$b.exec(e)))throw new Error("invalid format: "+e);var t;return new Xl({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}hs.prototype=Xl.prototype;function Xl(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Xl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Rb(e){e:for(var t=e.length,n=1,r=-1,o;n<t;++n)switch(e[n]){case".":r=o=n;break;case"0":r===0&&(r=n),o=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(o+1):e}var dd;function Nb(e,t){var n=fs(e,t);if(!n)return e+"";var r=n[0],o=n[1],i=o-(dd=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,s=r.length;return i===s?r:i>s?r+new Array(i-s+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+fs(e,Math.max(0,t+i-1))[0]}function ku(e,t){var n=fs(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}const Iu={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Pb,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ku(e*100,t),r:ku,s:Nb,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Mu(e){return e}var Pu=Array.prototype.map,Ou=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Db(e){var t=e.grouping===void 0||e.thousands===void 0?Mu:Ob(Pu.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Mu:Lb(Pu.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function c(h){h=hs(h);var f=h.fill,d=h.align,m=h.sign,p=h.symbol,b=h.zero,E=h.width,v=h.comma,g=h.precision,x=h.trim,A=h.type;A==="n"?(v=!0,A="g"):Iu[A]||(g===void 0&&(g=12),x=!0,A="g"),(b||f==="0"&&d==="=")&&(b=!0,f="0",d="=");var I=p==="$"?n:p==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",B=p==="$"?r:/[%p]/.test(A)?s:"",j=Iu[A],U=/[defgprs%]/.test(A);g=g===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g));function K(y){var C=I,S=B,z,X,G;if(A==="c")S=j(y)+S,y="";else{y=+y;var J=y<0||1/y<0;if(y=isNaN(y)?u:j(Math.abs(y),g),x&&(y=Rb(y)),J&&+y==0&&m!=="+"&&(J=!1),C=(J?m==="("?m:a:m==="-"||m==="("?"":m)+C,S=(A==="s"?Ou[8+dd/3]:"")+S+(J&&m==="("?")":""),U){for(z=-1,X=y.length;++z<X;)if(G=y.charCodeAt(z),48>G||G>57){S=(G===46?o+y.slice(z+1):y.slice(z))+S,y=y.slice(0,z);break}}}v&&!b&&(y=t(y,1/0));var R=C.length+y.length+S.length,D=R<E?new Array(E-R+1).join(f):"";switch(v&&b&&(y=t(D+y,D.length?E-S.length:1/0),D=""),d){case"<":y=C+y+S+D;break;case"=":y=C+D+y+S;break;case"^":y=D.slice(0,R=D.length>>1)+C+y+S+D.slice(R);break;default:y=D+C+y+S;break}return i(y)}return K.toString=function(){return h+""},K}function l(h,f){var d=c((h=hs(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(Jr(f)/3)))*3,p=Math.pow(10,-m),b=Ou[8+m/3];return function(E){return d(p*E)+b}}return{format:c,formatPrefix:l}}var Eo,pd,gd;Bb({thousands:",",grouping:[3],currency:["$",""]});function Bb(e){return Eo=Db(e),pd=Eo.format,gd=Eo.formatPrefix,Eo}function Fb(e){return Math.max(0,-Jr(Math.abs(e)))}function Ub(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Jr(t)/3)))*3-Jr(Math.abs(e)))}function Vb(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Jr(t)-Jr(e))+1}function Hs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Lu=Symbol("implicit");function md(){var e=new uu,t=[],n=[],r=Lu;function o(i){let s=e.get(i);if(s===void 0){if(r!==Lu)return r;e.set(i,s=t.push(i)-1)}return n[s%n.length]}return o.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new uu;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return o},o.range=function(i){return arguments.length?(n=Array.from(i),o):n.slice()},o.unknown=function(i){return arguments.length?(r=i,o):r},o.copy=function(){return md(t,n).unknown(r)},Hs.apply(o,arguments),o}function Jl(){var e=md().unknown(void 0),t=e.domain,n=e.range,r=0,o=1,i,s,a=!1,u=0,c=0,l=.5;delete e.unknown;function h(){var f=t().length,d=o<r,m=d?o:r,p=d?r:o;i=(p-m)/Math.max(1,f-u+c*2),a&&(i=Math.floor(i)),m+=(p-m-i*(f-u))*l,s=i*(1-u),a&&(m=Math.round(m),s=Math.round(s));var b=tv(f).map(function(E){return m+i*E});return n(d?b.reverse():b)}return e.domain=function(f){return arguments.length?(t(f),h()):t()},e.range=function(f){return arguments.length?([r,o]=f,r=+r,o=+o,h()):[r,o]},e.rangeRound=function(f){return[r,o]=f,r=+r,o=+o,a=!0,h()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(f){return arguments.length?(a=!!f,h()):a},e.padding=function(f){return arguments.length?(u=Math.min(1,c=+f),h()):u},e.paddingInner=function(f){return arguments.length?(u=Math.min(1,f),h()):u},e.paddingOuter=function(f){return arguments.length?(c=+f,h()):c},e.align=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),h()):l},e.copy=function(){return Jl(t(),[r,o]).round(a).paddingInner(u).paddingOuter(c).align(l)},Hs.apply(h(),arguments)}function jb(e){return function(){return e}}function Hb(e){return+e}var $u=[0,1];function Nr(e){return e}function fl(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:jb(isNaN(t)?NaN:.5)}function Wb(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function zb(e,t,n){var r=e[0],o=e[1],i=t[0],s=t[1];return o<r?(r=fl(o,r),i=n(s,i)):(r=fl(r,o),i=n(i,s)),function(a){return i(r(a))}}function qb(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),i=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)o[s]=fl(e[s],e[s+1]),i[s]=n(t[s],t[s+1]);return function(a){var u=G_(e,a,1,r)-1;return i[u](o[u](a))}}function _d(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Kb(){var e=$u,t=$u,n=Kl,r,o,i,s=Nr,a,u,c;function l(){var f=Math.min(e.length,t.length);return s!==Nr&&(s=Wb(e[0],e[f-1])),a=f>2?qb:zb,u=c=null,h}function h(f){return f==null||isNaN(f=+f)?i:(u||(u=a(e.map(r),t,n)))(r(s(f)))}return h.invert=function(f){return s(o((c||(c=a(t,e.map(r),jt)))(f)))},h.domain=function(f){return arguments.length?(e=Array.from(f,Hb),l()):e.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),l()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),n=d0,l()},h.clamp=function(f){return arguments.length?(s=f?!0:Nr,l()):s!==Nr},h.interpolate=function(f){return arguments.length?(n=f,l()):n},h.unknown=function(f){return arguments.length?(i=f,h):i},function(f,d){return r=f,o=d,l()}}function vd(){return Kb()(Nr,Nr)}function Yb(e,t,n,r){var o=Za(e,t,n),i;switch(r=hs(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=Ub(o,s))&&(r.precision=i),gd(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=Vb(o,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=Fb(o))&&(r.precision=i-(r.type==="%")*2);break}}return pd(r)}function Gb(e){var t=e.domain;return e.ticks=function(n){var r=t();return Z_(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var o=t();return Yb(o[0],o[o.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),o=0,i=r.length-1,s=r[o],a=r[i],u,c,l=10;for(a<s&&(c=s,s=a,a=c,c=o,o=i,i=c);l-- >0;){if(c=Fh(s,a,n),c===u)return r[o]=s,r[i]=a,t(r);if(c>0)s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c;else if(c<0)s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c;else break;u=c}return e},e}function Tn(){var e=vd();return e.copy=function(){return _d(e,Tn())},Hs.apply(e,arguments),Gb(e)}function Qb(e,t){e=e.slice();var n=0,r=e.length-1,o=e[n],i=e[r],s;return i<o&&(s=n,n=r,r=s,s=o,o=i,i=s),e[n]=t.floor(o),e[r]=t.ceil(i),e}var fa=new Date,ha=new Date;function _t(e,t,n,r){function o(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return o.floor=function(i){return e(i=new Date(+i)),i},o.ceil=function(i){return e(i=new Date(i-1)),t(i,1),e(i),i},o.round=function(i){var s=o(i),a=o.ceil(i);return i-s<a-i?s:a},o.offset=function(i,s){return t(i=new Date(+i),s==null?1:Math.floor(s)),i},o.range=function(i,s,a){var u=[],c;if(i=o.ceil(i),a=a==null?1:Math.floor(a),!(i<s)||!(a>0))return u;do u.push(c=new Date(+i)),t(i,a),e(i);while(c<i&&i<s);return u},o.filter=function(i){return _t(function(s){if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},function(s,a){if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!i(s););else for(;--a>=0;)for(;t(s,1),!i(s););})},n&&(o.count=function(i,s){return fa.setTime(+i),ha.setTime(+s),e(fa),e(ha),Math.floor(n(fa,ha))},o.every=function(i){return i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?o.filter(r?function(s){return r(s)%i===0}:function(s){return o.count(0,s)%i===0}):o}),o}var ds=_t(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});ds.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?_t(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):ds};const Xb=ds;ds.range;const vn=1e3,sn=vn*60,ar=sn*60,_r=ar*24,Zl=_r*7,Ru=_r*30,da=_r*365;var yd=_t(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*vn)},function(e,t){return(t-e)/vn},function(e){return e.getUTCSeconds()});const Pi=yd;yd.range;var bd=_t(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*vn)},function(e,t){e.setTime(+e+t*sn)},function(e,t){return(t-e)/sn},function(e){return e.getMinutes()});const wd=bd;bd.range;var Ed=_t(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*vn-e.getMinutes()*sn)},function(e,t){e.setTime(+e+t*ar)},function(e,t){return(t-e)/ar},function(e){return e.getHours()});const xd=Ed;Ed.range;var Sd=_t(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*sn)/_r,e=>e.getDate()-1);const Ws=Sd;Sd.range;function Sr(e){return _t(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n*7)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*sn)/Zl})}var zs=Sr(0),ps=Sr(1),Jb=Sr(2),Zb=Sr(3),Zr=Sr(4),ew=Sr(5),tw=Sr(6);zs.range;ps.range;Jb.range;Zb.range;Zr.range;ew.range;tw.range;var Td=_t(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()});const Cd=Td;Td.range;var ec=_t(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});ec.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:_t(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)})};const vr=ec;ec.range;var Ad=_t(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/_r},function(e){return e.getUTCDate()-1});const kd=Ad;Ad.range;function Tr(e){return _t(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n*7)},function(t,n){return(n-t)/Zl})}var Id=Tr(0),gs=Tr(1),nw=Tr(2),rw=Tr(3),ei=Tr(4),iw=Tr(5),ow=Tr(6);Id.range;gs.range;nw.range;rw.range;ei.range;iw.range;ow.range;var tc=_t(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});tc.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:_t(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})};const Qi=tc;tc.range;function sw(e,t,n,r,o,i){const s=[[Pi,1,vn],[Pi,5,5*vn],[Pi,15,15*vn],[Pi,30,30*vn],[i,1,sn],[i,5,5*sn],[i,15,15*sn],[i,30,30*sn],[o,1,ar],[o,3,3*ar],[o,6,6*ar],[o,12,12*ar],[r,1,_r],[r,2,2*_r],[n,1,Zl],[t,1,Ru],[t,3,3*Ru],[e,1,da]];function a(c,l,h){const f=l<c;f&&([c,l]=[l,c]);const d=h&&typeof h.range=="function"?h:u(c,l,h),m=d?d.range(c,+l+1):[];return f?m.reverse():m}function u(c,l,h){const f=Math.abs(l-c)/h,d=jl(([,,b])=>b).right(s,f);if(d===s.length)return e.every(Za(c/da,l/da,h));if(d===0)return Xb.every(Math.max(Za(c,l,h),1));const[m,p]=s[f/s[d-1][2]<s[d][2]/f?d-1:d];return m.every(p)}return[a,u]}const[aw,lw]=sw(vr,Cd,zs,Ws,xd,wd);function pa(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ga(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function wi(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function cw(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,i=e.days,s=e.shortDays,a=e.months,u=e.shortMonths,c=Ei(o),l=xi(o),h=Ei(i),f=xi(i),d=Ei(s),m=xi(s),p=Ei(a),b=xi(a),E=Ei(u),v=xi(u),g={a:J,A:R,b:D,B:Q,c:null,d:Vu,e:Vu,f:Ow,g:jw,G:Ww,H:Iw,I:Mw,j:Pw,L:Md,m:Lw,M:$w,p:te,q:he,Q:Wu,s:zu,S:Rw,u:Nw,U:Dw,V:Bw,w:Fw,W:Uw,x:null,X:null,y:Vw,Y:Hw,Z:zw,"%":Hu},x={a:pe,A:Z,b:ee,B:ue,c:null,d:ju,e:ju,f:Gw,g:o1,G:a1,H:qw,I:Kw,j:Yw,L:Od,m:Qw,M:Xw,p:ce,q:ye,Q:Wu,s:zu,S:Jw,u:Zw,U:e1,V:t1,w:n1,W:r1,x:null,X:null,y:i1,Y:s1,Z:l1,"%":Hu},A={a:K,A:y,b:C,B:S,c:z,d:Fu,e:Fu,f:Tw,g:Bu,G:Du,H:Uu,I:Uu,j:ww,L:Sw,m:bw,M:Ew,p:U,q:yw,Q:Aw,s:kw,S:xw,u:pw,U:gw,V:mw,w:dw,W:_w,x:X,X:G,y:Bu,Y:Du,Z:vw,"%":Cw};g.x=I(n,g),g.X=I(r,g),g.c=I(t,g),x.x=I(n,x),x.X=I(r,x),x.c=I(t,x);function I(ne,q){return function(H){var k=[],M=-1,$=0,F=ne.length,V,Y,P;for(H instanceof Date||(H=new Date(+H));++M<F;)ne.charCodeAt(M)===37&&(k.push(ne.slice($,M)),(Y=Nu[V=ne.charAt(++M)])!=null?V=ne.charAt(++M):Y=V==="e"?" ":"0",(P=q[V])&&(V=P(H,Y)),k.push(V),$=M+1);return k.push(ne.slice($,M)),k.join("")}}function B(ne,q){return function(H){var k=wi(1900,void 0,1),M=j(k,ne,H+="",0),$,F;if(M!=H.length)return null;if("Q"in k)return new Date(k.Q);if("s"in k)return new Date(k.s*1e3+("L"in k?k.L:0));if(q&&!("Z"in k)&&(k.Z=0),"p"in k&&(k.H=k.H%12+k.p*12),k.m===void 0&&(k.m="q"in k?k.q:0),"V"in k){if(k.V<1||k.V>53)return null;"w"in k||(k.w=1),"Z"in k?($=ga(wi(k.y,0,1)),F=$.getUTCDay(),$=F>4||F===0?gs.ceil($):gs($),$=kd.offset($,(k.V-1)*7),k.y=$.getUTCFullYear(),k.m=$.getUTCMonth(),k.d=$.getUTCDate()+(k.w+6)%7):($=pa(wi(k.y,0,1)),F=$.getDay(),$=F>4||F===0?ps.ceil($):ps($),$=Ws.offset($,(k.V-1)*7),k.y=$.getFullYear(),k.m=$.getMonth(),k.d=$.getDate()+(k.w+6)%7)}else("W"in k||"U"in k)&&("w"in k||(k.w="u"in k?k.u%7:"W"in k?1:0),F="Z"in k?ga(wi(k.y,0,1)).getUTCDay():pa(wi(k.y,0,1)).getDay(),k.m=0,k.d="W"in k?(k.w+6)%7+k.W*7-(F+5)%7:k.w+k.U*7-(F+6)%7);return"Z"in k?(k.H+=k.Z/100|0,k.M+=k.Z%100,ga(k)):pa(k)}}function j(ne,q,H,k){for(var M=0,$=q.length,F=H.length,V,Y;M<$;){if(k>=F)return-1;if(V=q.charCodeAt(M++),V===37){if(V=q.charAt(M++),Y=A[V in Nu?q.charAt(M++):V],!Y||(k=Y(ne,H,k))<0)return-1}else if(V!=H.charCodeAt(k++))return-1}return k}function U(ne,q,H){var k=c.exec(q.slice(H));return k?(ne.p=l.get(k[0].toLowerCase()),H+k[0].length):-1}function K(ne,q,H){var k=d.exec(q.slice(H));return k?(ne.w=m.get(k[0].toLowerCase()),H+k[0].length):-1}function y(ne,q,H){var k=h.exec(q.slice(H));return k?(ne.w=f.get(k[0].toLowerCase()),H+k[0].length):-1}function C(ne,q,H){var k=E.exec(q.slice(H));return k?(ne.m=v.get(k[0].toLowerCase()),H+k[0].length):-1}function S(ne,q,H){var k=p.exec(q.slice(H));return k?(ne.m=b.get(k[0].toLowerCase()),H+k[0].length):-1}function z(ne,q,H){return j(ne,t,q,H)}function X(ne,q,H){return j(ne,n,q,H)}function G(ne,q,H){return j(ne,r,q,H)}function J(ne){return s[ne.getDay()]}function R(ne){return i[ne.getDay()]}function D(ne){return u[ne.getMonth()]}function Q(ne){return a[ne.getMonth()]}function te(ne){return o[+(ne.getHours()>=12)]}function he(ne){return 1+~~(ne.getMonth()/3)}function pe(ne){return s[ne.getUTCDay()]}function Z(ne){return i[ne.getUTCDay()]}function ee(ne){return u[ne.getUTCMonth()]}function ue(ne){return a[ne.getUTCMonth()]}function ce(ne){return o[+(ne.getUTCHours()>=12)]}function ye(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var q=I(ne+="",g);return q.toString=function(){return ne},q},parse:function(ne){var q=B(ne+="",!1);return q.toString=function(){return ne},q},utcFormat:function(ne){var q=I(ne+="",x);return q.toString=function(){return ne},q},utcParse:function(ne){var q=B(ne+="",!0);return q.toString=function(){return ne},q}}}var Nu={"-":"",_:" ",0:"0"},tt=/^\s*\d+/,uw=/^%/,fw=/[\\^$*+?|[\]().{}]/g;function De(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(t)+o:o)}function hw(e){return e.replace(fw,"\\$&")}function Ei(e){return new RegExp("^(?:"+e.map(hw).join("|")+")","i")}function xi(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function dw(e,t,n){var r=tt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function pw(e,t,n){var r=tt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function gw(e,t,n){var r=tt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function mw(e,t,n){var r=tt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function _w(e,t,n){var r=tt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Du(e,t,n){var r=tt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Bu(e,t,n){var r=tt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function vw(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function yw(e,t,n){var r=tt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function bw(e,t,n){var r=tt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Fu(e,t,n){var r=tt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function ww(e,t,n){var r=tt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Uu(e,t,n){var r=tt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Ew(e,t,n){var r=tt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function xw(e,t,n){var r=tt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Sw(e,t,n){var r=tt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Tw(e,t,n){var r=tt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Cw(e,t,n){var r=uw.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Aw(e,t,n){var r=tt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function kw(e,t,n){var r=tt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Vu(e,t){return De(e.getDate(),t,2)}function Iw(e,t){return De(e.getHours(),t,2)}function Mw(e,t){return De(e.getHours()%12||12,t,2)}function Pw(e,t){return De(1+Ws.count(vr(e),e),t,3)}function Md(e,t){return De(e.getMilliseconds(),t,3)}function Ow(e,t){return Md(e,t)+"000"}function Lw(e,t){return De(e.getMonth()+1,t,2)}function $w(e,t){return De(e.getMinutes(),t,2)}function Rw(e,t){return De(e.getSeconds(),t,2)}function Nw(e){var t=e.getDay();return t===0?7:t}function Dw(e,t){return De(zs.count(vr(e)-1,e),t,2)}function Pd(e){var t=e.getDay();return t>=4||t===0?Zr(e):Zr.ceil(e)}function Bw(e,t){return e=Pd(e),De(Zr.count(vr(e),e)+(vr(e).getDay()===4),t,2)}function Fw(e){return e.getDay()}function Uw(e,t){return De(ps.count(vr(e)-1,e),t,2)}function Vw(e,t){return De(e.getFullYear()%100,t,2)}function jw(e,t){return e=Pd(e),De(e.getFullYear()%100,t,2)}function Hw(e,t){return De(e.getFullYear()%1e4,t,4)}function Ww(e,t){var n=e.getDay();return e=n>=4||n===0?Zr(e):Zr.ceil(e),De(e.getFullYear()%1e4,t,4)}function zw(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+De(t/60|0,"0",2)+De(t%60,"0",2)}function ju(e,t){return De(e.getUTCDate(),t,2)}function qw(e,t){return De(e.getUTCHours(),t,2)}function Kw(e,t){return De(e.getUTCHours()%12||12,t,2)}function Yw(e,t){return De(1+kd.count(Qi(e),e),t,3)}function Od(e,t){return De(e.getUTCMilliseconds(),t,3)}function Gw(e,t){return Od(e,t)+"000"}function Qw(e,t){return De(e.getUTCMonth()+1,t,2)}function Xw(e,t){return De(e.getUTCMinutes(),t,2)}function Jw(e,t){return De(e.getUTCSeconds(),t,2)}function Zw(e){var t=e.getUTCDay();return t===0?7:t}function e1(e,t){return De(Id.count(Qi(e)-1,e),t,2)}function Ld(e){var t=e.getUTCDay();return t>=4||t===0?ei(e):ei.ceil(e)}function t1(e,t){return e=Ld(e),De(ei.count(Qi(e),e)+(Qi(e).getUTCDay()===4),t,2)}function n1(e){return e.getUTCDay()}function r1(e,t){return De(gs.count(Qi(e)-1,e),t,2)}function i1(e,t){return De(e.getUTCFullYear()%100,t,2)}function o1(e,t){return e=Ld(e),De(e.getUTCFullYear()%100,t,2)}function s1(e,t){return De(e.getUTCFullYear()%1e4,t,4)}function a1(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ei(e):ei.ceil(e),De(e.getUTCFullYear()%1e4,t,4)}function l1(){return"+0000"}function Hu(){return"%"}function Wu(e){return+e}function zu(e){return Math.floor(+e/1e3)}var Mr,qs,ms;c1({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function c1(e){return Mr=cw(e),qs=Mr.format,ms=Mr.parse,Mr.utcFormat,Mr.utcParse,Mr}function u1(e){return new Date(e)}function f1(e){return e instanceof Date?+e:+new Date(+e)}function $d(e,t,n,r,o,i,s,a,u,c){var l=vd(),h=l.invert,f=l.domain,d=c(".%L"),m=c(":%S"),p=c("%I:%M"),b=c("%I %p"),E=c("%a %d"),v=c("%b %d"),g=c("%B"),x=c("%Y");function A(I){return(u(I)<I?d:a(I)<I?m:s(I)<I?p:i(I)<I?b:r(I)<I?o(I)<I?E:v:n(I)<I?g:x)(I)}return l.invert=function(I){return new Date(h(I))},l.domain=function(I){return arguments.length?f(Array.from(I,f1)):f().map(u1)},l.ticks=function(I){var B=f();return e(B[0],B[B.length-1],I??10)},l.tickFormat=function(I,B){return B==null?A:c(B)},l.nice=function(I){var B=f();return(!I||typeof I.range!="function")&&(I=t(B[0],B[B.length-1],I??10)),I?f(Qb(B,I)):l},l.copy=function(){return _d(l,$d(e,t,n,r,o,i,s,a,u,c))},l}function Xi(){return Hs.apply($d(aw,lw,vr,Cd,zs,Ws,xd,wd,Pi,qs).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Pe(e){return function(){return e}}const qu=Math.abs,it=Math.atan2,Jn=Math.cos,h1=Math.max,ma=Math.min,tn=Math.sin,Dr=Math.sqrt,yt=1e-12,Ji=Math.PI,_s=Ji/2,Ho=2*Ji;function d1(e){return e>1?0:e<-1?Ji:Math.acos(e)}function Ku(e){return e>=1?_s:e<=-1?-_s:Math.asin(e)}function p1(e){return e.innerRadius}function g1(e){return e.outerRadius}function m1(e){return e.startAngle}function _1(e){return e.endAngle}function v1(e){return e&&e.padAngle}function y1(e,t,n,r,o,i,s,a){var u=n-e,c=r-t,l=s-o,h=a-i,f=h*u-l*c;if(!(f*f<yt))return f=(l*(t-i)-h*(e-o))/f,[e+f*u,t+f*c]}function xo(e,t,n,r,o,i,s){var a=e-n,u=t-r,c=(s?i:-i)/Dr(a*a+u*u),l=c*u,h=-c*a,f=e+l,d=t+h,m=n+l,p=r+h,b=(f+m)/2,E=(d+p)/2,v=m-f,g=p-d,x=v*v+g*g,A=o-i,I=f*p-m*d,B=(g<0?-1:1)*Dr(h1(0,A*A*x-I*I)),j=(I*g-v*B)/x,U=(-I*v-g*B)/x,K=(I*g+v*B)/x,y=(-I*v+g*B)/x,C=j-b,S=U-E,z=K-b,X=y-E;return C*C+S*S>z*z+X*X&&(j=K,U=y),{cx:j,cy:U,x01:-l,y01:-h,x11:j*(o/A-1),y11:U*(o/A-1)}}function Rd(){var e=p1,t=g1,n=Pe(0),r=null,o=m1,i=_1,s=v1,a=null;function u(){var c,l,h=+e.apply(this,arguments),f=+t.apply(this,arguments),d=o.apply(this,arguments)-_s,m=i.apply(this,arguments)-_s,p=qu(m-d),b=m>d;if(a||(a=c=js()),f<h&&(l=f,f=h,h=l),!(f>yt))a.moveTo(0,0);else if(p>Ho-yt)a.moveTo(f*Jn(d),f*tn(d)),a.arc(0,0,f,d,m,!b),h>yt&&(a.moveTo(h*Jn(m),h*tn(m)),a.arc(0,0,h,m,d,b));else{var E=d,v=m,g=d,x=m,A=p,I=p,B=s.apply(this,arguments)/2,j=B>yt&&(r?+r.apply(this,arguments):Dr(h*h+f*f)),U=ma(qu(f-h)/2,+n.apply(this,arguments)),K=U,y=U,C,S;if(j>yt){var z=Ku(j/h*tn(B)),X=Ku(j/f*tn(B));(A-=z*2)>yt?(z*=b?1:-1,g+=z,x-=z):(A=0,g=x=(d+m)/2),(I-=X*2)>yt?(X*=b?1:-1,E+=X,v-=X):(I=0,E=v=(d+m)/2)}var G=f*Jn(E),J=f*tn(E),R=h*Jn(x),D=h*tn(x);if(U>yt){var Q=f*Jn(v),te=f*tn(v),he=h*Jn(g),pe=h*tn(g),Z;if(p<Ji&&(Z=y1(G,J,he,pe,Q,te,R,D))){var ee=G-Z[0],ue=J-Z[1],ce=Q-Z[0],ye=te-Z[1],ne=1/tn(d1((ee*ce+ue*ye)/(Dr(ee*ee+ue*ue)*Dr(ce*ce+ye*ye)))/2),q=Dr(Z[0]*Z[0]+Z[1]*Z[1]);K=ma(U,(h-q)/(ne-1)),y=ma(U,(f-q)/(ne+1))}}I>yt?y>yt?(C=xo(he,pe,G,J,f,y,b),S=xo(Q,te,R,D,f,y,b),a.moveTo(C.cx+C.x01,C.cy+C.y01),y<U?a.arc(C.cx,C.cy,y,it(C.y01,C.x01),it(S.y01,S.x01),!b):(a.arc(C.cx,C.cy,y,it(C.y01,C.x01),it(C.y11,C.x11),!b),a.arc(0,0,f,it(C.cy+C.y11,C.cx+C.x11),it(S.cy+S.y11,S.cx+S.x11),!b),a.arc(S.cx,S.cy,y,it(S.y11,S.x11),it(S.y01,S.x01),!b))):(a.moveTo(G,J),a.arc(0,0,f,E,v,!b)):a.moveTo(G,J),!(h>yt)||!(A>yt)?a.lineTo(R,D):K>yt?(C=xo(R,D,Q,te,h,-K,b),S=xo(G,J,he,pe,h,-K,b),a.lineTo(C.cx+C.x01,C.cy+C.y01),K<U?a.arc(C.cx,C.cy,K,it(C.y01,C.x01),it(S.y01,S.x01),!b):(a.arc(C.cx,C.cy,K,it(C.y01,C.x01),it(C.y11,C.x11),!b),a.arc(0,0,h,it(C.cy+C.y11,C.cx+C.x11),it(S.cy+S.y11,S.cx+S.x11),b),a.arc(S.cx,S.cy,K,it(S.y11,S.x11),it(S.y01,S.x01),!b))):a.arc(0,0,h,x,g,b)}if(a.closePath(),c)return a=null,c+""||null}return u.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,l=(+o.apply(this,arguments)+ +i.apply(this,arguments))/2-Ji/2;return[Jn(l)*c,tn(l)*c]},u.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:Pe(+c),u):e},u.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:Pe(+c),u):t},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:Pe(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Pe(+c),u):r},u.startAngle=function(c){return arguments.length?(o=typeof c=="function"?c:Pe(+c),u):o},u.endAngle=function(c){return arguments.length?(i=typeof c=="function"?c:Pe(+c),u):i},u.padAngle=function(c){return arguments.length?(s=typeof c=="function"?c:Pe(+c),u):s},u.context=function(c){return arguments.length?(a=c??null,u):a},u}function Ks(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Nd(e){this._context=e}Nd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Dd(e){return new Nd(e)}function Bd(e){return e[0]}function Fd(e){return e[1]}function nc(e,t){var n=Pe(!0),r=null,o=Dd,i=null;e=typeof e=="function"?e:e===void 0?Bd:Pe(e),t=typeof t=="function"?t:t===void 0?Fd:Pe(t);function s(a){var u,c=(a=Ks(a)).length,l,h=!1,f;for(r==null&&(i=o(f=js())),u=0;u<=c;++u)!(u<c&&n(l=a[u],u,a))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(l,u,a),+t(l,u,a));if(f)return i=null,f+""||null}return s.x=function(a){return arguments.length?(e=typeof a=="function"?a:Pe(+a),s):e},s.y=function(a){return arguments.length?(t=typeof a=="function"?a:Pe(+a),s):t},s.defined=function(a){return arguments.length?(n=typeof a=="function"?a:Pe(!!a),s):n},s.curve=function(a){return arguments.length?(o=a,r!=null&&(i=o(r)),s):o},s.context=function(a){return arguments.length?(a==null?r=i=null:i=o(r=a),s):r},s}function Br(e,t,n){var r=null,o=Pe(!0),i=null,s=Dd,a=null;e=typeof e=="function"?e:e===void 0?Bd:Pe(+e),t=typeof t=="function"?t:Pe(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Fd:Pe(+n);function u(l){var h,f,d,m=(l=Ks(l)).length,p,b=!1,E,v=new Array(m),g=new Array(m);for(i==null&&(a=s(E=js())),h=0;h<=m;++h){if(!(h<m&&o(p=l[h],h,l))===b)if(b=!b)f=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),d=h-1;d>=f;--d)a.point(v[d],g[d]);a.lineEnd(),a.areaEnd()}b&&(v[h]=+e(p,h,l),g[h]=+t(p,h,l),a.point(r?+r(p,h,l):v[h],n?+n(p,h,l):g[h]))}if(E)return a=null,E+""||null}function c(){return nc().defined(o).curve(s).context(i)}return u.x=function(l){return arguments.length?(e=typeof l=="function"?l:Pe(+l),r=null,u):e},u.x0=function(l){return arguments.length?(e=typeof l=="function"?l:Pe(+l),u):e},u.x1=function(l){return arguments.length?(r=l==null?null:typeof l=="function"?l:Pe(+l),u):r},u.y=function(l){return arguments.length?(t=typeof l=="function"?l:Pe(+l),n=null,u):t},u.y0=function(l){return arguments.length?(t=typeof l=="function"?l:Pe(+l),u):t},u.y1=function(l){return arguments.length?(n=l==null?null:typeof l=="function"?l:Pe(+l),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(l){return arguments.length?(o=typeof l=="function"?l:Pe(!!l),u):o},u.curve=function(l){return arguments.length?(s=l,i!=null&&(a=s(i)),u):s},u.context=function(l){return arguments.length?(l==null?i=a=null:a=s(i=l),u):i},u}function b1(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function w1(e){return e}function Ud(){var e=w1,t=b1,n=null,r=Pe(0),o=Pe(Ho),i=Pe(0);function s(a){var u,c=(a=Ks(a)).length,l,h,f=0,d=new Array(c),m=new Array(c),p=+r.apply(this,arguments),b=Math.min(Ho,Math.max(-Ho,o.apply(this,arguments)-p)),E,v=Math.min(Math.abs(b)/c,i.apply(this,arguments)),g=v*(b<0?-1:1),x;for(u=0;u<c;++u)(x=m[d[u]=u]=+e(a[u],u,a))>0&&(f+=x);for(t!=null?d.sort(function(A,I){return t(m[A],m[I])}):n!=null&&d.sort(function(A,I){return n(a[A],a[I])}),u=0,h=f?(b-c*g)/f:0;u<c;++u,p=E)l=d[u],x=m[l],E=p+(x>0?x*h:0)+g,m[l]={data:a[l],index:u,value:x,startAngle:p,endAngle:E,padAngle:v};return m}return s.value=function(a){return arguments.length?(e=typeof a=="function"?a:Pe(+a),s):e},s.sortValues=function(a){return arguments.length?(t=a,n=null,s):t},s.sort=function(a){return arguments.length?(n=a,t=null,s):n},s.startAngle=function(a){return arguments.length?(r=typeof a=="function"?a:Pe(+a),s):r},s.endAngle=function(a){return arguments.length?(o=typeof a=="function"?a:Pe(+a),s):o},s.padAngle=function(a){return arguments.length?(i=typeof a=="function"?a:Pe(+a),s):i},s}function Yu(e,t){if((s=e.length)>1)for(var n=1,r,o,i=e[t[0]],s,a=i.length;n<s;++n)for(o=i,i=e[t[n]],r=0;r<a;++r)i[r][1]+=i[r][0]=isNaN(o[r][1])?o[r][0]:o[r][1]}function Gu(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function E1(e,t){return e[t]}function x1(e){const t=[];return t.key=e,t}function Vd(){var e=Pe([]),t=Gu,n=Yu,r=E1;function o(i){var s=Array.from(e.apply(this,arguments),x1),a,u=s.length,c=-1,l;for(const h of i)for(a=0,++c;a<u;++a)(s[a][c]=[0,+r(h,s[a].key,c,i)]).data=h;for(a=0,l=Ks(t(s));a<u;++a)s[l[a]].index=a;return n(s,l),s}return o.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Pe(Array.from(i)),o):e},o.value=function(i){return arguments.length?(r=typeof i=="function"?i:Pe(+i),o):r},o.order=function(i){return arguments.length?(t=i==null?Gu:typeof i=="function"?i:Pe(Array.from(i)),o):t},o.offset=function(i){return arguments.length?(n=i??Yu,o):n},o}function Oi(e,t,n){this.k=e,this.x=t,this.y=n}Oi.prototype={constructor:Oi,scale:function(e){return e===1?this:new Oi(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Oi(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Oi.prototype;const Le=qe({data:[],graphMode:"today"});var vs=!0,Ys=!0;function Qu(){vs=!1}function S1(){Ys=!1}function T1(e){Ys=e}function rc(e){Le.data=e,Le.graphMode=fe.graphMode}const ot={refreshTopicPrefix:"openWB/graph/alllivevaluesJson",updateTopic:"openWB/graph/lastlivevaluesJson",initialized:!1,initCounter:0,graphRefreshCounter:0,rawDataPacks:[],activate(){this.unsubscribeUpdates(),this.subscribeRefresh(),this.initialized=!1,this.initCounter=0,this.graphRefreshCounter=0,this.subscribeRefresh(),this.rawDataPacks=[]},deactivate(){this.unsubscribeRefresh(),this.unsubscribeUpdates()},subscribeRefresh(){for(var e=1;e<17;e++)qi(this.refreshTopicPrefix+e)},unsubscribeRefresh(){for(var e=1;e<17;e++)ns(this.refreshTopicPrefix+e)},subscribeUpdates(){qi(this.updateTopic)},unsubscribeUpdates(){ns(this.updateTopic)}},Xe=qe({topic:"openWB/log/daily/#",date:new Date,activate(){let e=this.date.getFullYear().toString()+(this.date.getMonth()+1).toString().padStart(2,"0")+this.date.getDate().toString().padStart(2,"0");qi(this.topic),Bh({command:"getDailyLog",data:{day:e}})},deactivate(){ns(this.topic)},back(){this.date=new Date(this.date.setTime(this.date.getTime()-864e5))},forward(){this.date=new Date(this.date.setTime(this.date.getTime()+864e5))}}),ic=qe({topic:"openWB/log/monthly/#",month:new Date().getMonth()+1,year:new Date().getFullYear(),activate(){console.log("activate month graph");let e=this.year.toString()+this.month.toString().padStart(2,"0");qi(this.topic),Bh({command:"getMonthlyLog",data:{month:e}})},deactivate(){ns(this.topic)},back(){this.month-=1,this.month<1&&(this.month=12,this.year-=1)},forward(){this.month-1<new Date().getMonth()&&(this.month=this.month+1,this.month>12&&(this.month=1,this.year+=1))}});function Bn(){switch(fe.graphMode==""&&M1(fe.graphPreference),vs=!0,Ys=!0,fe.graphMode){case"live":Xe.deactivate(),ot.activate();break;case"today":ot.deactivate(),Xe.activate();break;case"day":ot.deactivate(),Xe.activate();break;case"month":ot.deactivate(),Xe.deactivate(),ic.activate();break}}let C1=class{constructor(){de(this,"_showRelativeArcs",!1);de(this,"showTodayGraph",!0);de(this,"_graphPreference","today");de(this,"usageStackOrder",0);de(this,"_displayMode","dark");de(this,"_showGrid",!1);de(this,"_smartHomeColors","normal");de(this,"_decimalPlaces",1);de(this,"_showQuickAccess",!0);de(this,"_simpleCpList",!1);de(this,"_showAnimations",!0);de(this,"maxPower",4e3);de(this,"isEtEnabled",!1);de(this,"etPrice",20.5);de(this,"showRightButton",!0);de(this,"showLeftButton",!0);de(this,"graphMode","")}get showRelativeArcs(){return this._showRelativeArcs}set showRelativeArcs(t){this._showRelativeArcs=t,On()}get graphPreference(){return this._graphPreference}set graphPreference(t){this._graphPreference=t,On()}setGraphPreference(t){this._graphPreference=t}get displayMode(){return this._displayMode}set displayMode(t){this._displayMode=t,P1(t)}get showGrid(){return this._showGrid}set showGrid(t){this._showGrid=t,On()}get decimalPlaces(){return this._decimalPlaces}set decimalPlaces(t){this._decimalPlaces=t,On()}get smartHomeColors(){return this._smartHomeColors}set smartHomeColors(t){this._smartHomeColors=t,O1(t)}get showQuickAccess(){return this._showQuickAccess}set showQuickAccess(t){this._showQuickAccess=t,On()}get simpleCpList(){return this._simpleCpList}set simpleCpList(t){this._simpleCpList=t,On()}get showAnimations(){return this._showAnimations}set showAnimations(t){this._showAnimations=t}};const fe=qe(new C1);function A1(){$1();const e=Ct("html");e.classed("theme-dark",fe.displayMode=="dark"),e.classed("theme-light",fe.displayMode=="light"),e.classed("theme-blue",fe.displayMode=="blue"),e.classed("shcolors-standard",fe.smartHomeColors=="standard"),e.classed("shcolors-advanced",fe.smartHomeColors=="advanced"),e.classed("shcolors-normal",fe.smartHomeColors=="normal")}var yr=!0;function k1(){yr=!1}function I1(e){yr=e}function M1(e){fe.graphMode=e}const dt={instant_charging:{name:"Sofort",color:"var(--color-charging)",icon:"fa-bolt"},pv_charging:{name:"PV",color:"var(--color-pv",icon:"fa-solar-panel"},scheduled_charging:{name:"Zielladen",color:"var(--color-battery)",icon:"fa-bullseye"},standby:{name:"Standby",color:"var(--color-axis",icon:"fa-pause"},stop:{name:"Stop",color:"var(--color-fg)",icon:"fa-power-off"}};function On(){L1()}function P1(e){const t=Ct("html");t.classed("theme-dark",e=="dark"),t.classed("theme-light",e=="light"),t.classed("theme-blue",e=="blue"),On()}function O1(e){const t=Ct("html");t.classed("shcolors-normal",e=="normal"),t.classed("shcolors-standard",e=="standard"),t.classed("shcolors-advanced",e=="advanced"),On()}const $n={chargemode:"Der Lademodus für diesen Ladepunkt",vehicle:"Das Fahrzeug, das an diesem Ladepounkt geladen wird",locked:"Diesen Ladepunkt sperren",priority:"Diesen Ladepunkt auf hohe Priorität setzen",timeplan:"An diesem Ladepunkt nach dem konfigurierten Zeitplan laden",minsoc:"Immer mindestens bis zum eingestellten Ladestand laden. Wenn notwendig mit Netzstrom.",minpv:"Durchgehend mit mindestens dem eingestellten Strom laden. Wenn notwendig mit Netzstrom."};function L1(){let e={};e.hideSH=Object.values(xr).filter(t=>!t.showInGraph).map(t=>t.id),e.showLG=fe.graphPreference=="live",e.displayM=fe.displayMode,e.stackO=fe.usageStackOrder,e.showGr=fe.showGrid,e.decimalP=fe.decimalPlaces,e.smartHomeC=fe.smartHomeColors,e.relPM=fe.showRelativeArcs,e.maxPow=fe.maxPower,e.showQA=fe.showQuickAccess,e.simpleCP=fe.simpleCpList,e.animation=fe.showAnimations,document.cookie="openWBColorTheme="+JSON.stringify(e)+"; max-age=16000000"}function $1(){const t=document.cookie.split(";").filter(n=>n.split("=")[0]==="openWBColorTheme");if(t.length>0){let n=JSON.parse(t[0].split("=")[1]);n.decimalP!==void 0&&(fe.decimalPlaces=n.decimalP),n.smartHomeC!==void 0&&(fe.smartHomeColors=n.smartHomeC),n.hideSH!==void 0&&n.hideSH.map(r=>xr[r].showInGraph=!1),n.showLG!==void 0&&fe.setGraphPreference(n.showLG?"live":"today"),n.maxPow!==void 0&&(fe.maxPower=+n.maxPow),n.relPM!==void 0&&(fe.showRelativeArcs=n.relPM),n.displayM!==void 0&&(fe.displayMode=n.displayM),n.stackO!==void 0&&(fe.usageStackOrder=n.stackO),n.showGr!==void 0&&(fe.showGrid=n.showGr),n.showQA!==void 0&&(fe.showQuickAccess=n.showQA),n.simpleCP!==void 0&&(fe.simpleCpList=n.simpleCP),n.animation!=null&&(fe.showAnimations=n.animation)}}function jd(){switch(fe.graphMode){case"live":fe.graphMode="today",fe.graphPreference="day",fe.showRightButton=!0,Bn();break;case"today":fe.graphMode="day",Xe.date=new Date,Xe.back(),Bn(),yr=!0;break;case"day":Xe.back(),Bn(),yr=!0;break;case"month":ic.back();break}}function Hd(){switch(fe.graphMode){case"live":break;case"today":fe.graphMode="live",fe.graphPreference="live",fe.showRightButton=!1,Bn();break;case"day":Xe.forward();let e=new Date;Xe.date.getDate()==e.getDate()&&Xe.date.getMonth()==e.getMonth()&&Xe.date.getFullYear()==e.getFullYear()&&(fe.graphMode="today"),Bn(),yr=!0;break;case"month":ic.forward();break}}function R1(){console.info("monthly view toggle"),fe.graphMode="month",Bn()}const N1=["origin"],D1=Se({__name:"PMSourceArc",props:{radius:{},cornerRadius:{},circleGapSize:{},emptyPower:{}},setup(e){const t=e,n=le(()=>{const r=Object.values(Ue).length;let o={name:"",power:t.emptyPower,energy:0,energyPv:0,energyBat:0,pvPercentage:0,color:"var(--color-bg)",icon:""},i=Ue;i["zz-empty"]=o;const s=Ud().value(c=>c.power).startAngle(-Math.PI/2+t.circleGapSize).endAngle(Math.PI/2-t.circleGapSize).sort(null),a=Rd().innerRadius(t.radius/6*5).outerRadius(t.radius).cornerRadius(t.cornerRadius).padAngle(0),u=Ct("g#pmSourceArc");return u.selectAll("*").remove(),u.selectAll("sources").data(s(Object.values(i))).enter().append("path").attr("d",a).attr("fill",c=>c.data.color).attr("stroke",(c,l)=>l==r?c.data.power>0?"var(--color-scale)":"null":c.data.color),"pmSourceArc.vue"});return cm(()=>{let r=Ue.pv.power+Ue.evuIn.power+Ue.batOut.power;r>fe.maxPower&&(fe.maxPower=r)}),(r,o)=>(ie(),ge("g",{id:"pmSourceArc",origin:n.value},null,8,N1))}}),B1=["origin"],F1=Se({__name:"PMUsageArc",props:{usageSummary:{},radius:{},cornerRadius:{},circleGapSize:{},emptyPower:{}},setup(e){const t=e,n=le(()=>{let r={name:"",power:t.emptyPower,energy:0,energyPv:0,energyBat:0,pvPercentage:0,color:"var(--color-bg)",icon:""};const o=[Ve.evuOut,Ve.charging].concat(Object.values(xr).filter(c=>c.configured&&!c.countAsHouse).sort((c,l)=>l.power-c.power)).concat([Ve.batIn,Ve.house]).concat(r),i=o.length-1,s=Ud().value(c=>c.power).startAngle(Math.PI*1.5-t.circleGapSize).endAngle(Math.PI/2+t.circleGapSize).sort(null),a=Rd().innerRadius(t.radius/6*5).outerRadius(t.radius).cornerRadius(t.cornerRadius),u=Ct("g#pmUsageArc");return u.selectAll("*").remove(),u.selectAll("consumers").data(s(o)).enter().append("path").attr("d",a).attr("fill",c=>c.data.color).attr("stroke",(c,l)=>l==i?c.data.power>0?"var(--color-scale)":"null":c.data.color),"pmUsageArc.vue"});return(r,o)=>(ie(),ge("g",{id:"pmUsageArc",origin:n.value},null,8,B1))}});function bn(e,t=1){let n;if(e>=1e3&&t<4){switch(t){case 0:n=Math.round(e/1e3);break;case 1:n=Math.round(e/100)/10;break;case 2:n=Math.round(e/10)/100;break;case 3:n=Math.round(e)/1e3;break;default:n=Math.round(e/100)/10;break}return(n==null?void 0:n.toLocaleString(void 0,{minimumFractionDigits:t}))+" kW"}else return Math.round(e).toLocaleString(void 0)+" W"}function Zi(e,t=1){let n;if(e>=1e3&&t<4){switch(t){case 0:n=Math.round(e/1e3);break;case 1:n=(Math.round(e/100)/10).toFixed(1);break;case 2:n=(Math.round(e/10)/100).toFixed(2);break;case 3:n=(Math.round(e)/1e3).toFixed(3);break;default:n=Math.round(e/100)/10;break}return n.toLocaleString(void 0,{minimumFractionDigits:t})+" kWh"}else return Math.round(e).toLocaleString(void 0)+" Wh"}const Wd=Se({__name:"FormatWatt",props:{watt:{}},setup(e){const t=e,n=le(()=>bn(t.watt,fe.decimalPlaces));return(r,o)=>Ee(n.value)}}),U1={key:0,id:"pmLabel"},V1=["x","y","fill","text-anchor"],j1=22,Ot=Se({__name:"PMLabel",props:{x:{},y:{},data:{},props:{},anchor:{},labeltext:{},labelcolor:{}},setup(e){const t=e;le(()=>t.data?bn(t.data.power,fe.decimalPlaces):0);const n=le(()=>t.labeltext?t.labeltext:t.props?t.props.icon+" ":""),r=le(()=>t.labelcolor?t.labelcolor:t.props?t.props.color:""),o=le(()=>!t.data||t.data.power>0),i=le(()=>t.labeltext?"":"fas");return(s,a)=>o.value?(ie(),ge("g",U1,[N("text",{x:s.x,y:s.y,fill:r.value,"text-anchor":s.anchor,"font-size":j1,class:"pmLabel"},[N("tspan",{class:ze(i.value)},Ee(n.value),3),N("tspan",null,[s.data!==void 0?(ie(),Ae(Wd,{key:0,watt:s.data.power},null,8,["watt"])):be("",!0)])],8,V1)])):be("",!0)}});const Fe=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},H1={},W1={class:"col-lg-4 p-1 m-0 d-flex"},z1={class:"wb-widget p-2 m-0 rounded shadow"},q1={class:"d-flex justify-content-between"},K1={class:"mt-0"},Y1={class:"col-4 m-0 p-0",style:{"text-align":"right"}},G1={class:"p-0 wb-subwidget"},Q1={class:"row"},X1={class:"col"},J1={class:"container-fluid m-0 p-0"};function Z1(e,t){return ie(),ge("div",W1,[N("div",z1,[N("div",q1,[N("h3",K1,[or(e.$slots,"title",{},()=>[je(" (title goes here) ")],!0),or(e.$slots,"subtitle",{},void 0,!0)]),N("div",Y1,[or(e.$slots,"buttons",{},void 0,!0)])]),N("div",G1,[N("div",Q1,[N("div",X1,[N("div",J1,[or(e.$slots,"default",{},void 0,!0)])])])])])])}const zn=Fe(H1,[["render",Z1],["__scopeId","data-v-0bc387dd"]]);var pt="top",kt="bottom",It="right",gt="left",Gs="auto",hi=[pt,kt,It,gt],br="start",ti="end",zd="clippingParents",oc="viewport",Lr="popper",qd="reference",hl=hi.reduce(function(e,t){return e.concat([t+"-"+br,t+"-"+ti])},[]),sc=[].concat(hi,[Gs]).reduce(function(e,t){return e.concat([t,t+"-"+br,t+"-"+ti])},[]),Kd="beforeRead",Yd="read",Gd="afterRead",Qd="beforeMain",Xd="main",Jd="afterMain",Zd="beforeWrite",ep="write",tp="afterWrite",np=[Kd,Yd,Gd,Qd,Xd,Jd,Zd,ep,tp];function hn(e){return e?(e.nodeName||"").toLowerCase():null}function Mt(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function wr(e){var t=Mt(e).Element;return e instanceof t||e instanceof Element}function Lt(e){var t=Mt(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function ac(e){if(typeof ShadowRoot>"u")return!1;var t=Mt(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function eE(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},o=t.attributes[n]||{},i=t.elements[n];!Lt(i)||!hn(i)||(Object.assign(i.style,r),Object.keys(o).forEach(function(s){var a=o[s];a===!1?i.removeAttribute(s):i.setAttribute(s,a===!0?"":a)}))})}function tE(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var o=t.elements[r],i=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=s.reduce(function(u,c){return u[c]="",u},{});!Lt(o)||!hn(o)||(Object.assign(o.style,a),Object.keys(i).forEach(function(u){o.removeAttribute(u)}))})}}const lc={name:"applyStyles",enabled:!0,phase:"write",fn:eE,effect:tE,requires:["computeStyles"]};function cn(e){return e.split("-")[0]}var dr=Math.max,ys=Math.min,ni=Math.round;function dl(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function rp(){return!/^((?!chrome|android).)*safari/i.test(dl())}function ri(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),o=1,i=1;t&&Lt(e)&&(o=e.offsetWidth>0&&ni(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&ni(r.height)/e.offsetHeight||1);var s=wr(e)?Mt(e):window,a=s.visualViewport,u=!rp()&&n,c=(r.left+(u&&a?a.offsetLeft:0))/o,l=(r.top+(u&&a?a.offsetTop:0))/i,h=r.width/o,f=r.height/i;return{width:h,height:f,top:l,right:c+h,bottom:l+f,left:c,x:c,y:l}}function cc(e){var t=ri(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function ip(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&ac(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Cn(e){return Mt(e).getComputedStyle(e)}function nE(e){return["table","td","th"].indexOf(hn(e))>=0}function qn(e){return((wr(e)?e.ownerDocument:e.document)||window.document).documentElement}function Qs(e){return hn(e)==="html"?e:e.assignedSlot||e.parentNode||(ac(e)?e.host:null)||qn(e)}function Xu(e){return!Lt(e)||Cn(e).position==="fixed"?null:e.offsetParent}function rE(e){var t=/firefox/i.test(dl()),n=/Trident/i.test(dl());if(n&&Lt(e)){var r=Cn(e);if(r.position==="fixed")return null}var o=Qs(e);for(ac(o)&&(o=o.host);Lt(o)&&["html","body"].indexOf(hn(o))<0;){var i=Cn(o);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return o;o=o.parentNode}return null}function oo(e){for(var t=Mt(e),n=Xu(e);n&&nE(n)&&Cn(n).position==="static";)n=Xu(n);return n&&(hn(n)==="html"||hn(n)==="body"&&Cn(n).position==="static")?t:n||rE(e)||t}function uc(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ni(e,t,n){return dr(e,ys(t,n))}function iE(e,t,n){var r=Ni(e,t,n);return r>n?n:r}function op(){return{top:0,right:0,bottom:0,left:0}}function sp(e){return Object.assign({},op(),e)}function ap(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var oE=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,sp(typeof t!="number"?t:ap(t,hi))};function sE(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,a=cn(n.placement),u=uc(a),c=[gt,It].indexOf(a)>=0,l=c?"height":"width";if(!(!i||!s)){var h=oE(o.padding,n),f=cc(i),d=u==="y"?pt:gt,m=u==="y"?kt:It,p=n.rects.reference[l]+n.rects.reference[u]-s[u]-n.rects.popper[l],b=s[u]-n.rects.reference[u],E=oo(i),v=E?u==="y"?E.clientHeight||0:E.clientWidth||0:0,g=p/2-b/2,x=h[d],A=v-f[l]-h[m],I=v/2-f[l]/2+g,B=Ni(x,I,A),j=u;n.modifiersData[r]=(t={},t[j]=B,t.centerOffset=B-I,t)}}function aE(e){var t=e.state,n=e.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||ip(t.elements.popper,o)&&(t.elements.arrow=o))}const lp={name:"arrow",enabled:!0,phase:"main",fn:sE,effect:aE,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ii(e){return e.split("-")[1]}var lE={top:"auto",right:"auto",bottom:"auto",left:"auto"};function cE(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:ni(n*o)/o||0,y:ni(r*o)/o||0}}function Ju(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,s=e.offsets,a=e.position,u=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,h=e.isFixed,f=s.x,d=f===void 0?0:f,m=s.y,p=m===void 0?0:m,b=typeof l=="function"?l({x:d,y:p}):{x:d,y:p};d=b.x,p=b.y;var E=s.hasOwnProperty("x"),v=s.hasOwnProperty("y"),g=gt,x=pt,A=window;if(c){var I=oo(n),B="clientHeight",j="clientWidth";if(I===Mt(n)&&(I=qn(n),Cn(I).position!=="static"&&a==="absolute"&&(B="scrollHeight",j="scrollWidth")),I=I,o===pt||(o===gt||o===It)&&i===ti){x=kt;var U=h&&I===A&&A.visualViewport?A.visualViewport.height:I[B];p-=U-r.height,p*=u?1:-1}if(o===gt||(o===pt||o===kt)&&i===ti){g=It;var K=h&&I===A&&A.visualViewport?A.visualViewport.width:I[j];d-=K-r.width,d*=u?1:-1}}var y=Object.assign({position:a},c&&lE),C=l===!0?cE({x:d,y:p},Mt(n)):{x:d,y:p};if(d=C.x,p=C.y,u){var S;return Object.assign({},y,(S={},S[x]=v?"0":"",S[g]=E?"0":"",S.transform=(A.devicePixelRatio||1)<=1?"translate("+d+"px, "+p+"px)":"translate3d("+d+"px, "+p+"px, 0)",S))}return Object.assign({},y,(t={},t[x]=v?p+"px":"",t[g]=E?d+"px":"",t.transform="",t))}function uE(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=r===void 0?!0:r,i=n.adaptive,s=i===void 0?!0:i,a=n.roundOffsets,u=a===void 0?!0:a,c={placement:cn(t.placement),variation:ii(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Ju(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:u})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ju(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const fc={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:uE,data:{}};var So={passive:!0};function fE(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=o===void 0?!0:o,s=r.resize,a=s===void 0?!0:s,u=Mt(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach(function(l){l.addEventListener("scroll",n.update,So)}),a&&u.addEventListener("resize",n.update,So),function(){i&&c.forEach(function(l){l.removeEventListener("scroll",n.update,So)}),a&&u.removeEventListener("resize",n.update,So)}}const hc={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:fE,data:{}};var hE={left:"right",right:"left",bottom:"top",top:"bottom"};function Wo(e){return e.replace(/left|right|bottom|top/g,function(t){return hE[t]})}var dE={start:"end",end:"start"};function Zu(e){return e.replace(/start|end/g,function(t){return dE[t]})}function dc(e){var t=Mt(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function pc(e){return ri(qn(e)).left+dc(e).scrollLeft}function pE(e,t){var n=Mt(e),r=qn(e),o=n.visualViewport,i=r.clientWidth,s=r.clientHeight,a=0,u=0;if(o){i=o.width,s=o.height;var c=rp();(c||!c&&t==="fixed")&&(a=o.offsetLeft,u=o.offsetTop)}return{width:i,height:s,x:a+pc(e),y:u}}function gE(e){var t,n=qn(e),r=dc(e),o=(t=e.ownerDocument)==null?void 0:t.body,i=dr(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=dr(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-r.scrollLeft+pc(e),u=-r.scrollTop;return Cn(o||n).direction==="rtl"&&(a+=dr(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:a,y:u}}function gc(e){var t=Cn(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function cp(e){return["html","body","#document"].indexOf(hn(e))>=0?e.ownerDocument.body:Lt(e)&&gc(e)?e:cp(Qs(e))}function Di(e,t){var n;t===void 0&&(t=[]);var r=cp(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),i=Mt(r),s=o?[i].concat(i.visualViewport||[],gc(r)?r:[]):r,a=t.concat(s);return o?a:a.concat(Di(Qs(s)))}function pl(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function mE(e,t){var n=ri(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function ef(e,t,n){return t===oc?pl(pE(e,n)):wr(t)?mE(t,n):pl(gE(qn(e)))}function _E(e){var t=Di(Qs(e)),n=["absolute","fixed"].indexOf(Cn(e).position)>=0,r=n&&Lt(e)?oo(e):e;return wr(r)?t.filter(function(o){return wr(o)&&ip(o,r)&&hn(o)!=="body"}):[]}function vE(e,t,n,r){var o=t==="clippingParents"?_E(e):[].concat(t),i=[].concat(o,[n]),s=i[0],a=i.reduce(function(u,c){var l=ef(e,c,r);return u.top=dr(l.top,u.top),u.right=ys(l.right,u.right),u.bottom=ys(l.bottom,u.bottom),u.left=dr(l.left,u.left),u},ef(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function up(e){var t=e.reference,n=e.element,r=e.placement,o=r?cn(r):null,i=r?ii(r):null,s=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,u;switch(o){case pt:u={x:s,y:t.y-n.height};break;case kt:u={x:s,y:t.y+t.height};break;case It:u={x:t.x+t.width,y:a};break;case gt:u={x:t.x-n.width,y:a};break;default:u={x:t.x,y:t.y}}var c=o?uc(o):null;if(c!=null){var l=c==="y"?"height":"width";switch(i){case br:u[c]=u[c]-(t[l]/2-n[l]/2);break;case ti:u[c]=u[c]+(t[l]/2-n[l]/2);break}}return u}function oi(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=r===void 0?e.placement:r,i=n.strategy,s=i===void 0?e.strategy:i,a=n.boundary,u=a===void 0?zd:a,c=n.rootBoundary,l=c===void 0?oc:c,h=n.elementContext,f=h===void 0?Lr:h,d=n.altBoundary,m=d===void 0?!1:d,p=n.padding,b=p===void 0?0:p,E=sp(typeof b!="number"?b:ap(b,hi)),v=f===Lr?qd:Lr,g=e.rects.popper,x=e.elements[m?v:f],A=vE(wr(x)?x:x.contextElement||qn(e.elements.popper),u,l,s),I=ri(e.elements.reference),B=up({reference:I,element:g,strategy:"absolute",placement:o}),j=pl(Object.assign({},g,B)),U=f===Lr?j:I,K={top:A.top-U.top+E.top,bottom:U.bottom-A.bottom+E.bottom,left:A.left-U.left+E.left,right:U.right-A.right+E.right},y=e.modifiersData.offset;if(f===Lr&&y){var C=y[o];Object.keys(K).forEach(function(S){var z=[It,kt].indexOf(S)>=0?1:-1,X=[pt,kt].indexOf(S)>=0?"y":"x";K[S]+=C[X]*z})}return K}function yE(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,s=n.padding,a=n.flipVariations,u=n.allowedAutoPlacements,c=u===void 0?sc:u,l=ii(r),h=l?a?hl:hl.filter(function(m){return ii(m)===l}):hi,f=h.filter(function(m){return c.indexOf(m)>=0});f.length===0&&(f=h);var d=f.reduce(function(m,p){return m[p]=oi(e,{placement:p,boundary:o,rootBoundary:i,padding:s})[cn(p)],m},{});return Object.keys(d).sort(function(m,p){return d[m]-d[p]})}function bE(e){if(cn(e)===Gs)return[];var t=Wo(e);return[Zu(e),t,Zu(t)]}function wE(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=o===void 0?!0:o,s=n.altAxis,a=s===void 0?!0:s,u=n.fallbackPlacements,c=n.padding,l=n.boundary,h=n.rootBoundary,f=n.altBoundary,d=n.flipVariations,m=d===void 0?!0:d,p=n.allowedAutoPlacements,b=t.options.placement,E=cn(b),v=E===b,g=u||(v||!m?[Wo(b)]:bE(b)),x=[b].concat(g).reduce(function(Z,ee){return Z.concat(cn(ee)===Gs?yE(t,{placement:ee,boundary:l,rootBoundary:h,padding:c,flipVariations:m,allowedAutoPlacements:p}):ee)},[]),A=t.rects.reference,I=t.rects.popper,B=new Map,j=!0,U=x[0],K=0;K<x.length;K++){var y=x[K],C=cn(y),S=ii(y)===br,z=[pt,kt].indexOf(C)>=0,X=z?"width":"height",G=oi(t,{placement:y,boundary:l,rootBoundary:h,altBoundary:f,padding:c}),J=z?S?It:gt:S?kt:pt;A[X]>I[X]&&(J=Wo(J));var R=Wo(J),D=[];if(i&&D.push(G[C]<=0),a&&D.push(G[J]<=0,G[R]<=0),D.every(function(Z){return Z})){U=y,j=!1;break}B.set(y,D)}if(j)for(var Q=m?3:1,te=function(ee){var ue=x.find(function(ce){var ye=B.get(ce);if(ye)return ye.slice(0,ee).every(function(ne){return ne})});if(ue)return U=ue,"break"},he=Q;he>0;he--){var pe=te(he);if(pe==="break")break}t.placement!==U&&(t.modifiersData[r]._skip=!0,t.placement=U,t.reset=!0)}}const fp={name:"flip",enabled:!0,phase:"main",fn:wE,requiresIfExists:["offset"],data:{_skip:!1}};function tf(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function nf(e){return[pt,It,kt,gt].some(function(t){return e[t]>=0})}function EE(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,s=oi(t,{elementContext:"reference"}),a=oi(t,{altBoundary:!0}),u=tf(s,r),c=tf(a,o,i),l=nf(u),h=nf(c);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":h})}const hp={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:EE};function xE(e,t,n){var r=cn(e),o=[gt,pt].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=i[0],a=i[1];return s=s||0,a=(a||0)*o,[gt,It].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function SE(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=o===void 0?[0,0]:o,s=sc.reduce(function(l,h){return l[h]=xE(h,t.rects,i),l},{}),a=s[t.placement],u=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}const dp={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:SE};function TE(e){var t=e.state,n=e.name;t.modifiersData[n]=up({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const mc={name:"popperOffsets",enabled:!0,phase:"read",fn:TE,data:{}};function CE(e){return e==="x"?"y":"x"}function AE(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=o===void 0?!0:o,s=n.altAxis,a=s===void 0?!1:s,u=n.boundary,c=n.rootBoundary,l=n.altBoundary,h=n.padding,f=n.tether,d=f===void 0?!0:f,m=n.tetherOffset,p=m===void 0?0:m,b=oi(t,{boundary:u,rootBoundary:c,padding:h,altBoundary:l}),E=cn(t.placement),v=ii(t.placement),g=!v,x=uc(E),A=CE(x),I=t.modifiersData.popperOffsets,B=t.rects.reference,j=t.rects.popper,U=typeof p=="function"?p(Object.assign({},t.rects,{placement:t.placement})):p,K=typeof U=="number"?{mainAxis:U,altAxis:U}:Object.assign({mainAxis:0,altAxis:0},U),y=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(I){if(i){var S,z=x==="y"?pt:gt,X=x==="y"?kt:It,G=x==="y"?"height":"width",J=I[x],R=J+b[z],D=J-b[X],Q=d?-j[G]/2:0,te=v===br?B[G]:j[G],he=v===br?-j[G]:-B[G],pe=t.elements.arrow,Z=d&&pe?cc(pe):{width:0,height:0},ee=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:op(),ue=ee[z],ce=ee[X],ye=Ni(0,B[G],Z[G]),ne=g?B[G]/2-Q-ye-ue-K.mainAxis:te-ye-ue-K.mainAxis,q=g?-B[G]/2+Q+ye+ce+K.mainAxis:he+ye+ce+K.mainAxis,H=t.elements.arrow&&oo(t.elements.arrow),k=H?x==="y"?H.clientTop||0:H.clientLeft||0:0,M=(S=y==null?void 0:y[x])!=null?S:0,$=J+ne-M-k,F=J+q-M,V=Ni(d?ys(R,$):R,J,d?dr(D,F):D);I[x]=V,C[x]=V-J}if(a){var Y,P=x==="x"?pt:gt,O=x==="x"?kt:It,T=I[A],_=A==="y"?"height":"width",w=T+b[P],L=T-b[O],W=[pt,gt].indexOf(E)!==-1,re=(Y=y==null?void 0:y[A])!=null?Y:0,oe=W?w:T-B[_]-j[_]-re+K.altAxis,_e=W?T+B[_]+j[_]-re-K.altAxis:L,we=d&&W?iE(oe,T,_e):Ni(d?oe:w,T,d?_e:L);I[A]=we,C[A]=we-T}t.modifiersData[r]=C}}const pp={name:"preventOverflow",enabled:!0,phase:"main",fn:AE,requiresIfExists:["offset"]};function kE(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function IE(e){return e===Mt(e)||!Lt(e)?dc(e):kE(e)}function ME(e){var t=e.getBoundingClientRect(),n=ni(t.width)/e.offsetWidth||1,r=ni(t.height)/e.offsetHeight||1;return n!==1||r!==1}function PE(e,t,n){n===void 0&&(n=!1);var r=Lt(t),o=Lt(t)&&ME(t),i=qn(t),s=ri(e,o,n),a={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((hn(t)!=="body"||gc(i))&&(a=IE(t)),Lt(t)?(u=ri(t,!0),u.x+=t.clientLeft,u.y+=t.clientTop):i&&(u.x=pc(i))),{x:s.left+a.scrollLeft-u.x,y:s.top+a.scrollTop-u.y,width:s.width,height:s.height}}function OE(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function o(i){n.add(i.name);var s=[].concat(i.requires||[],i.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var u=t.get(a);u&&o(u)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||o(i)}),r}function LE(e){var t=OE(e);return np.reduce(function(n,r){return n.concat(t.filter(function(o){return o.phase===r}))},[])}function $E(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function RE(e){var t=e.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var rf={placement:"bottom",modifiers:[],strategy:"absolute"};function of(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Xs(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,o=t.defaultOptions,i=o===void 0?rf:o;return function(a,u,c){c===void 0&&(c=i);var l={placement:"bottom",orderedModifiers:[],options:Object.assign({},rf,i),modifiersData:{},elements:{reference:a,popper:u},attributes:{},styles:{}},h=[],f=!1,d={state:l,setOptions:function(E){var v=typeof E=="function"?E(l.options):E;p(),l.options=Object.assign({},i,l.options,v),l.scrollParents={reference:wr(a)?Di(a):a.contextElement?Di(a.contextElement):[],popper:Di(u)};var g=LE(RE([].concat(r,l.options.modifiers)));return l.orderedModifiers=g.filter(function(x){return x.enabled}),m(),d.update()},forceUpdate:function(){if(!f){var E=l.elements,v=E.reference,g=E.popper;if(of(v,g)){l.rects={reference:PE(v,oo(g),l.options.strategy==="fixed"),popper:cc(g)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(K){return l.modifiersData[K.name]=Object.assign({},K.data)});for(var x=0;x<l.orderedModifiers.length;x++){if(l.reset===!0){l.reset=!1,x=-1;continue}var A=l.orderedModifiers[x],I=A.fn,B=A.options,j=B===void 0?{}:B,U=A.name;typeof I=="function"&&(l=I({state:l,options:j,name:U,instance:d})||l)}}}},update:$E(function(){return new Promise(function(b){d.forceUpdate(),b(l)})}),destroy:function(){p(),f=!0}};if(!of(a,u))return d;d.setOptions(c).then(function(b){!f&&c.onFirstUpdate&&c.onFirstUpdate(b)});function m(){l.orderedModifiers.forEach(function(b){var E=b.name,v=b.options,g=v===void 0?{}:v,x=b.effect;if(typeof x=="function"){var A=x({state:l,name:E,instance:d,options:g}),I=function(){};h.push(A||I)}})}function p(){h.forEach(function(b){return b()}),h=[]}return d}}var NE=Xs(),DE=[hc,mc,fc,lc],BE=Xs({defaultModifiers:DE}),FE=[hc,mc,fc,lc,dp,fp,pp,lp,hp],_c=Xs({defaultModifiers:FE});const gp=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Jd,afterRead:Gd,afterWrite:tp,applyStyles:lc,arrow:lp,auto:Gs,basePlacements:hi,beforeMain:Qd,beforeRead:Kd,beforeWrite:Zd,bottom:kt,clippingParents:zd,computeStyles:fc,createPopper:_c,createPopperBase:NE,createPopperLite:BE,detectOverflow:oi,end:ti,eventListeners:hc,flip:fp,hide:hp,left:gt,main:Xd,modifierPhases:np,offset:dp,placements:sc,popper:Lr,popperGenerator:Xs,popperOffsets:mc,preventOverflow:pp,read:Yd,reference:qd,right:It,start:br,top:pt,variationPlacements:hl,viewport:oc,write:ep},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.0 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Mn=new Map,_a={set(e,t,n){Mn.has(e)||Mn.set(e,new Map);const r=Mn.get(e);if(!r.has(t)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(t,n)},get(e,t){return Mn.has(e)&&Mn.get(e).get(t)||null},remove(e,t){if(!Mn.has(e))return;const n=Mn.get(e);n.delete(t),n.size===0&&Mn.delete(e)}},UE=1e6,VE=1e3,gl="transitionend",mp=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(t,n)=>`#${CSS.escape(n)}`)),e),jE=e=>e==null?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),HE=e=>{do e+=Math.floor(Math.random()*UE);while(document.getElementById(e));return e},WE=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const r=Number.parseFloat(t),o=Number.parseFloat(n);return!r&&!o?0:(t=t.split(",")[0],n=n.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(n))*VE)},_p=e=>{e.dispatchEvent(new Event(gl))},wn=e=>!e||typeof e!="object"?!1:(typeof e.jquery<"u"&&(e=e[0]),typeof e.nodeType<"u"),Vn=e=>wn(e)?e.jquery?e[0]:e:typeof e=="string"&&e.length>0?document.querySelector(mp(e)):null,di=e=>{if(!wn(e)||e.getClientRects().length===0)return!1;const t=getComputedStyle(e).getPropertyValue("visibility")==="visible",n=e.closest("details:not([open])");if(!n)return t;if(n!==e){const r=e.closest("summary");if(r&&r.parentNode!==n||r===null)return!1}return t},jn=e=>!e||e.nodeType!==Node.ELEMENT_NODE||e.classList.contains("disabled")?!0:typeof e.disabled<"u"?e.disabled:e.hasAttribute("disabled")&&e.getAttribute("disabled")!=="false",vp=e=>{if(!document.documentElement.attachShadow)return null;if(typeof e.getRootNode=="function"){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?vp(e.parentNode):null},bs=()=>{},so=e=>{e.offsetHeight},yp=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,va=[],zE=e=>{document.readyState==="loading"?(va.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of va)t()}),va.push(e)):e()},Rt=()=>document.documentElement.dir==="rtl",Dt=e=>{zE(()=>{const t=yp();if(t){const n=e.NAME,r=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=r,e.jQueryInterface)}})},xt=(e,t=[],n=e)=>typeof e=="function"?e(...t):n,bp=(e,t,n=!0)=>{if(!n){xt(e);return}const r=5,o=WE(t)+r;let i=!1;const s=({target:a})=>{a===t&&(i=!0,t.removeEventListener(gl,s),xt(e))};t.addEventListener(gl,s),setTimeout(()=>{i||_p(t)},o)},vc=(e,t,n,r)=>{const o=e.length;let i=e.indexOf(t);return i===-1?!n&&r?e[o-1]:e[0]:(i+=n?1:-1,r&&(i=(i+o)%o),e[Math.max(0,Math.min(i,o-1))])},qE=/[^.]*(?=\..*)\.|.*/,KE=/\..*/,YE=/::\d+$/,ya={};let sf=1;const wp={mouseenter:"mouseover",mouseleave:"mouseout"},GE=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Ep(e,t){return t&&`${t}::${sf++}`||e.uidEvent||sf++}function xp(e){const t=Ep(e);return e.uidEvent=t,ya[t]=ya[t]||{},ya[t]}function QE(e,t){return function n(r){return yc(r,{delegateTarget:e}),n.oneOff&&me.off(e,r.type,t),t.apply(e,[r])}}function XE(e,t,n){return function r(o){const i=e.querySelectorAll(t);for(let{target:s}=o;s&&s!==this;s=s.parentNode)for(const a of i)if(a===s)return yc(o,{delegateTarget:s}),r.oneOff&&me.off(e,o.type,t,n),n.apply(s,[o])}}function Sp(e,t,n=null){return Object.values(e).find(r=>r.callable===t&&r.delegationSelector===n)}function Tp(e,t,n){const r=typeof t=="string",o=r?n:t||n;let i=Cp(e);return GE.has(i)||(i=e),[r,o,i]}function af(e,t,n,r,o){if(typeof t!="string"||!e)return;let[i,s,a]=Tp(t,n,r);t in wp&&(s=(m=>function(p){if(!p.relatedTarget||p.relatedTarget!==p.delegateTarget&&!p.delegateTarget.contains(p.relatedTarget))return m.call(this,p)})(s));const u=xp(e),c=u[a]||(u[a]={}),l=Sp(c,s,i?n:null);if(l){l.oneOff=l.oneOff&&o;return}const h=Ep(s,t.replace(qE,"")),f=i?XE(e,n,s):QE(e,s);f.delegationSelector=i?n:null,f.callable=s,f.oneOff=o,f.uidEvent=h,c[h]=f,e.addEventListener(a,f,i)}function ml(e,t,n,r,o){const i=Sp(t[n],r,o);i&&(e.removeEventListener(n,i,!!o),delete t[n][i.uidEvent])}function JE(e,t,n,r){const o=t[n]||{};for(const[i,s]of Object.entries(o))i.includes(r)&&ml(e,t,n,s.callable,s.delegationSelector)}function Cp(e){return e=e.replace(KE,""),wp[e]||e}const me={on(e,t,n,r){af(e,t,n,r,!1)},one(e,t,n,r){af(e,t,n,r,!0)},off(e,t,n,r){if(typeof t!="string"||!e)return;const[o,i,s]=Tp(t,n,r),a=s!==t,u=xp(e),c=u[s]||{},l=t.startsWith(".");if(typeof i<"u"){if(!Object.keys(c).length)return;ml(e,u,s,i,o?n:null);return}if(l)for(const h of Object.keys(u))JE(e,u,h,t.slice(1));for(const[h,f]of Object.entries(c)){const d=h.replace(YE,"");(!a||t.includes(d))&&ml(e,u,s,f.callable,f.delegationSelector)}},trigger(e,t,n){if(typeof t!="string"||!e)return null;const r=yp(),o=Cp(t),i=t!==o;let s=null,a=!0,u=!0,c=!1;i&&r&&(s=r.Event(t,n),r(e).trigger(s),a=!s.isPropagationStopped(),u=!s.isImmediatePropagationStopped(),c=s.isDefaultPrevented());const l=yc(new Event(t,{bubbles:a,cancelable:!0}),n);return c&&l.preventDefault(),u&&e.dispatchEvent(l),l.defaultPrevented&&s&&s.preventDefault(),l}};function yc(e,t={}){for(const[n,r]of Object.entries(t))try{e[n]=r}catch{Object.defineProperty(e,n,{configurable:!0,get(){return r}})}return e}function lf(e){if(e==="true")return!0;if(e==="false")return!1;if(e===Number(e).toString())return Number(e);if(e===""||e==="null")return null;if(typeof e!="string")return e;try{return JSON.parse(decodeURIComponent(e))}catch{return e}}function ba(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const En={setDataAttribute(e,t,n){e.setAttribute(`data-bs-${ba(t)}`,n)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${ba(t)}`)},getDataAttributes(e){if(!e)return{};const t={},n=Object.keys(e.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of n){let o=r.replace(/^bs/,"");o=o.charAt(0).toLowerCase()+o.slice(1,o.length),t[o]=lf(e.dataset[r])}return t},getDataAttribute(e,t){return lf(e.getAttribute(`data-bs-${ba(t)}`))}};class ao{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,n){const r=wn(n)?En.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...wn(n)?En.getDataAttributes(n):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,n=this.constructor.DefaultType){for(const[r,o]of Object.entries(n)){const i=t[r],s=wn(i)?"element":jE(i);if(!new RegExp(o).test(s))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${s}" but expected type "${o}".`)}}}const ZE="5.3.0";class Xt extends ao{constructor(t,n){super(),t=Vn(t),t&&(this._element=t,this._config=this._getConfig(n),_a.set(this._element,this.constructor.DATA_KEY,this))}dispose(){_a.remove(this._element,this.constructor.DATA_KEY),me.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,n,r=!0){bp(t,n,r)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return _a.get(Vn(t),this.DATA_KEY)}static getOrCreateInstance(t,n={}){return this.getInstance(t)||new this(t,typeof n=="object"?n:null)}static get VERSION(){return ZE}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const wa=e=>{let t=e.getAttribute("data-bs-target");if(!t||t==="#"){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&n!=="#"?n.trim():null}return mp(t)},xe={find(e,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne(e,t=document.documentElement){return Element.prototype.querySelector.call(t,e)},children(e,t){return[].concat(...e.children).filter(n=>n.matches(t))},parents(e,t){const n=[];let r=e.parentNode.closest(t);for(;r;)n.push(r),r=r.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(n=>!jn(n)&&di(n))},getSelectorFromElement(e){const t=wa(e);return t&&xe.findOne(t)?t:null},getElementFromSelector(e){const t=wa(e);return t?xe.findOne(t):null},getMultipleElementsFromSelector(e){const t=wa(e);return t?xe.find(t):[]}},Js=(e,t="hide")=>{const n=`click.dismiss${e.EVENT_KEY}`,r=e.NAME;me.on(document,n,`[data-bs-dismiss="${r}"]`,function(o){if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),jn(this))return;const i=xe.getElementFromSelector(this)||this.closest(`.${r}`);e.getOrCreateInstance(i)[t]()})},ex="alert",tx="bs.alert",Ap=`.${tx}`,nx=`close${Ap}`,rx=`closed${Ap}`,ix="fade",ox="show";class Zs extends Xt{static get NAME(){return ex}close(){if(me.trigger(this._element,nx).defaultPrevented)return;this._element.classList.remove(ox);const n=this._element.classList.contains(ix);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),me.trigger(this._element,rx),this.dispose()}static jQueryInterface(t){return this.each(function(){const n=Zs.getOrCreateInstance(this);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}Js(Zs,"close");Dt(Zs);const sx="button",ax="bs.button",lx=`.${ax}`,cx=".data-api",ux="active",cf='[data-bs-toggle="button"]',fx=`click${lx}${cx}`;class ea extends Xt{static get NAME(){return sx}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(ux))}static jQueryInterface(t){return this.each(function(){const n=ea.getOrCreateInstance(this);t==="toggle"&&n[t]()})}}me.on(document,fx,cf,e=>{e.preventDefault();const t=e.target.closest(cf);ea.getOrCreateInstance(t).toggle()});Dt(ea);const hx="swipe",pi=".bs.swipe",dx=`touchstart${pi}`,px=`touchmove${pi}`,gx=`touchend${pi}`,mx=`pointerdown${pi}`,_x=`pointerup${pi}`,vx="touch",yx="pen",bx="pointer-event",Ex=40,xx={endCallback:null,leftCallback:null,rightCallback:null},Sx={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ws extends ao{constructor(t,n){super(),this._element=t,!(!t||!ws.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return xx}static get DefaultType(){return Sx}static get NAME(){return hx}dispose(){me.off(this._element,pi)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),xt(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=Ex)return;const n=t/this._deltaX;this._deltaX=0,n&&xt(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(me.on(this._element,mx,t=>this._start(t)),me.on(this._element,_x,t=>this._end(t)),this._element.classList.add(bx)):(me.on(this._element,dx,t=>this._start(t)),me.on(this._element,px,t=>this._move(t)),me.on(this._element,gx,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===yx||t.pointerType===vx)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Tx="carousel",Cx="bs.carousel",Kn=`.${Cx}`,kp=".data-api",Ax="ArrowLeft",kx="ArrowRight",Ix=500,Si="next",Pr="prev",$r="left",zo="right",Mx=`slide${Kn}`,Ea=`slid${Kn}`,Px=`keydown${Kn}`,Ox=`mouseenter${Kn}`,Lx=`mouseleave${Kn}`,$x=`dragstart${Kn}`,Rx=`load${Kn}${kp}`,Nx=`click${Kn}${kp}`,Ip="carousel",To="active",Dx="slide",Bx="carousel-item-end",Fx="carousel-item-start",Ux="carousel-item-next",Vx="carousel-item-prev",Mp=".active",Pp=".carousel-item",jx=Mp+Pp,Hx=".carousel-item img",Wx=".carousel-indicators",zx="[data-bs-slide], [data-bs-slide-to]",qx='[data-bs-ride="carousel"]',Kx={[Ax]:zo,[kx]:$r},Yx={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Gx={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class lo extends Xt{constructor(t,n){super(t,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=xe.findOne(Wx,this._element),this._addEventListeners(),this._config.ride===Ip&&this.cycle()}static get Default(){return Yx}static get DefaultType(){return Gx}static get NAME(){return Tx}next(){this._slide(Si)}nextWhenVisible(){!document.hidden&&di(this._element)&&this.next()}prev(){this._slide(Pr)}pause(){this._isSliding&&_p(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){me.one(this._element,Ea,()=>this.cycle());return}this.cycle()}}to(t){const n=this._getItems();if(t>n.length-1||t<0)return;if(this._isSliding){me.one(this._element,Ea,()=>this.to(t));return}const r=this._getItemIndex(this._getActive());if(r===t)return;const o=t>r?Si:Pr;this._slide(o,n[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&me.on(this._element,Px,t=>this._keydown(t)),this._config.pause==="hover"&&(me.on(this._element,Ox,()=>this.pause()),me.on(this._element,Lx,()=>this._maybeEnableCycle())),this._config.touch&&ws.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of xe.find(Hx,this._element))me.on(r,$x,o=>o.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder($r)),rightCallback:()=>this._slide(this._directionToOrder(zo)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Ix+this._config.interval))}};this._swipeHelper=new ws(this._element,n)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const n=Kx[t.key];n&&(t.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const n=xe.findOne(Mp,this._indicatorsElement);n.classList.remove(To),n.removeAttribute("aria-current");const r=xe.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);r&&(r.classList.add(To),r.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const n=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(t,n=null){if(this._isSliding)return;const r=this._getActive(),o=t===Si,i=n||vc(this._getItems(),r,o,this._config.wrap);if(i===r)return;const s=this._getItemIndex(i),a=d=>me.trigger(this._element,d,{relatedTarget:i,direction:this._orderToDirection(t),from:this._getItemIndex(r),to:s});if(a(Mx).defaultPrevented||!r||!i)return;const c=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(s),this._activeElement=i;const l=o?Fx:Bx,h=o?Ux:Vx;i.classList.add(h),so(i),r.classList.add(l),i.classList.add(l);const f=()=>{i.classList.remove(l,h),i.classList.add(To),r.classList.remove(To,h,l),this._isSliding=!1,a(Ea)};this._queueCallback(f,r,this._isAnimated()),c&&this.cycle()}_isAnimated(){return this._element.classList.contains(Dx)}_getActive(){return xe.findOne(jx,this._element)}_getItems(){return xe.find(Pp,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return Rt()?t===$r?Pr:Si:t===$r?Si:Pr}_orderToDirection(t){return Rt()?t===Pr?$r:zo:t===Pr?zo:$r}static jQueryInterface(t){return this.each(function(){const n=lo.getOrCreateInstance(this,t);if(typeof t=="number"){n.to(t);return}if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}me.on(document,Nx,zx,function(e){const t=xe.getElementFromSelector(this);if(!t||!t.classList.contains(Ip))return;e.preventDefault();const n=lo.getOrCreateInstance(t),r=this.getAttribute("data-bs-slide-to");if(r){n.to(r),n._maybeEnableCycle();return}if(En.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});me.on(window,Rx,()=>{const e=xe.find(qx);for(const t of e)lo.getOrCreateInstance(t)});Dt(lo);const Qx="collapse",Xx="bs.collapse",co=`.${Xx}`,Jx=".data-api",Zx=`show${co}`,eS=`shown${co}`,tS=`hide${co}`,nS=`hidden${co}`,rS=`click${co}${Jx}`,xa="show",Fr="collapse",Co="collapsing",iS="collapsed",oS=`:scope .${Fr} .${Fr}`,sS="collapse-horizontal",aS="width",lS="height",cS=".collapse.show, .collapse.collapsing",_l='[data-bs-toggle="collapse"]',uS={parent:null,toggle:!0},fS={parent:"(null|element)",toggle:"boolean"};class eo extends Xt{constructor(t,n){super(t,n),this._isTransitioning=!1,this._triggerArray=[];const r=xe.find(_l);for(const o of r){const i=xe.getSelectorFromElement(o),s=xe.find(i).filter(a=>a===this._element);i!==null&&s.length&&this._triggerArray.push(o)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return uS}static get DefaultType(){return fS}static get NAME(){return Qx}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(cS).filter(a=>a!==this._element).map(a=>eo.getOrCreateInstance(a,{toggle:!1}))),t.length&&t[0]._isTransitioning||me.trigger(this._element,Zx).defaultPrevented)return;for(const a of t)a.hide();const r=this._getDimension();this._element.classList.remove(Fr),this._element.classList.add(Co),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const o=()=>{this._isTransitioning=!1,this._element.classList.remove(Co),this._element.classList.add(Fr,xa),this._element.style[r]="",me.trigger(this._element,eS)},s=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(o,this._element,!0),this._element.style[r]=`${this._element[s]}px`}hide(){if(this._isTransitioning||!this._isShown()||me.trigger(this._element,tS).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,so(this._element),this._element.classList.add(Co),this._element.classList.remove(Fr,xa);for(const o of this._triggerArray){const i=xe.getElementFromSelector(o);i&&!this._isShown(i)&&this._addAriaAndCollapsedClass([o],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(Co),this._element.classList.add(Fr),me.trigger(this._element,nS)};this._element.style[n]="",this._queueCallback(r,this._element,!0)}_isShown(t=this._element){return t.classList.contains(xa)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=Vn(t.parent),t}_getDimension(){return this._element.classList.contains(sS)?aS:lS}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(_l);for(const n of t){const r=xe.getElementFromSelector(n);r&&this._addAriaAndCollapsedClass([n],this._isShown(r))}}_getFirstLevelChildren(t){const n=xe.find(oS,this._config.parent);return xe.find(t,this._config.parent).filter(r=>!n.includes(r))}_addAriaAndCollapsedClass(t,n){if(t.length)for(const r of t)r.classList.toggle(iS,!n),r.setAttribute("aria-expanded",n)}static jQueryInterface(t){const n={};return typeof t=="string"&&/show|hide/.test(t)&&(n.toggle=!1),this.each(function(){const r=eo.getOrCreateInstance(this,n);if(typeof t=="string"){if(typeof r[t]>"u")throw new TypeError(`No method named "${t}"`);r[t]()}})}}me.on(document,rS,_l,function(e){(e.target.tagName==="A"||e.delegateTarget&&e.delegateTarget.tagName==="A")&&e.preventDefault();for(const t of xe.getMultipleElementsFromSelector(this))eo.getOrCreateInstance(t,{toggle:!1}).toggle()});Dt(eo);const uf="dropdown",hS="bs.dropdown",Cr=`.${hS}`,bc=".data-api",dS="Escape",ff="Tab",pS="ArrowUp",hf="ArrowDown",gS=2,mS=`hide${Cr}`,_S=`hidden${Cr}`,vS=`show${Cr}`,yS=`shown${Cr}`,Op=`click${Cr}${bc}`,Lp=`keydown${Cr}${bc}`,bS=`keyup${Cr}${bc}`,Rr="show",wS="dropup",ES="dropend",xS="dropstart",SS="dropup-center",TS="dropdown-center",lr='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',CS=`${lr}.${Rr}`,qo=".dropdown-menu",AS=".navbar",kS=".navbar-nav",IS=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",MS=Rt()?"top-end":"top-start",PS=Rt()?"top-start":"top-end",OS=Rt()?"bottom-end":"bottom-start",LS=Rt()?"bottom-start":"bottom-end",$S=Rt()?"left-start":"right-start",RS=Rt()?"right-start":"left-start",NS="top",DS="bottom",BS={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},FS={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class un extends Xt{constructor(t,n){super(t,n),this._popper=null,this._parent=this._element.parentNode,this._menu=xe.next(this._element,qo)[0]||xe.prev(this._element,qo)[0]||xe.findOne(qo,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return BS}static get DefaultType(){return FS}static get NAME(){return uf}toggle(){return this._isShown()?this.hide():this.show()}show(){if(jn(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!me.trigger(this._element,vS,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(kS))for(const r of[].concat(...document.body.children))me.on(r,"mouseover",bs);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Rr),this._element.classList.add(Rr),me.trigger(this._element,yS,t)}}hide(){if(jn(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!me.trigger(this._element,mS,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))me.off(r,"mouseover",bs);this._popper&&this._popper.destroy(),this._menu.classList.remove(Rr),this._element.classList.remove(Rr),this._element.setAttribute("aria-expanded","false"),En.removeDataAttribute(this._menu,"popper"),me.trigger(this._element,_S,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!wn(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${uf.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof gp>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=this._parent:wn(this._config.reference)?t=Vn(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const n=this._getPopperConfig();this._popper=_c(t,this._menu,n)}_isShown(){return this._menu.classList.contains(Rr)}_getPlacement(){const t=this._parent;if(t.classList.contains(ES))return $S;if(t.classList.contains(xS))return RS;if(t.classList.contains(SS))return NS;if(t.classList.contains(TS))return DS;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(wS)?n?PS:MS:n?LS:OS}_detectNavbar(){return this._element.closest(AS)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(En.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...xt(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:n}){const r=xe.find(IS,this._menu).filter(o=>di(o));r.length&&vc(r,n,t===hf,!r.includes(n)).focus()}static jQueryInterface(t){return this.each(function(){const n=un.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}static clearMenus(t){if(t.button===gS||t.type==="keyup"&&t.key!==ff)return;const n=xe.find(CS);for(const r of n){const o=un.getInstance(r);if(!o||o._config.autoClose===!1)continue;const i=t.composedPath(),s=i.includes(o._menu);if(i.includes(o._element)||o._config.autoClose==="inside"&&!s||o._config.autoClose==="outside"&&s||o._menu.contains(t.target)&&(t.type==="keyup"&&t.key===ff||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const a={relatedTarget:o._element};t.type==="click"&&(a.clickEvent=t),o._completeHide(a)}}static dataApiKeydownHandler(t){const n=/input|textarea/i.test(t.target.tagName),r=t.key===dS,o=[pS,hf].includes(t.key);if(!o&&!r||n&&!r)return;t.preventDefault();const i=this.matches(lr)?this:xe.prev(this,lr)[0]||xe.next(this,lr)[0]||xe.findOne(lr,t.delegateTarget.parentNode),s=un.getOrCreateInstance(i);if(o){t.stopPropagation(),s.show(),s._selectMenuItem(t);return}s._isShown()&&(t.stopPropagation(),s.hide(),i.focus())}}me.on(document,Lp,lr,un.dataApiKeydownHandler);me.on(document,Lp,qo,un.dataApiKeydownHandler);me.on(document,Op,un.clearMenus);me.on(document,bS,un.clearMenus);me.on(document,Op,lr,function(e){e.preventDefault(),un.getOrCreateInstance(this).toggle()});Dt(un);const $p="backdrop",US="fade",df="show",pf=`mousedown.bs.${$p}`,VS={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},jS={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Rp extends ao{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return VS}static get DefaultType(){return jS}static get NAME(){return $p}show(t){if(!this._config.isVisible){xt(t);return}this._append();const n=this._getElement();this._config.isAnimated&&so(n),n.classList.add(df),this._emulateAnimation(()=>{xt(t)})}hide(t){if(!this._config.isVisible){xt(t);return}this._getElement().classList.remove(df),this._emulateAnimation(()=>{this.dispose(),xt(t)})}dispose(){this._isAppended&&(me.off(this._element,pf),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(US),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=Vn(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),me.on(t,pf,()=>{xt(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){bp(t,this._getElement(),this._config.isAnimated)}}const HS="focustrap",WS="bs.focustrap",Es=`.${WS}`,zS=`focusin${Es}`,qS=`keydown.tab${Es}`,KS="Tab",YS="forward",gf="backward",GS={autofocus:!0,trapElement:null},QS={autofocus:"boolean",trapElement:"element"};class Np extends ao{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return GS}static get DefaultType(){return QS}static get NAME(){return HS}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),me.off(document,Es),me.on(document,zS,t=>this._handleFocusin(t)),me.on(document,qS,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,me.off(document,Es))}_handleFocusin(t){const{trapElement:n}=this._config;if(t.target===document||t.target===n||n.contains(t.target))return;const r=xe.focusableChildren(n);r.length===0?n.focus():this._lastTabNavDirection===gf?r[r.length-1].focus():r[0].focus()}_handleKeydown(t){t.key===KS&&(this._lastTabNavDirection=t.shiftKey?gf:YS)}}const mf=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",_f=".sticky-top",Ao="padding-right",vf="margin-right";class vl{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Ao,n=>n+t),this._setElementAttributes(mf,Ao,n=>n+t),this._setElementAttributes(_f,vf,n=>n-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Ao),this._resetElementAttributes(mf,Ao),this._resetElementAttributes(_f,vf)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,n,r){const o=this.getWidth(),i=s=>{if(s!==this._element&&window.innerWidth>s.clientWidth+o)return;this._saveInitialAttribute(s,n);const a=window.getComputedStyle(s).getPropertyValue(n);s.style.setProperty(n,`${r(Number.parseFloat(a))}px`)};this._applyManipulationCallback(t,i)}_saveInitialAttribute(t,n){const r=t.style.getPropertyValue(n);r&&En.setDataAttribute(t,n,r)}_resetElementAttributes(t,n){const r=o=>{const i=En.getDataAttribute(o,n);if(i===null){o.style.removeProperty(n);return}En.removeDataAttribute(o,n),o.style.setProperty(n,i)};this._applyManipulationCallback(t,r)}_applyManipulationCallback(t,n){if(wn(t)){n(t);return}for(const r of xe.find(t,this._element))n(r)}}const XS="modal",JS="bs.modal",Nt=`.${JS}`,ZS=".data-api",eT="Escape",tT=`hide${Nt}`,nT=`hidePrevented${Nt}`,Dp=`hidden${Nt}`,Bp=`show${Nt}`,rT=`shown${Nt}`,iT=`resize${Nt}`,oT=`click.dismiss${Nt}`,sT=`mousedown.dismiss${Nt}`,aT=`keydown.dismiss${Nt}`,lT=`click${Nt}${ZS}`,yf="modal-open",cT="fade",bf="show",Sa="modal-static",uT=".modal.show",fT=".modal-dialog",hT=".modal-body",dT='[data-bs-toggle="modal"]',pT={backdrop:!0,focus:!0,keyboard:!0},gT={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class dn extends Xt{constructor(t,n){super(t,n),this._dialog=xe.findOne(fT,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new vl,this._addEventListeners()}static get Default(){return pT}static get DefaultType(){return gT}static get NAME(){return XS}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||me.trigger(this._element,Bp,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(yf),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||me.trigger(this._element,tT).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(bf),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){me.off(window,Nt),me.off(this._dialog,Nt),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Rp({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Np({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=xe.findOne(hT,this._dialog);n&&(n.scrollTop=0),so(this._element),this._element.classList.add(bf);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,me.trigger(this._element,rT,{relatedTarget:t})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){me.on(this._element,aT,t=>{if(t.key===eT){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),me.on(window,iT,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),me.on(this._element,sT,t=>{me.one(this._element,oT,n=>{if(!(this._element!==t.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(yf),this._resetAdjustments(),this._scrollBar.reset(),me.trigger(this._element,Dp)})}_isAnimated(){return this._element.classList.contains(cT)}_triggerBackdropTransition(){if(me.trigger(this._element,nT).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(Sa)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(Sa),this._queueCallback(()=>{this._element.classList.remove(Sa),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),r=n>0;if(r&&!t){const o=Rt()?"paddingLeft":"paddingRight";this._element.style[o]=`${n}px`}if(!r&&t){const o=Rt()?"paddingRight":"paddingLeft";this._element.style[o]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,n){return this.each(function(){const r=dn.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof r[t]>"u")throw new TypeError(`No method named "${t}"`);r[t](n)}})}}me.on(document,lT,dT,function(e){const t=xe.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),me.one(t,Bp,o=>{o.defaultPrevented||me.one(t,Dp,()=>{di(this)&&this.focus()})});const n=xe.findOne(uT);n&&dn.getInstance(n).hide(),dn.getOrCreateInstance(t).toggle(this)});Js(dn);Dt(dn);const mT="offcanvas",_T="bs.offcanvas",kn=`.${_T}`,Fp=".data-api",vT=`load${kn}${Fp}`,yT="Escape",wf="show",Ef="showing",xf="hiding",bT="offcanvas-backdrop",Up=".offcanvas.show",wT=`show${kn}`,ET=`shown${kn}`,xT=`hide${kn}`,Sf=`hidePrevented${kn}`,Vp=`hidden${kn}`,ST=`resize${kn}`,TT=`click${kn}${Fp}`,CT=`keydown.dismiss${kn}`,AT='[data-bs-toggle="offcanvas"]',kT={backdrop:!0,keyboard:!0,scroll:!1},IT={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Hn extends Xt{constructor(t,n){super(t,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return kT}static get DefaultType(){return IT}static get NAME(){return mT}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||me.trigger(this._element,wT,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new vl().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Ef);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(wf),this._element.classList.remove(Ef),me.trigger(this._element,ET,{relatedTarget:t})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||me.trigger(this._element,xT).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(xf),this._backdrop.hide();const n=()=>{this._element.classList.remove(wf,xf),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new vl().reset(),me.trigger(this._element,Vp)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){me.trigger(this._element,Sf);return}this.hide()},n=!!this._config.backdrop;return new Rp({className:bT,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?t:null})}_initializeFocusTrap(){return new Np({trapElement:this._element})}_addEventListeners(){me.on(this._element,CT,t=>{if(t.key===yT){if(this._config.keyboard){this.hide();return}me.trigger(this._element,Sf)}})}static jQueryInterface(t){return this.each(function(){const n=Hn.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}me.on(document,TT,AT,function(e){const t=xe.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),jn(this))return;me.one(t,Vp,()=>{di(this)&&this.focus()});const n=xe.findOne(Up);n&&n!==t&&Hn.getInstance(n).hide(),Hn.getOrCreateInstance(t).toggle(this)});me.on(window,vT,()=>{for(const e of xe.find(Up))Hn.getOrCreateInstance(e).show()});me.on(window,ST,()=>{for(const e of xe.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(e).position!=="fixed"&&Hn.getOrCreateInstance(e).hide()});Js(Hn);Dt(Hn);const MT=/^aria-[\w-]*$/i,jp={"*":["class","dir","id","lang","role",MT],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},PT=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),OT=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,LT=(e,t)=>{const n=e.nodeName.toLowerCase();return t.includes(n)?PT.has(n)?!!OT.test(e.nodeValue):!0:t.filter(r=>r instanceof RegExp).some(r=>r.test(n))};function $T(e,t,n){if(!e.length)return e;if(n&&typeof n=="function")return n(e);const o=new window.DOMParser().parseFromString(e,"text/html"),i=[].concat(...o.body.querySelectorAll("*"));for(const s of i){const a=s.nodeName.toLowerCase();if(!Object.keys(t).includes(a)){s.remove();continue}const u=[].concat(...s.attributes),c=[].concat(t["*"]||[],t[a]||[]);for(const l of u)LT(l,c)||s.removeAttribute(l.nodeName)}return o.body.innerHTML}const RT="TemplateFactory",NT={allowList:jp,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},DT={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},BT={entry:"(string|element|function|null)",selector:"(string|element)"};class FT extends ao{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return NT}static get DefaultType(){return DT}static get NAME(){return RT}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[o,i]of Object.entries(this._config.content))this._setContent(t,i,o);const n=t.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&n.classList.add(...r.split(" ")),n}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[n,r]of Object.entries(t))super._typeCheckConfig({selector:n,entry:r},BT)}_setContent(t,n,r){const o=xe.findOne(r,t);if(o){if(n=this._resolvePossibleFunction(n),!n){o.remove();return}if(wn(n)){this._putElementInTemplate(Vn(n),o);return}if(this._config.html){o.innerHTML=this._maybeSanitize(n);return}o.textContent=n}}_maybeSanitize(t){return this._config.sanitize?$T(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return xt(t,[this])}_putElementInTemplate(t,n){if(this._config.html){n.innerHTML="",n.append(t);return}n.textContent=t.textContent}}const UT="tooltip",VT=new Set(["sanitize","allowList","sanitizeFn"]),Ta="fade",jT="modal",ko="show",HT=".tooltip-inner",Tf=`.${jT}`,Cf="hide.bs.modal",Ti="hover",Ca="focus",WT="click",zT="manual",qT="hide",KT="hidden",YT="show",GT="shown",QT="inserted",XT="click",JT="focusin",ZT="focusout",eC="mouseenter",tC="mouseleave",nC={AUTO:"auto",TOP:"top",RIGHT:Rt()?"left":"right",BOTTOM:"bottom",LEFT:Rt()?"right":"left"},rC={allowList:jp,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},iC={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class gi extends Xt{constructor(t,n){if(typeof gp>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return rC}static get DefaultType(){return iC}static get NAME(){return UT}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),me.off(this._element.closest(Tf),Cf,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=me.trigger(this._element,this.constructor.eventName(YT)),r=(vp(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!r)return;this._disposePopper();const o=this._getTipElement();this._element.setAttribute("aria-describedby",o.getAttribute("id"));const{container:i}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(i.append(o),me.trigger(this._element,this.constructor.eventName(QT))),this._popper=this._createPopper(o),o.classList.add(ko),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))me.on(a,"mouseover",bs);const s=()=>{me.trigger(this._element,this.constructor.eventName(GT)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(s,this.tip,this._isAnimated())}hide(){if(!this._isShown()||me.trigger(this._element,this.constructor.eventName(qT)).defaultPrevented)return;if(this._getTipElement().classList.remove(ko),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))me.off(o,"mouseover",bs);this._activeTrigger[WT]=!1,this._activeTrigger[Ca]=!1,this._activeTrigger[Ti]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),me.trigger(this._element,this.constructor.eventName(KT)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const n=this._getTemplateFactory(t).toHtml();if(!n)return null;n.classList.remove(Ta,ko),n.classList.add(`bs-${this.constructor.NAME}-auto`);const r=HE(this.constructor.NAME).toString();return n.setAttribute("id",r),this._isAnimated()&&n.classList.add(Ta),n}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new FT({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[HT]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Ta)}_isShown(){return this.tip&&this.tip.classList.contains(ko)}_createPopper(t){const n=xt(this._config.placement,[this,t,this._element]),r=nC[n.toUpperCase()];return _c(this._element,t,this._getPopperConfig(r))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_resolvePossibleFunction(t){return xt(t,[this._element])}_getPopperConfig(t){const n={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...n,...xt(this._config.popperConfig,[n])}}_setListeners(){const t=this._config.trigger.split(" ");for(const n of t)if(n==="click")me.on(this._element,this.constructor.eventName(XT),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(n!==zT){const r=n===Ti?this.constructor.eventName(eC):this.constructor.eventName(JT),o=n===Ti?this.constructor.eventName(tC):this.constructor.eventName(ZT);me.on(this._element,r,this._config.selector,i=>{const s=this._initializeOnDelegatedTarget(i);s._activeTrigger[i.type==="focusin"?Ca:Ti]=!0,s._enter()}),me.on(this._element,o,this._config.selector,i=>{const s=this._initializeOnDelegatedTarget(i);s._activeTrigger[i.type==="focusout"?Ca:Ti]=s._element.contains(i.relatedTarget),s._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},me.on(this._element.closest(Tf),Cf,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,n){clearTimeout(this._timeout),this._timeout=setTimeout(t,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const n=En.getDataAttributes(this._element);for(const r of Object.keys(n))VT.has(r)&&delete n[r];return t={...n,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:Vn(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[n,r]of Object.entries(this._config))this.constructor.Default[n]!==r&&(t[n]=r);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const n=gi.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}}Dt(gi);const oC="popover",sC=".popover-header",aC=".popover-body",lC={...gi.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},cC={...gi.DefaultType,content:"(null|string|element|function)"};class wc extends gi{static get Default(){return lC}static get DefaultType(){return cC}static get NAME(){return oC}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[sC]:this._getTitle(),[aC]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const n=wc.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}}Dt(wc);const uC="scrollspy",fC="bs.scrollspy",Ec=`.${fC}`,hC=".data-api",dC=`activate${Ec}`,Af=`click${Ec}`,pC=`load${Ec}${hC}`,gC="dropdown-item",Or="active",mC='[data-bs-spy="scroll"]',Aa="[href]",_C=".nav, .list-group",kf=".nav-link",vC=".nav-item",yC=".list-group-item",bC=`${kf}, ${vC} > ${kf}, ${yC}`,wC=".dropdown",EC=".dropdown-toggle",xC={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},SC={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ta extends Xt{constructor(t,n){super(t,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return xC}static get DefaultType(){return SC}static get NAME(){return uC}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=Vn(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(n=>Number.parseFloat(n))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(me.off(this._config.target,Af),me.on(this._config.target,Af,Aa,t=>{const n=this._observableSections.get(t.target.hash);if(n){t.preventDefault();const r=this._rootElement||window,o=n.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:o,behavior:"smooth"});return}r.scrollTop=o}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),t)}_observerCallback(t){const n=s=>this._targetLinks.get(`#${s.target.id}`),r=s=>{this._previousScrollData.visibleEntryTop=s.target.offsetTop,this._process(n(s))},o=(this._rootElement||document.documentElement).scrollTop,i=o>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=o;for(const s of t){if(!s.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(s));continue}const a=s.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(i&&a){if(r(s),!o)return;continue}!i&&!a&&r(s)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=xe.find(Aa,this._config.target);for(const n of t){if(!n.hash||jn(n))continue;const r=xe.findOne(decodeURI(n.hash),this._element);di(r)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,r))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(Or),this._activateParents(t),me.trigger(this._element,dC,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(gC)){xe.findOne(EC,t.closest(wC)).classList.add(Or);return}for(const n of xe.parents(t,_C))for(const r of xe.prev(n,bC))r.classList.add(Or)}_clearActiveClass(t){t.classList.remove(Or);const n=xe.find(`${Aa}.${Or}`,t);for(const r of n)r.classList.remove(Or)}static jQueryInterface(t){return this.each(function(){const n=ta.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}me.on(window,pC,()=>{for(const e of xe.find(mC))ta.getOrCreateInstance(e)});Dt(ta);const TC="tab",CC="bs.tab",Ar=`.${CC}`,AC=`hide${Ar}`,kC=`hidden${Ar}`,IC=`show${Ar}`,MC=`shown${Ar}`,PC=`click${Ar}`,OC=`keydown${Ar}`,LC=`load${Ar}`,$C="ArrowLeft",If="ArrowRight",RC="ArrowUp",Mf="ArrowDown",cr="active",Pf="fade",ka="show",NC="dropdown",DC=".dropdown-toggle",BC=".dropdown-menu",Ia=":not(.dropdown-toggle)",FC='.list-group, .nav, [role="tablist"]',UC=".nav-item, .list-group-item",VC=`.nav-link${Ia}, .list-group-item${Ia}, [role="tab"]${Ia}`,Hp='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ma=`${VC}, ${Hp}`,jC=`.${cr}[data-bs-toggle="tab"], .${cr}[data-bs-toggle="pill"], .${cr}[data-bs-toggle="list"]`;class si extends Xt{constructor(t){super(t),this._parent=this._element.closest(FC),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),me.on(this._element,OC,n=>this._keydown(n)))}static get NAME(){return TC}show(){const t=this._element;if(this._elemIsActive(t))return;const n=this._getActiveElem(),r=n?me.trigger(n,AC,{relatedTarget:t}):null;me.trigger(t,IC,{relatedTarget:n}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(n,t),this._activate(t,n))}_activate(t,n){if(!t)return;t.classList.add(cr),this._activate(xe.getElementFromSelector(t));const r=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(ka);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),me.trigger(t,MC,{relatedTarget:n})};this._queueCallback(r,t,t.classList.contains(Pf))}_deactivate(t,n){if(!t)return;t.classList.remove(cr),t.blur(),this._deactivate(xe.getElementFromSelector(t));const r=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(ka);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),me.trigger(t,kC,{relatedTarget:n})};this._queueCallback(r,t,t.classList.contains(Pf))}_keydown(t){if(![$C,If,RC,Mf].includes(t.key))return;t.stopPropagation(),t.preventDefault();const n=[If,Mf].includes(t.key),r=vc(this._getChildren().filter(o=>!jn(o)),t.target,n,!0);r&&(r.focus({preventScroll:!0}),si.getOrCreateInstance(r).show())}_getChildren(){return xe.find(Ma,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,n){this._setAttributeIfNotExists(t,"role","tablist");for(const r of n)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const n=this._elemIsActive(t),r=this._getOuterElement(t);t.setAttribute("aria-selected",n),r!==t&&this._setAttributeIfNotExists(r,"role","presentation"),n||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const n=xe.getElementFromSelector(t);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,n){const r=this._getOuterElement(t);if(!r.classList.contains(NC))return;const o=(i,s)=>{const a=xe.findOne(i,r);a&&a.classList.toggle(s,n)};o(DC,cr),o(BC,ka),r.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(t,n,r){t.hasAttribute(n)||t.setAttribute(n,r)}_elemIsActive(t){return t.classList.contains(cr)}_getInnerElement(t){return t.matches(Ma)?t:xe.findOne(Ma,t)}_getOuterElement(t){return t.closest(UC)||t}static jQueryInterface(t){return this.each(function(){const n=si.getOrCreateInstance(this);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}me.on(document,PC,Hp,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),!jn(this)&&si.getOrCreateInstance(this).show()});me.on(window,LC,()=>{for(const e of xe.find(jC))si.getOrCreateInstance(e)});Dt(si);const HC="toast",WC="bs.toast",Yn=`.${WC}`,zC=`mouseover${Yn}`,qC=`mouseout${Yn}`,KC=`focusin${Yn}`,YC=`focusout${Yn}`,GC=`hide${Yn}`,QC=`hidden${Yn}`,XC=`show${Yn}`,JC=`shown${Yn}`,ZC="fade",Of="hide",Io="show",Mo="showing",eA={animation:"boolean",autohide:"boolean",delay:"number"},tA={animation:!0,autohide:!0,delay:5e3};class na extends Xt{constructor(t,n){super(t,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return tA}static get DefaultType(){return eA}static get NAME(){return HC}show(){if(me.trigger(this._element,XC).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(ZC);const n=()=>{this._element.classList.remove(Mo),me.trigger(this._element,JC),this._maybeScheduleHide()};this._element.classList.remove(Of),so(this._element),this._element.classList.add(Io,Mo),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||me.trigger(this._element,GC).defaultPrevented)return;const n=()=>{this._element.classList.add(Of),this._element.classList.remove(Mo,Io),me.trigger(this._element,QC)};this._element.classList.add(Mo),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Io),super.dispose()}isShown(){return this._element.classList.contains(Io)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,n){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const r=t.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){me.on(this._element,zC,t=>this._onInteraction(t,!0)),me.on(this._element,qC,t=>this._onInteraction(t,!1)),me.on(this._element,KC,t=>this._onInteraction(t,!0)),me.on(this._element,YC,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const n=na.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}Js(na);Dt(na);const Wp=e=>(ut("data-v-fb448a8e"),e=e(),ft(),e),nA=["id"],rA={class:"modal-dialog modal-lg modal-fullscreen-lg-down"},iA={class:"modal-content"},oA={class:"modal-header"},sA={class:"modal-title"},aA=Wp(()=>N("button",{type:"button",class:"btn-close buttonTextSize d-flex justify-content-center pt-3 pb-0","data-bs-dismiss":"modal"},[N("i",{class:"fa-solid fa-lg fa-rectangle-xmark m-0 p-0"})],-1)),lA={class:"modal-body",style:{"background-color":"var(--color-bg)"}},cA=Wp(()=>N("button",{class:"btn btn-secondary float-end mt-3 ms-1","data-bs-dismiss":"modal"}," Schließen ",-1)),uA=Se({__name:"ModalComponent",props:{modalId:{}},setup(e){const t=e;let n=document.getElementById(t.modalId);return n&&new dn(n),fi(()=>{let r=document.getElementById(t.modalId);r&&new dn(r,{})}),(r,o)=>(ie(),ge("div",{class:"modal fade",id:r.modalId},[N("div",rA,[N("div",iA,[N("div",oA,[N("h3",sA,[or(r.$slots,"title",{},void 0,!0)]),aA]),N("div",lA,[or(r.$slots,"default",{},void 0,!0),cA])])])],8,nA))}});const mi=Fe(uA,[["__scopeId","data-v-fb448a8e"]]),fA=["value"],hA=Se({__name:"SelectInput",props:{options:{},modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=le({get(){return n.modelValue},set(o){t("update:modelValue",o)}});return(o,i)=>Wn((ie(),ge("select",{class:"form-select","onUpdate:modelValue":i[0]||(i[0]=s=>r.value=s),id:"selectme"},[(ie(!0),ge(Oe,null,mt(o.options,s=>(ie(),ge("option",{value:s[1]},Ee(s[0]),9,fA))),256))],512)),[[x_,r.value]])}});const xc=Fe(hA,[["__scopeId","data-v-9105cc19"]]),dA=e=>(ut("data-v-40e3f7f2"),e=e(),ft(),e),pA={class:"row ms-1 p-0 pt-2 d-flex align-items-center"},gA={class:"col-4 titlecolumn m-0 p-0"},mA={class:"col me-1 p-0 ps-4"},_A={class:"d-flex justify-content-stretch align-items-center"},vA={class:"flex-fill"},yA=dA(()=>N("i",{class:"me-1 fa-solid fa-sm fa-circle-info"},null,-1)),bA=Se({__name:"ConfigItem",props:{title:{},infotext:{},icon:{}},setup(e){const t=$t(!1);function n(){t.value=!t.value}const r=le(()=>{let o={color:"var(--color-charging)"};return t.value&&(o.color="var(--color-battery)"),o});return(o,i)=>(ie(),ge("div",pA,[N("div",gA,[N("span",{onClick:n,class:"d-flex align-items-baseline m-0 p-0"},[o.icon?(ie(),ge("i",{key:0,class:ze(["fa-solid fa-sm m-0 p-0 me-2 item-icon",o.icon])},null,2)):be("",!0),je(" "+Ee(o.title),1)])]),N("div",mA,[N("span",_A,[N("span",vA,[or(o.$slots,"default",{},void 0,!0)]),N("span",null,[o.infotext?(ie(),ge("i",{key:0,class:"fa-solid fa-sm fa-circle-question ms-4 me-2",style:Ye(r.value),onClick:n},null,4)):be("",!0)])]),t.value?(ie(),ge("p",{key:0,onClick:n,class:"infotext shadow m-0 ps-2 mb-1 p-1"},[yA,je(" "+Ee(o.infotext),1)])):be("",!0)])]))}});const Ie=Fe(bA,[["__scopeId","data-v-40e3f7f2"]]),wA={class:"form-check form-switch"},qt=Se({__name:"SwitchInput",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=le({get(){return n.modelValue},set(o){t("update:modelValue",o)}});return(o,i)=>(ie(),ge("div",wA,[Wn(N("input",{class:"form-check-input",type:"checkbox",role:"switch","onUpdate:modelValue":i[0]||(i[0]=s=>r.value=s)},null,512),[[Vl,r.value]])]))}}),EA=["id","value"],xA=Se({__name:"RadioInput",props:{options:{},modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=le({get(){return n.modelValue},set(s){t("update:modelValue",s)}});function o(s){return n.options[s][2]?{color:n.options[s][2]}:{color:"var(--color-fg)"}}function i(s){let a=s.target;for(;a&&!a.value&&a.parentElement;)a=a.parentElement;a.value&&(r.value=a.value)}return(s,a)=>(ie(),ge("div",null,[(ie(!0),ge(Oe,null,mt(s.options,(u,c)=>(ie(),ge("button",{class:ze(["btn btn-outline-secondary radiobutton me-2 mb-2 px-2",u[1]==r.value?"active":""]),id:"radio-"+u[1],value:u[1],style:Ye(o(c)),onClick:i},[N("span",{style:Ye(o(c))},[u[3]?(ie(),ge("i",{key:0,class:ze(["fa-solid",u[3]])},null,2)):be("",!0),je(" "+Ee(u[0]),1)],4)],14,EA))),256))]))}});const Er=Fe(xA,[["__scopeId","data-v-397877ff"]]),SA=Se({__name:"ThemeSettings",emits:["resetArcs"],setup(e,{emit:t}){const n=[["Dunkel","dark"],["Hell","light"],["Blau","blue"]],r=[["3 kW","0"],["3,1 kW","1"],["3,14 kW","2"],["3,141 kW","3"],["3141 W","4"]],o=[["Orange","normal"],["Grün/Violett","standard"],["Bunt","advanced"]];return(i,s)=>(ie(),ge(Oe,null,[ae(Ie,{title:"Farbschema",icon:"fa-adjust",infotext:"Hintergrundfarbe"},{default:ve(()=>[ae(Er,{options:n,modelValue:se(fe).displayMode,"onUpdate:modelValue":s[0]||(s[0]=a=>se(fe).displayMode=a)},null,8,["modelValue"])]),_:1}),ae(Ie,{title:"Grafik: Raster",icon:"fa-th",infotext:"Verwende ein Hintergrundraster in den Grafiken"},{default:ve(()=>[ae(qt,{modelValue:se(fe).showGrid,"onUpdate:modelValue":s[1]||(s[1]=a=>se(fe).showGrid=a)},null,8,["modelValue"])]),_:1}),ae(Ie,{title:"Variable Bogenlänge",icon:"fa-chart-area",infotext:"Im Graph 'Aktuelle Leistung' können die Bögen immer die volle Länge haben, oder entsprechend des aktuellen Gesamtleistung verkürzt dargestellt werden."},{default:ve(()=>[ae(qt,{modelValue:se(fe).showRelativeArcs,"onUpdate:modelValue":s[2]||(s[2]=a=>se(fe).showRelativeArcs=a)},null,8,["modelValue"])]),_:1}),se(fe).showRelativeArcs?(ie(),Ae(Ie,{key:0,title:"Bögen zurücksetzen",icon:"fa-undo",infotext:"Durch Click auf den Button wird die Maximallänge der Bögen auf den aktuellen Wert gesetzt."},{default:ve(()=>[se(fe).showRelativeArcs?(ie(),ge("button",{key:0,class:"btn btn-secondary",onClick:s[3]||(s[3]=a=>t("resetArcs"))}," Reset ")):be("",!0)]),_:1})):be("",!0),ae(Ie,{title:"Anzahl Dezimalstellen",icon:"fa-sliders-h",infotext:"Alle kW- und kWh-Werte werden mit der gewählten Anzahl an Stellen angezeigt."},{default:ve(()=>[ae(xc,{options:r,modelValue:se(fe).decimalPlaces,"onUpdate:modelValue":s[4]||(s[4]=a=>se(fe).decimalPlaces=a)},null,8,["modelValue"])]),_:1}),ae(Ie,{title:"Farbschema Smart-Home-Geräte",icon:"fa-palette",infotext:"Für die Smart-Home-Geräte stehen mehrere Schemata zur Verfügung."},{default:ve(()=>[ae(Er,{options:o,modelValue:se(fe).smartHomeColors,"onUpdate:modelValue":s[5]||(s[5]=a=>se(fe).smartHomeColors=a)},null,8,["modelValue"])]),_:1}),ae(Ie,{title:"Kompakte Ladepunktliste",icon:"fa-list",infotext:"Zeige eine einzelne Ladepunktliste statt separater Element pro Ladepunkt."},{default:ve(()=>[ae(qt,{modelValue:se(fe).simpleCpList,"onUpdate:modelValue":s[6]||(s[6]=a=>se(fe).simpleCpList=a)},null,8,["modelValue"])]),_:1}),ae(Ie,{title:"Filter-Buttons",icon:"fa-filter",infotext:"Hauptseite mit Buttons zur Auswahl der Kategorie."},{default:ve(()=>[ae(qt,{modelValue:se(fe).showQuickAccess,"onUpdate:modelValue":s[7]||(s[7]=a=>se(fe).showQuickAccess=a)},null,8,["modelValue"])]),_:1}),ae(Ie,{title:"Animationen",icon:"fa-film",infotext:"Animationen anzeigen"},{default:ve(()=>[ae(qt,{modelValue:se(fe).showAnimations,"onUpdate:modelValue":s[8]||(s[8]=a=>se(fe).showAnimations=a)},null,8,["modelValue"])]),_:1})],64))}}),TA=N("button",{class:"btn btn-outline-secondary btn-sm","data-bs-toggle":"modal","data-bs-target":"#themeconfig"},[N("span",{class:"fa-solid fa-bars px-0"})],-1),CA={id:"powermeter",class:"p-0 m-0"},AA=["viewBox"],kA=["transform"],IA=["x"],nn=500,Ft=20,Lf=1,MA=Se({__name:"PowerMeter",setup(e){const t=Math.PI/40,n=le(()=>nn),r=le(()=>nn/2-Ft),o=le(()=>bn(Ve.house.power+Ve.charging.power+Ve.devices.power+Ve.batIn.power,fe.decimalPlaces)),i=le(()=>{let l=Ue.pv.power+Ue.evuIn.power+Ue.batOut.power;return fe.maxPower>l?bn(fe.maxPower,fe.decimalPlaces):bn(l,fe.decimalPlaces)}),s=le(()=>Object.values(ke)),a=le(()=>{let l=0;return fe.showRelativeArcs&&(l=fe.maxPower-(Ue.pv.power+Ue.evuIn.power+Ue.batOut.power)),l<0?0:l});function u(){let l=Ue.pv.power+Ue.evuIn.power+Ue.batOut.power;fe.maxPower=l}function c(l){return s.value[l].soc}return(l,h)=>(ie(),Ae(zn,null,{title:ve(()=>[je("Aktuelle Leistung")]),buttons:ve(()=>[TA]),default:ve(()=>[N("figure",CA,[(ie(),ge("svg",{viewBox:"0 0 "+nn+" "+n.value},[N("g",{transform:"translate("+nn/2+","+n.value/2+")"},[ae(D1,{radius:r.value,cornerRadius:Lf,circleGapSize:t,emptyPower:a.value},null,8,["radius","emptyPower"]),ae(F1,{usageSummary:se(Ve),shDevice:se(xr),radius:r.value,cornerRadius:Lf,circleGapSize:t,emptyPower:a.value},null,8,["usageSummary","shDevice","radius","emptyPower"]),ae(Ot,{x:0,y:-n.value/2*3/5,data:se(Ue).pv,props:se(Vt).pv,anchor:"middle",config:se(fe)},null,8,["y","data","props","config"]),ae(Ot,{x:0,y:-n.value/2*2/5,data:se(Ue).evuIn,props:se(Vt).evuIn,anchor:"middle",config:se(fe)},null,8,["y","data","props","config"]),ae(Ot,{x:nn/2-Ft/4,y:n.value/2-Ft+15,data:se(Ue).batOut,props:se(Vt).batOut,anchor:"end",config:se(fe)},null,8,["x","y","data","props","config"]),ae(Ot,{x:0,y:-n.value/2*2/5,data:se(Ve).evuOut,props:se(Vt).evuOut,anchor:"middle",config:se(fe)},null,8,["y","data","props","config"]),ae(Ot,{x:0,y:n.value/2*1/5,data:se(Ve).charging,props:se(Vt).charging,anchor:"middle",config:se(fe)},null,8,["y","data","props","config"]),ae(Ot,{x:0,y:n.value/2*3/5,data:se(Ve).devices,props:se(Vt).devices,anchor:"middle",config:se(fe)},null,8,["y","data","props","config"]),ae(Ot,{x:nn/2-Ft/4,y:n.value/2-Ft+15,data:se(Ve).batIn,props:se(Vt).batIn,anchor:"end",config:se(fe)},null,8,["x","y","data","props","config"]),ae(Ot,{x:0,y:n.value/2*2/5,data:se(Ve).house,props:se(Vt).house,anchor:"middle",config:se(fe)},null,8,["y","data","props","config"]),s.value.length>0&&s.value[0].isSocConfigured?(ie(),Ae(Ot,{key:0,x:-nn/2-Ft/4+10,y:-n.value/2+Ft+5,labeltext:s.value[0].name+": "+c(0)+"%",labelcolor:s.value[0].color,anchor:"start",config:se(fe)},null,8,["x","y","labeltext","labelcolor","config"])):be("",!0),s.value.length>1&&s.value[1].isSocConfigured?(ie(),Ae(Ot,{key:1,x:nn/2+Ft/4-10,y:-n.value/2+Ft+5,labeltext:s.value[1].name+": "+c(1)+"%",labelcolor:s.value[1].color,anchor:"end",config:se(fe)},null,8,["x","y","labeltext","labelcolor","config"])):be("",!0),se(rt).batterySoc>0?(ie(),Ae(Ot,{key:2,x:-nn/2-Ft/4+10,y:n.value/2-Ft+15,labeltext:"Speicher: "+se(rt).batterySoc+"%",labelcolor:se(Ve).batIn.color,anchor:"start",config:se(fe)},null,8,["x","y","labeltext","labelcolor","config"])):be("",!0),ae(Ot,{x:0,y:0,labeltext:"Aktueller Verbrauch: "+o.value,labelcolor:"var(--color-fg)",anchor:"middle",config:se(fe)},null,8,["labeltext","config"]),se(fe).showRelativeArcs?(ie(),ge("text",{key:3,x:nn/2-44,y:"2","text-anchor":"middle",fill:"var(--color-axis)","font-size":"12"}," Peak: "+Ee(i.value),9,IA)):be("",!0)],8,kA)],8,AA))]),ae(mi,{"modal-id":"themeconfig"},{title:ve(()=>[je("Look & Feel")]),default:ve(()=>[ae(SA,{onResetArcs:u})]),_:1})]),_:1}))}}),PA=["origin","transform"],OA=Se({__name:"PGSourceGraph",props:{width:{},height:{},margin:{}},setup(e){const t=e,n={housePower:"var(--color-house)",batIn:"var(--color-battery)",inverter:"var(--color-pv)",batOut:"var(--color-battery)",selfUsage:"var(--color-pv)",gridPush:"var(--color-export)",gridPull:"var(--color-evu)"};var r;const o=le(()=>{if(Le.data.length>0){const E=Ct("g#pgSourceGraph");Le.graphMode=="month"?b(E):p(E);const v=E.append("g").attr("class","axis");return v.call(f.value),v.selectAll(".tick").attr("font-size",12),v.selectAll(".tick line").attr("stroke",m.value).attr("stroke-width",d.value),v.select(".domain").attr("stroke","var(--color-bg)"),"pgSourceGraph.vue"}}),i=le(()=>Le.graphMode=="month"?["gridPull","batOut","selfUsage","gridPush"]:["selfUsage","gridPush","batOut","gridPull"]),s=le(()=>Tn().domain([0,Le.data.length-1]).range([0,t.width])),a=le(()=>{let E=pr(Le.data,g=>g.date);(E[0]==null||E[1]==null)&&(E=[0,0]),console.log(E);const v=E[0];return Jl().domain(Array.from({length:E[1]-E[0]+1},(g,x)=>x+v)).range([0,t.width-t.margin.right]).paddingInner(.4)}),u=le(()=>Vd().keys(i.value)),c=le(()=>u.value(Le.data)),l=le(()=>Tn().range([t.height-10,0]).domain([0,Math.ceil(h.value[1])])),h=le(()=>{let E=pr(Le.data,v=>Math.max(v.solarPower+v.gridPull+v.batOut,v.selfUsage+v.gridPush));return E[0]!=null&&E[1]!=null?E:[0,0]}),f=le(()=>Bs(l.value).tickSizeInner(-t.width).ticks(4).tickFormat(E=>(E==0?"":Math.round(E*10)/10).toLocaleString(void 0))),d=le(()=>fe.showGrid?"0.5":"1"),m=le(()=>fe.showGrid?"var(--color-grid)":"var(--color-bg)");function p(E){const v=Br().x((I,B)=>s.value(B)).y(l.value(0)),g=Br().x((I,B)=>s.value(B)).y0(I=>l.value(I[0])).y1(I=>l.value(I[1])),x=fe.showAnimations?300:0,A=fe.showAnimations?100:0;vs?(E.selectAll("*").remove(),r=E.selectAll(".sourceareas").data(c.value).enter().append("path").attr("fill",(I,B)=>n[i.value[B]]).attr("d",I=>v(I)),r.transition().duration(x).delay(A).ease(_n).attr("d",I=>g(I)),Qu()):r.data(c.value).transition().duration(0).ease(_n).attr("d",I=>g(I))}function b(E){console.info("draw month graph"),Br().x((A,I)=>s.value(I)).y(l.value(0));const v=Br().x((A,I)=>s.value(I)).y0(A=>l.value(A[0])).y1(A=>l.value(A[1])),g=fe.showAnimations?300:0,x=fe.showAnimations?100:0;vs?(E.selectAll("*").remove(),console.log(c.value),console.info(a.value.bandwidth()),E.selectAll(".sourcebar").data(c.value).enter().append("g").attr("fill",(A,I)=>n[i.value[I]]).selectAll("rect").data(A=>A).enter().append("rect").attr("x",(A,I)=>a.value(A.data.date)??0).attr("y",A=>l.value(A[1])).attr("height",A=>l.value(A[0])-l.value(A[1])).attr("width",a.value.bandwidth()),r.transition().duration(g).delay(x).ease(_n).attr("d",A=>v(A)),Qu()):r.data(c.value).transition().duration(0).ease(_n).attr("d",A=>v(A))}return(E,v)=>(ie(),ge("g",{id:"pgSourceGraph",origin:o.value,transform:"translate("+E.margin.left+","+E.margin.top+")"},null,8,PA))}}),LA=["origin","transform"],$A=Se({__name:"PGUsageGraph",props:{width:{},height:{},margin:{},stackOrder:{}},setup(e){const t=e,n=[["cp0","cp1","cp2","cp3","cp4","cp5","cp6","cp7","cp8","cp9","housePower","batIn","inverter"],["housePower","cp0","cp1","cp2","cp3","cp4","cp5","cp6","cp7","batIn","inverter"],["housePower","cp0","cp1","cp2","cp3","cp4","cp5","cp6","cp7","batIn","inverter"]],r={housePower:"var(--color-house)",batIn:"var(--color-battery)",inverter:"var(--color-pv)",batOut:"var(--color-battery)",selfUsage:"var(--color-pv)",gridPush:"var(--color-export)",gridPull:"var(--color-evu)",cp0:"var(--color-cp0)",cp1:"var(--color-cp1)",cp2:"var(--color-cp2)",cp3:"var(--color-cp3)"};var o;const i=le(()=>{if(Le.data.length>0){const c=Ct("g#pgUsageGraph"),h=Vd().keys(n[t.stackOrder])(Le.data),f=Tn().domain([0,Le.data.length-1]).range([0,t.width]),d=Br().x((b,E)=>f(E)).y(s.value(0)),m=Br().x((b,E)=>f(E)).y0(b=>s.value(b[0])).y1(b=>s.value(b[1]));fe.showAnimations?Ys?(c.selectAll("*").remove(),o=c.selectAll(".usageareas").data(h).enter().append("path").attr("d",b=>d(b)).attr("fill",(b,E)=>r[n[t.stackOrder][E]]),o.transition().duration(300).delay(100).ease(_n).attr("d",b=>m(b)),S1()):o.data(h).transition().duration(100).ease(_n).attr("d",b=>m(b)):(c.selectAll("*").remove(),c.selectAll(".usageareas").data(h).enter().append("path").attr("d",b=>m(b)).attr("fill",(b,E)=>r[n[t.stackOrder][E]]));const p=c.append("g").attr("class","axis");return p.call(u.value),p.selectAll(".tick").attr("font-size",12).attr("color","var(--color-axis)"),fe.showGrid?p.selectAll(".tick line").attr("stroke","var(--color-grid)").attr("stroke-width","0.5"):p.selectAll(".tick line").attr("stroke","var(--color-bg)"),p.select(".domain").attr("stroke","var(--color-bg)"),"pgUsageGraph.vue"}}),s=le(()=>Tn().range([t.height+10,2*t.height]).domain([0,Math.ceil(a.value[1])])),a=le(()=>{let c=pr(Le.data,l=>l.housePower+l.cp1+l.cp2+l.cp3+l.batIn+l.inverter);return c[0]!=null&&c[1]!=null?c:[0,0]}),u=le(()=>Bs(s.value).tickSizeInner(-t.width).ticks(4).tickFormat(c=>(c==0?"":Math.round(c*10)/10).toLocaleString(void 0)));return(c,l)=>(ie(),ge("g",{id:"pgUsageGraph",origin:i.value,transform:"translate("+c.margin.left+","+c.margin.top+")"},null,8,LA))}}),RA=["transform"],NA=["origin","transform"],DA=["origin","transform"],BA={key:0},FA=["width","height"],UA={key:1},VA=["y","width","height"],Pa=12,jA=Se({__name:"PGXAxis",props:{width:{},height:{},margin:{}},setup(e){const t=e,n=le(()=>Uh(i.value).ticks(4).tickSizeInner(r.value).tickFormat(qs("%H:%M"))),r=le(()=>fe.showGrid?-(t.height/2-7):-10),o=le(()=>{const u=-(t.height/2-10);return lv(i.value).ticks(4).tickSizeInner(u).tickFormat(c=>"")}),i=le(()=>{let u=pr(Le.data,c=>c.date);return u[0]&&u[1]?Xi().domain(u).range([0,t.width]):Xi().range([0,0])}),s=le(()=>{let u=Ct("g#PGXAxis");return u.selectAll("*").remove(),u.call(n.value),u.selectAll(".tick").attr("color","var(--color-axis)").attr("font-size",Pa),fe.showGrid?u.selectAll(".tick line").attr("stroke","var(--color-grid)").attr("stroke-width","0.5"):u.selectAll(".tick line").attr("stroke","var(--color-bg)"),u.select(".domain").attr("stroke","var(--color-bg)"),u.append("text").attr("x",-t.margin.left).attr("y",12).attr("fill","var(--color-axis)").attr("font-size",Pa).text("kW").attr("text-anchor","start"),"PGXAxis.vue"}),a=le(()=>{let u=Ct("g#PGXAxis2");return u.selectAll("*").remove(),fe.showGrid&&(u.call(o.value),u.selectAll(".tick").attr("color","var(--color-axis)").attr("font-size",Pa),u.selectAll(".tick line").attr("stroke","var(--color-grid)").attr("stroke-width","0.5"),u.select(".domain").attr("stroke","var(--color-bg)")),"PGXAxis.vue"});return(u,c)=>(ie(),ge("g",{transform:"translate("+u.margin.left+","+u.margin.top+")"},[N("g",{id:"PGXAxis",class:"axis",origin:s.value,transform:"translate(0,"+(u.height/2-6)+")"},null,8,NA),N("g",{id:"PGXAxis2",class:"axis",origin:a.value,transform:"translate(0,"+(u.height/2+10)+")"},null,8,DA),se(fe).showGrid?(ie(),ge("g",BA,[N("rect",{x:"0",y:"0",width:u.width,height:u.height/2-10,fill:"none",stroke:"var(--color-grid)","stroke-width":"0.5"},null,8,FA)])):be("",!0),se(fe).showGrid?(ie(),ge("g",UA,[N("rect",{x:"0",y:u.height/2+10,width:u.width,height:u.height/2-10,fill:"none",stroke:"var(--color-grid)","stroke-width":"0.5"},null,8,VA)])):be("",!0)],8,RA))}}),HA=N("span",{class:"fa-solid fa-sort px-0"},null,-1),WA=[HA],zA=N("span",{class:"fa-solid fa-chevron-circle-left px-0"},null,-1),qA=[zA],KA=N("span",{class:"fa-solid fa-chevron-circle-right px-0"},null,-1),YA=[KA],GA=Se({__name:"PGMenu",props:{showLeftButton:{type:Boolean},showRightButton:{type:Boolean}},setup(e){return(t,n)=>(ie(),ge("div",null,[N("button",{class:"btn btn-outline-secondary btn-sm",id:"graphChangeButton",onClick:n[0]||(n[0]=r=>t.$emit("changeStackOrder"))},WA),N("button",{class:ze(["btn btn-outline-secondary btn-sm",{disabled:!t.showLeftButton}]),id:"graphLeftButton",onClick:n[1]||(n[1]=r=>t.$emit("shiftLeft"))},qA,2),N("button",{class:ze(["btn btn-outline-secondary btn-sm",{disabled:!t.showRightButton}]),id:"graphRightButton",onClick:n[2]||(n[2]=r=>t.$emit("shiftRight"))},YA,2)]))}}),QA=["d"],XA=["d","stroke"],JA=["x","y","text-anchor"],$f=Se({__name:"PgSoc",props:{width:{},height:{},margin:{},cpId:{}},setup(e){const t=e,n=le(()=>Object.values(ke)),r=le(()=>{let h=pr(Le.data,f=>f.date);return h[0]&&h[1]?Xi().domain(h).range([0,t.width]):Xi().range([0,0])}),o=le(()=>Tn().range([t.height-10,0]).domain([0,100])),i=le(()=>{let f=nc().x(d=>r.value(d.date)).y(d=>o.value(d["soc"+t.cpId])!=null?o.value(d["soc"+t.cpId]):0)(Le.data);return f||""}),s=le(()=>n.value[t.cpId-1]?n.value[t.cpId-1].name:""),a=le(()=>n.value[t.cpId-1]?n.value[t.cpId-1].color:""),u=le(()=>t.cpId==1?t.width-3:3),c=le(()=>Le.data.length>0?t.cpId==1?o.value(Le.data[Le.data.length-1]["soc"+t.cpId]+2):o.value(Le.data[0]["soc"+t.cpId]+2):0),l=le(()=>t.cpId==1?"end":"start");return(h,f)=>(ie(),ge(Oe,null,[N("path",{class:"soc-baseline",d:i.value,stroke:"var(--color-bg)","stroke-width":"1",fill:"none"},null,8,QA),N("path",{class:"soc-dashes",d:i.value,stroke:a.value,"stroke-width":"1",style:{strokeDasharray:"3,3"},fill:"none"},null,8,XA),N("text",{class:"cpname",x:u.value,y:c.value,style:Ye({fill:a.value,fontSize:10}),"text-anchor":l.value},Ee(s.value),13,JA)],64))}}),ZA=["transform"],ek=Se({__name:"PgSocAxis",props:{width:{},height:{},margin:{}},setup(e){const t=e,n=le(()=>Tn().range([t.height-10,0]).domain([0,100])),r=le(()=>cv(n.value).ticks(5).tickFormat(i=>i.toString()+"%"));function o(){let i=Ct("g#PGSocAxis");i.call(r.value),i.selectAll(".tick").attr("font-size",12),i.selectAll(".tick line").attr("stroke","var(--color-bg)"),i.select(".domain").attr("stroke","var(--color-bg)")}return fi(()=>{o()}),(i,s)=>(ie(),ge("g",{id:"PGSocAxis",class:"axis",transform:"translate("+(i.width-20)+",0)"},null,8,ZA))}}),tk={id:"powergraph",class:"p-0 m-0"},nk=["viewBox"],rk=["transform"],Zn=500,er=500,ik=2,ok=Se({__name:"PowerGraph",setup(e){const t={top:10,right:20,bottom:10,left:25},n=$t(0),r=le(()=>{let i="Leistung / Ladestand ";switch(Le.graphMode){case"live":if(Le.data.length){const s=Le.data[0].date,a=Le.data[Le.data.length-1].date,u=Math.round((a-s)/6e4);i=i+u+" min"}else console.warn("Graph Data empty.");break;case"today":i=i+"heute";break;case"day":Xe.date,i=i+Xe.date.getDate()+"."+(Xe.date.getMonth()+1)}return i});function o(){n.value=n.value+1,n.value>ik&&(n.value=0),T1(!0)}return(i,s)=>(ie(),Ae(zn,null,{title:ve(()=>[je(Ee(r.value),1)]),buttons:ve(()=>[ae(GA,{onChangeStackOrder:o,onShiftLeft:se(jd),onShiftRight:se(Hd),"show-left-button":se(fe).showLeftButton,"show-right-button":se(fe).showRightButton},null,8,["onShiftLeft","onShiftRight","show-left-button","show-right-button"])]),default:ve(()=>[N("figure",tk,[(ie(),ge("svg",{viewBox:"0 0 "+Zn+" "+er},[ae(OA,{width:Zn-t.left-2*t.right,height:(er-t.top-t.bottom)/2,margin:t},null,8,["width","height"]),ae($A,{width:Zn-t.left-2*t.right,height:(er-t.top-t.bottom)/2,margin:t,"stack-order":n.value},null,8,["width","height","stack-order"]),ae(jA,{width:Zn-t.left-2*t.right,height:er-t.top-t.bottom,margin:t,graphData:se(Le)},null,8,["width","height","graphData"]),N("g",{transform:"translate("+t.left+","+t.top+")"},[se(Le).graphMode=="day"||se(Le).graphMode=="today"?(ie(),Ae($f,{key:0,width:Zn-t.left-2*t.right,height:(er-t.top-t.bottom)/2,margin:t,"cp-id":1},null,8,["width","height"])):be("",!0),se(Le).graphMode=="day"||se(Le).graphMode=="today"?(ie(),Ae($f,{key:1,width:Zn-t.left-2*t.right,height:(er-t.top-t.bottom)/2,margin:t,"cp-id":2},null,8,["width","height"])):be("",!0),se(Le).graphMode=="day"||se(Le).graphMode=="today"?(ie(),Ae(ek,{key:2,width:Zn-t.left-t.right,height:(er-t.top-t.bottom)/2,margin:t},null,8,["width","height"])):be("",!0)],8,rk)],8,nk))])]),_:1}))}}),sk=N("span",{class:"fa fa-calendar-alt px-0"},null,-1),ak=[sk],lk=N("span",{class:"fa fa-chevron-circle-left px-0"},null,-1),ck=[lk],uk=N("span",{class:"fa fa-chevron-circle-right px-0"},null,-1),fk=[uk],hk=Se({__name:"EMMenu",props:{showLeftButton:{type:Boolean},showRightButton:{type:Boolean}},setup(e){return(t,n)=>(ie(),ge("div",null,[N("button",{class:"btn btn-outline-secondary btn-sm",id:"calendarButton",onClick:n[0]||(n[0]=r=>t.$emit("toggleMonthlyView"))},ak),N("button",{class:ze(["btn btn-outline-secondary btn-sm",{disabled:!t.showLeftButton}]),id:"energyLeftButton",onClick:n[1]||(n[1]=r=>t.$emit("shiftLeft"))},ck,2),N("button",{class:ze(["btn btn-outline-secondary btn-sm",{disabled:!t.showRightButton}]),id:"energyRightButton",onClick:n[2]||(n[2]=r=>t.$emit("shiftRight"))},fk,2)]))}}),dk=["origin"],pk=Se({__name:"EMBarGraph",props:{plotdata:{},xScale:{},yScale:{},margin:{},height:{}},setup(e){const t=e;var n,r,o,i,s;const a=le(()=>{if(t.plotdata.length>0){const f=Ct("g#emBargraph");yr&&f.selectAll("*").remove(),yr&&fe.showAnimations?(i=300,s=100):(i=0,s=0);const d=f.selectAll(".bar").data(t.plotdata).enter().append("g");n=u(d),c(),l(d),h(),k1()}return"emBargraph.vue"});function u(f){return f.append("rect").attr("class","bar").attr("x",d=>t.xScale(d.name)).attr("y",d=>t.yScale(0)).attr("width",t.xScale.bandwidth()).attr("fill",d=>d.color).attr("height",0)}function c(){n.transition().duration(i).delay(s).ease(_n).attr("fill",f=>f.color).attr("height",f=>t.height-t.yScale(f.energy)-t.margin.top-t.margin.bottom).attr("y",f=>t.yScale(f.energy))}function l(f){r=f.append("rect").attr("class","bar").attr("x",d=>t.xScale(d.name)+t.xScale.bandwidth()/6).attr("y",t.yScale(0)).attr("width",t.xScale.bandwidth()*2/3).attr("height",0).attr("fill","var(--color-pv)").attr("fill-opacity","66%"),o=f.append("rect").attr("class","bar").attr("x",d=>t.xScale(d.name)+t.xScale.bandwidth()/6).attr("y",t.yScale(0)).attr("width",t.xScale.bandwidth()*2/3).attr("height",0).attr("fill","var(--color-pv)").attr("fill-opacity","66%")}function h(){r.transition().duration(i).delay(s).ease(_n).attr("height",f=>f.energyPv>0?t.height-t.yScale(f.energyPv)-t.margin.top-t.margin.bottom:0).attr("y",f=>t.yScale(f.energyPv)),o.transition().duration(i).delay(s).ease(_n).attr("height",f=>f.energyBat>0?t.height-t.yScale(f.energyBat)-t.margin.top-t.margin.bottom:0).attr("y",f=>t.yScale(f.energyBat))}return(f,d)=>(ie(),ge("g",{id:"emBargraph",origin:a.value},null,8,dk))}}),gk=["origin"],mk=Se({__name:"EMYAxis",props:{yScale:{},width:{},fontsize:{}},setup(e){const t=e,n=le(()=>Bs(t.yScale).tickFormat(o=>o>0?o.toString():"").ticks(6).tickSizeInner(-t.width)),r=le(()=>{const o=Ct("g#emYAxis");return o.attr("class","axis").call(n.value),o.append("text").attr("y",6).attr("dy","0.71em").attr("text-anchor","end").text("energy"),o.selectAll(".tick").attr("font-size",t.fontsize),fe.showGrid?o.selectAll(".tick line").attr("stroke","var(--color-grid)").attr("stroke-width","0.5"):o.selectAll(".tick line").attr("stroke","var(--color-bg)"),o.select(".domain").attr("stroke","var(--color-bg)"),"emYAxis.vue"});return(o,i)=>(ie(),ge("g",{id:"emYAxis",class:"axis",origin:r.value},null,8,gk))}}),_k=["origin"],vk=Se({__name:"EMLabels",props:{plotdata:{},xScale:{},yScale:{},height:{},margin:{}},setup(e){const t=e,n=le(()=>{const a=Ct("g#emLabels");a.selectAll("*").remove();const u=a.selectAll(".label").data(t.plotdata).enter().append("g");return u.append("text").attr("x",c=>t.xScale(c.name)+t.xScale.bandwidth()/2).attr("y",c=>c.pvPercentage>0?t.yScale(c.energy)-25:t.yScale(c.energy)-10).attr("font-size",r.value).attr("text-anchor","middle").attr("fill",c=>c.color).text(c=>Zi(c.energy*1e3,fe.decimalPlaces)),u.append("text").attr("x",c=>t.xScale(c.name)+t.xScale.bandwidth()/2).attr("y",c=>t.yScale(c.energy)-10).attr("font-size",r.value-2).attr("text-anchor","middle").attr("fill",c=>"var(--color-pv)").text(c=>s(c)),u.append("text").attr("x",c=>t.xScale(c.name)+t.xScale.bandwidth()/2).attr("y",t.height-t.margin.bottom-5).attr("font-size",r.value).attr("text-anchor","middle").attr("fill",c=>c.color).text(c=>i(c.name,c.icon)).classed("fas",c=>c.icon.length<=2),"emLabels.vue"}),r=le(()=>{let a=16,u=t.plotdata.length;return u<=5?a=16:u==6?a=14:u>6&&u<=8?a=13:u==9?a=11:u==10?a=10:a=9,a}),o=le(()=>{let a=12,u=t.plotdata.length;return u<=5?a=12:u==6?a=11:u>6&&u<=8||u==9?a=8:u==10?a=7:a=6,a});function i(a,u){return u.length>o.value?u.substring(0,o.value)+".":u}function s(a){return a.pvPercentage>0?"(PV: "+a.pvPercentage.toLocaleString(void 0)+" %)":""}return(a,u)=>(ie(),ge("g",{id:"emLabels",origin:n.value},null,8,_k))}}),yk={id:"energymeter",class:"p-0 m-0"},bk={viewBox:"0 0 500 500"},wk=["transform"],Ek=["x"],Rf=500,Oa=500,Nf=12,xk=Se({__name:"EnergyMeter",props:{usageDetails:{}},setup(e){const t=e,n={top:25,bottom:30,left:25,right:0},r=le(()=>(Object.values(Ue),t.usageDetails,Object.values(Ke),I1(!0),o()));function o(u,c,l){let h=[];switch(Le.graphMode){default:case"live":h=Object.values(Ue).concat(t.usageDetails).filter(f=>f.energy>0);break;case"today":h=Object.values(Ue).concat(t.usageDetails).filter(f=>f.energy>0);break;case"day":h=Object.values(Ke).filter(f=>f.energy>0);break;case"month":}return h}const i=le(()=>Jl().range([0,Rf-n.left-n.right]).domain(r.value.map(u=>u.name)).padding(.4)),s=le(()=>Tn().range([Oa-n.bottom-n.top,0]).domain([0,ev(r.value,u=>u.energy)])),a=le(()=>{let u="Energie ";switch(Le.graphMode){case"live":case"today":u=u+" heute";break;case"day":u=u+Xe.date.getDate()+"."+(Xe.date.getMonth()+1)+".";break}return u});return(u,c)=>(ie(),Ae(zn,null,{title:ve(()=>[je(Ee(a.value),1)]),buttons:ve(()=>[ae(hk,{onShiftLeft:se(jd),onShiftRight:se(Hd),onToggleMonthlyView:se(R1),"show-left-button":se(fe).showLeftButton,"show-right-button":se(fe).showRightButton},null,8,["onShiftLeft","onShiftRight","onToggleMonthlyView","show-left-button","show-right-button"])]),default:ve(()=>[N("figure",yk,[(ie(),ge("svg",bk,[N("g",{transform:"translate("+n.left+","+n.top+")"},[ae(pk,{plotdata:r.value,xScale:i.value,yScale:s.value,height:Oa,margin:n},null,8,["plotdata","xScale","yScale"]),ae(mk,{yScale:s.value,width:Rf,fontsize:Nf,config:se(fe)},null,8,["yScale","config"]),N("text",{x:-n.left,y:"-15",fill:"var(--color-axis)","font-size":Nf}," kWh ",8,Ek),ae(vk,{plotdata:r.value,xScale:i.value,yScale:s.value,height:Oa,margin:n,config:se(fe)},null,8,["plotdata","xScale","yScale","config"])],8,wk)]))])]),_:1}))}}),zp=e=>(ut("data-v-4c7992a2"),e=e(),ft(),e),Sk={class:"d-flex flex-fill justify-content-between"},Tk=zp(()=>N("i",{class:"fa fa-xl fa-minus-square me-2"},null,-1)),Ck=[Tk],Ak=["id","min","max","step"],kk=zp(()=>N("i",{class:"fa fa-xl fa-plus-square ms-2"},null,-1)),Ik=[kk],Mk={class:"d-flex justify-content-between align-items-start"},Pk={class:"minlabel ps-4"},Ok={class:"valuelabel"},Lk={class:"maxlabel pe-4"},$k=Se({__name:"RangeInput",props:{id:{},min:{},max:{},step:{},unit:{},modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=le({get(){return n.modelValue},set(s){t("update:modelValue",s)}});function o(){r.value>n.min&&(r.value=r.value-n.step)}function i(){r.value<n.max&&(r.value=r.value+n.step)}return(s,a)=>(ie(),ge(Oe,null,[N("span",Sk,[N("span",{class:"minusButton",onClick:o},Ck),Wn(N("input",{type:"range",class:"form-range flex-fill",id:s.id,min:s.min,max:s.max,step:s.step,"onUpdate:modelValue":a[0]||(a[0]=u=>r.value=u)},null,8,Ak),[[Ns,r.value,void 0,{number:!0}]]),N("span",{class:"plusButton",onClick:i},Ik)]),N("span",Mk,[N("span",Pk,Ee(s.min),1),N("span",Ok,Ee(r.value)+" "+Ee(s.unit),1),N("span",Lk,Ee(s.max),1)])],64))}});const yn=Fe($k,[["__scopeId","data-v-4c7992a2"]]),Rk=e=>(ut("data-v-b9316fc9"),e=e(),ft(),e),Nk={class:"mt-2"},Dk=Rk(()=>N("p",{class:"heading ms-1"}," Sofortladen: ",-1)),Bk={key:0},Fk=Se({__name:"CPConfigInstant",props:{chargepoint:{}},setup(e){const n=$t(e.chargepoint),r=[{name:"keine",id:"none"},{name:"EV-SoC",id:"soc"},{name:"Energiemenge",id:"amount"}];return(o,i)=>(ie(),ge("div",Nk,[Dk,ae(Ie,{title:"Stromstärke",icon:"fa-bolt"},{default:ve(()=>[ae(yn,{id:"targetCurrent",min:6,max:32,step:1,unit:"A",modelValue:n.value.instantTargetCurrent,"onUpdate:modelValue":i[0]||(i[0]=s=>n.value.instantTargetCurrent=s)},null,8,["modelValue"])]),_:1}),n.value.instantChargeLimitMode!="none"?(ie(),ge("hr",Bk)):be("",!0),ae(Ie,{title:"Begrenzung",icon:"fa-hand"},{default:ve(()=>[ae(Er,{options:r.map(s=>[s.name,s.id]),modelValue:n.value.instantChargeLimitMode,"onUpdate:modelValue":i[1]||(i[1]=s=>n.value.instantChargeLimitMode=s)},null,8,["options","modelValue"])]),_:1}),n.value.instantChargeLimitMode=="soc"?(ie(),Ae(Ie,{key:1,title:"Maximaler SoC",icon:"fa-sliders"},{default:ve(()=>[ae(yn,{id:"maxSoc",min:0,max:100,step:1,unit:"%",modelValue:n.value.instantTargetSoc,"onUpdate:modelValue":i[2]||(i[2]=s=>n.value.instantTargetSoc=s)},null,8,["modelValue"])]),_:1})):be("",!0),n.value.instantChargeLimitMode=="amount"?(ie(),Ae(Ie,{key:2,title:"Zu ladende Energie",icon:"fa-sliders"},{default:ve(()=>[ae(yn,{id:"maxEnergy",min:0,max:100,step:1,unit:"kWh",modelValue:n.value.instantMaxEnergy,"onUpdate:modelValue":i[3]||(i[3]=s=>n.value.instantMaxEnergy=s)},null,8,["modelValue"])]),_:1})):be("",!0)]))}});const Uk=Fe(Fk,[["__scopeId","data-v-b9316fc9"]]),qp=e=>(ut("data-v-beb485ee"),e=e(),ft(),e),Vk={class:"pt-2"},jk=qp(()=>N("p",{class:"heading ms-1"}," PV-Laden: ",-1)),Hk={class:"form-check form-switch"},Wk=qp(()=>N("hr",null,null,-1)),zk={key:2},qk=Se({__name:"CPConfigPv",props:{chargepoint:{}},setup(e){const n=$t(e.chargepoint);le(()=>(console.log(n.value),n.value.chargeTemplate));const r=le({get(){return n.value.pvMinCurrent>5},set(i){i?n.value.pvMinCurrent=6:n.value.pvMinCurrent=0}}),o=le({get(){return n.value.pvMinSoc>0},set(i){i?n.value.pvMinSoc=50:n.value.pvMinSoc=0}});return(i,s)=>(ie(),ge("div",Vk,[jk,ae(Ie,{title:"Maximaler Ladestand",icon:"fa-battery-three-quarters"},{default:ve(()=>[ae(yn,{id:"maxSoc",min:0,max:100,step:1,unit:"%",modelValue:n.value.pvMaxSoc,"onUpdate:modelValue":s[0]||(s[0]=a=>n.value.pvMaxSoc=a)},null,8,["modelValue"])]),_:1}),ae(Ie,{title:"Einspeisegrenze beachten",icon:"fa-hand"},{default:ve(()=>[N("div",Hk,[Wn(N("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"feedInLimitSwitch","onUpdate:modelValue":s[1]||(s[1]=a=>n.value.pvFeedInLimit=a)},null,512),[[Vl,n.value.pvFeedInLimit]])])]),_:1}),Wk,ae(Ie,{title:"Min-SoC-Laden",icon:"fa-battery-half",infotext:se($n).minsoc},{default:ve(()=>[ae(qt,{modelValue:o.value,"onUpdate:modelValue":s[2]||(s[2]=a=>o.value=a)},null,8,["modelValue"])]),_:1},8,["infotext"]),o.value?(ie(),Ae(Ie,{key:0,title:"...bis SoC"},{info:ve(()=>[je(Ee(se($n).minsoc),1)]),default:ve(()=>[ae(yn,{id:"minSoc",min:0,max:100,step:1,unit:"%",modelValue:n.value.pvMinSoc,"onUpdate:modelValue":s[3]||(s[3]=a=>n.value.pvMinSoc=a)},null,8,["modelValue"])]),_:1})):be("",!0),o.value?(ie(),Ae(Ie,{key:1,title:"...mit Ladestrom"},{default:ve(()=>[ae(yn,{id:"minSocCurrent",min:6,max:32,step:1,unit:"A",modelValue:n.value.pvMinSocCurrent,"onUpdate:modelValue":s[4]||(s[4]=a=>n.value.pvMinSocCurrent=a)},null,8,["modelValue"])]),_:1})):be("",!0),r.value||o.value?(ie(),ge("hr",zk)):be("",!0),ae(Ie,{title:"Min+PV-Laden",icon:"fa-bolt",infotext:se($n).minpv},{default:ve(()=>[ae(qt,{modelValue:r.value,"onUpdate:modelValue":s[5]||(s[5]=a=>r.value=a)},null,8,["modelValue"])]),_:1},8,["infotext"]),r.value?(ie(),Ae(Ie,{key:3,title:"...bei Ladestrom (minimal)"},{default:ve(()=>[ae(yn,{id:"minCurrent",min:6,max:32,step:1,unit:"A",modelValue:n.value.pvMinCurrent,"onUpdate:modelValue":s[6]||(s[6]=a=>n.value.pvMinCurrent=a)},null,8,["modelValue"])]),_:1})):be("",!0)]))}});const Kk=Fe(qk,[["__scopeId","data-v-beb485ee"]]),Yk=["value","onUpdate:modelValue","id"],Gk=["for"],Qk=Se({__name:"CheckBoxInput",props:{options:{},modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=le({get(){return n.modelValue},set(i){t("update:modelValue",i)}});function o(i){return r.value[i]?{color:"var(--color-pv)"}:{color:"var(--color-menu)"}}return(i,s)=>(ie(!0),ge(Oe,null,mt(i.options,(a,u)=>(ie(),ge("div",null,[Wn(N("input",{class:"form-check-input",type:"checkbox",value:a,"onUpdate:modelValue":c=>r.value[u]=c,id:"check"+u},null,8,Yk),[[Vl,r.value[u]]]),N("label",{class:"form-check-label px-2",for:"check"+u,style:Ye(o(u))},Ee(i.options[u]),13,Gk)]))),256))}});const Kp=Fe(Qk,[["__scopeId","data-v-068988b4"]]),Xk=Se({__name:"TimeInput",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=le({get(){return n.modelValue},set(o){t("update:modelValue",o)}});return(o,i)=>Wn((ie(),ge("input",{type:"time",class:"form-control",name:"t","onUpdate:modelValue":i[0]||(i[0]=s=>r.value=s)},null,512)),[[Ns,r.value]])}});const yl=Fe(Xk,[["__scopeId","data-v-0c76c8a9"]]),Jk=Se({__name:"DateInput",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=le({get(){return n.modelValue},set(o){t("update:modelValue",o)}});return(o,i)=>Wn((ie(),ge("input",{type:"date",class:"form-control",name:"d","onUpdate:modelValue":i[0]||(i[0]=s=>r.value=s)},null,512)),[[Ns,r.value]])}});const xs=Fe(Jk,[["__scopeId","data-v-674fb2d9"]]),Zk={class:"container-fluid p-0 m-0"},eI={class:"row mt-2"},tI={class:"col d-flex justify-content-end"},nI=Se({__name:"CPEditSchedule",props:{chargeTemplateId:{},planId:{}},emits:["deletePlan","abort","savePlan"],setup(e,{emit:t}){const n=e,r=[["Einmalig","once"],["Täglich","daily"],["Wöchentlich","weekly"]],o=["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],i=le(()=>an[n.chargeTemplateId]),s=le(()=>{let a=i.value.chargemode.scheduled_charging.plans[n.planId];return a||Nh()});return(a,u)=>(ie(),ge("div",Zk,[ae(Ie,{title:"Ladestand"},{default:ve(()=>[ae(yn,{id:"soc",min:0,max:100,step:1,unit:"%",modelValue:s.value.soc,"onUpdate:modelValue":u[0]||(u[0]=c=>s.value.soc=c)},null,8,["modelValue"])]),_:1}),ae(Ie,{title:"Zielzeit beachten"},{default:ve(()=>[ae(qt,{modelValue:s.value.timed,"onUpdate:modelValue":u[1]||(u[1]=c=>s.value.timed=c)},null,8,["modelValue"])]),_:1}),ae(Ie,{title:"Uhrzeit"},{default:ve(()=>[ae(yl,{modelValue:s.value.time,"onUpdate:modelValue":u[2]||(u[2]=c=>s.value.time=c)},null,8,["modelValue"])]),_:1}),ae(Ie,{title:"Wiederholungen"},{default:ve(()=>[ae(xc,{options:r,modelValue:s.value.frequency.selected,"onUpdate:modelValue":u[3]||(u[3]=c=>s.value.frequency.selected=c)},null,8,["modelValue"])]),_:1}),s.value.frequency.selected=="once"?(ie(),Ae(Ie,{key:0,title:"Gültig ab"},{default:ve(()=>[ae(xs,{modelValue:s.value.frequency.once[0],"onUpdate:modelValue":u[4]||(u[4]=c=>s.value.frequency.once[0]=c)},null,8,["modelValue"])]),_:1})):be("",!0),s.value.frequency.selected=="once"?(ie(),Ae(Ie,{key:1,title:"Gültig bis"},{default:ve(()=>[ae(xs,{modelValue:s.value.frequency.once[1],"onUpdate:modelValue":u[5]||(u[5]=c=>s.value.frequency.once[1]=c)},null,8,["modelValue"])]),_:1})):be("",!0),s.value.frequency.selected=="weekly"?(ie(),Ae(Ie,{key:2,title:"Wochentage"},{default:ve(()=>[ae(Kp,{options:o,modelValue:s.value.frequency.weekly,"onUpdate:modelValue":u[6]||(u[6]=c=>s.value.frequency.weekly=c)},null,8,["modelValue"])]),_:1})):be("",!0),N("div",eI,[N("div",tI,[N("button",{class:"btn btn-danger",onClick:u[7]||(u[7]=c=>a.$emit("deletePlan",a.planId)),"data-bs-dismiss":"modal"}," Löschen "),N("button",{class:"btn btn-warning ms-1",onClick:u[8]||(u[8]=c=>a.$emit("abort")),"data-bs-dismiss":"modal"}," Abbrechen "),N("button",{class:"btn btn-success float-end ms-1",onClick:u[9]||(u[9]=c=>a.$emit("savePlan",a.planId)),"data-bs-dismiss":"modal"}," Speichern ")])])]))}});const rI=Fe(nI,[["__scopeId","data-v-3e958af8"]]),kr=e=>(ut("data-v-dfcec784"),e=e(),ft(),e),iI=kr(()=>N("p",{class:"heading ms-1 pt-2"},"Zielladen:",-1)),oI={class:"table table-borderless"},sI=kr(()=>N("thead",null,[N("tr",null,[N("th",{class:"tableheader"},"Ziel-SoC"),N("th",{class:"tableheader"},"Zeit"),N("th",{class:"tableheader"},"Wiederholung"),N("th",{class:"tableheader"})])],-1)),aI={class:"tablecell"},lI={class:"tablecell"},cI={class:"tablecell"},uI={class:"tablecell left"},fI=["data-bs-target","onClick"],hI=kr(()=>N("i",{class:"fas fa-lg fa-pen ms-2"},null,-1)),dI=[hI],pI=kr(()=>N("td",{class:"emptycell"},null,-1)),gI=kr(()=>N("td",{class:"emptycell"},null,-1)),mI=kr(()=>N("td",{class:"emptycell"},null,-1)),_I={class:"right"},vI=["data-bs-target"],yI=kr(()=>N("i",{class:"fa-solid fa-xl fa-square-plus ms-2"},null,-1)),bI=[yI],wI=Se({__name:"CPConfigScheduled",props:{chargeTemplate:{},chargeTemplateId:{}},setup(e){const t=e,n={daily:"Täglich",once:"Einmal",weekly:"Wöchentlich"},r="schedulesettingmodal"+t.chargeTemplateId,o=qe(["0"]),i=le(()=>{let m=t.chargeTemplate.chargemode.scheduled_charging.plans;return m||{}});function s(m){return i.value[m].timed?i.value[m].time:"-"}function a(m){o[0]=m}function u(m){Dh(t.chargeTemplateId)}function c(m){u()}function l(){console.log("abort edit")}function h(m){delete t.chargeTemplate.chargemode.scheduled_charging.plans[m],u()}function f(){let m=Nh();t.chargeTemplate.chargemode.scheduled_charging.plans||(t.chargeTemplate.chargemode.scheduled_charging.plans={});let p=0;Object.keys(i.value).forEach(b=>{+b>p&&(p=+b)}),p=p+1,t.chargeTemplate.chargemode.scheduled_charging.plans[p.toString()]=m,a(p.toString()),console.log(i.value),d()}function d(){let m=document.getElementById(r);m?new dn(m).show():console.log("NO MODAL ELEMENT")}return(m,p)=>(ie(),ge(Oe,null,[iI,N("table",oI,[sI,N("tbody",null,[(ie(!0),ge(Oe,null,mt(Object.keys(i.value),b=>(ie(),ge("tr",null,[N("td",aI,Ee(i.value[b].soc)+" %",1),N("td",lI,Ee(s(b)),1),N("td",cI,Ee(n[i.value[b].frequency.selected]),1),N("td",uI,[N("span",{class:"editButton","data-bs-toggle":"modal","data-bs-target":"#"+r,onClick:E=>a(b)},dI,8,fI)])]))),256)),N("tr",null,[pI,gI,mI,N("td",_I,[N("span",{class:"addButton",onClick:f,"data-bs-target":"#"+r},bI,8,vI)])])])]),(ie(!0),ge(Oe,null,mt(o,b=>(ie(),Ae(mi,{modalId:r},{title:ve(()=>[je(" Zielladen - Parameter ")]),default:ve(()=>[ae(rI,{chargeTemplateId:m.chargeTemplateId,planId:b,onSavePlan:c,onDeletePlan:h,onAbort:l},null,8,["chargeTemplateId","planId"])]),_:2},1024))),256))],64))}});const EI=Fe(wI,[["__scopeId","data-v-dfcec784"]]),xI={class:"container-fluid p-0 m-0"},SI={class:"row"},TI={class:"col d-flex justify-content-end"},CI=Se({__name:"CPEditTimeplan",props:{chargeTemplateId:{},planId:{}},emits:["deletePlan","abort","savePlan"],setup(e,{emit:t}){const n=e,r=[["Einmalig","once"],["Täglich","daily"],["Wöchentlich","weekly"]],o=["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],i=le(()=>an[n.chargeTemplateId]),s=le(()=>{let a=i.value.time_charging.plans[n.planId];return a||Rh()});return(a,u)=>(ie(),ge("div",xI,[ae(Ie,{title:"Beginn"},{default:ve(()=>[ae(yl,{modelValue:s.value.time[0],"onUpdate:modelValue":u[0]||(u[0]=c=>s.value.time[0]=c)},null,8,["modelValue"])]),_:1}),ae(Ie,{title:"Ende"},{default:ve(()=>[ae(yl,{modelValue:s.value.time[1],"onUpdate:modelValue":u[1]||(u[1]=c=>s.value.time[1]=c)},null,8,["modelValue"])]),_:1}),ae(Ie,{title:"Ladestrom"},{default:ve(()=>[ae(yn,{id:"current",min:6,max:32,step:1,unit:"A",modelValue:s.value.current,"onUpdate:modelValue":u[2]||(u[2]=c=>s.value.current=c)},null,8,["modelValue"])]),_:1}),ae(Ie,{title:"Wiederholungen"},{default:ve(()=>[ae(xc,{options:r,modelValue:s.value.frequency.selected,"onUpdate:modelValue":u[3]||(u[3]=c=>s.value.frequency.selected=c)},null,8,["modelValue"])]),_:1}),s.value.frequency.selected=="once"?(ie(),Ae(Ie,{key:0,title:"Gültig ab"},{default:ve(()=>[ae(xs,{modelValue:s.value.frequency.once[0],"onUpdate:modelValue":u[4]||(u[4]=c=>s.value.frequency.once[0]=c)},null,8,["modelValue"])]),_:1})):be("",!0),s.value.frequency.selected=="once"?(ie(),Ae(Ie,{key:1,title:"Gültig bis"},{default:ve(()=>[ae(xs,{modelValue:s.value.frequency.once[1],"onUpdate:modelValue":u[5]||(u[5]=c=>s.value.frequency.once[1]=c)},null,8,["modelValue"])]),_:1})):be("",!0),s.value.frequency.selected=="weekly"?(ie(),Ae(Ie,{key:2,title:"Wochentage"},{default:ve(()=>[ae(Kp,{options:o,modelValue:s.value.frequency.weekly,"onUpdate:modelValue":u[6]||(u[6]=c=>s.value.frequency.weekly=c)},null,8,["modelValue"])]),_:1})):be("",!0),N("div",SI,[N("div",TI,[N("button",{class:"btn btn-danger",onClick:u[7]||(u[7]=c=>a.$emit("deletePlan",a.planId)),"data-bs-dismiss":"modal"}," Löschen "),N("button",{class:"btn btn-warning ms-1",onClick:u[8]||(u[8]=c=>a.$emit("abort")),"data-bs-dismiss":"modal"}," Abbrechen "),N("button",{class:"btn btn-success float-end ms-1",onClick:u[9]||(u[9]=c=>a.$emit("savePlan",a.planId)),"data-bs-dismiss":"modal"}," Speichern ")])])]))}});const AI=Fe(CI,[["__scopeId","data-v-fba45b30"]]),Gn=e=>(ut("data-v-4ea917cb"),e=e(),ft(),e),kI=Gn(()=>N("p",{class:"heading ms-1 pt-2"},"Zeitpläne:",-1)),II={class:"table table-borderless"},MI=Gn(()=>N("thead",null,[N("tr",null,[N("th",{class:"tableheader"},"Von"),N("th",{class:"tableheader"},"Bis"),N("th",{class:"tableheader"},"Ladestrom"),N("th",{class:"tableheader"},"Wiederholung"),N("th",{class:"tableheader right"})])],-1)),PI={class:"tablecell"},OI={class:"tablecell"},LI={class:"tablecell"},$I={class:"tablecell"},RI={class:"tablecell left"},NI=["data-bs-target","onClick"],DI=Gn(()=>N("i",{class:"fas fa-lg fa-pen ms-2"},null,-1)),BI=[DI],FI=Gn(()=>N("td",{class:"emptycell"},null,-1)),UI=Gn(()=>N("td",{class:"emptycell"},null,-1)),VI=Gn(()=>N("td",{class:"emptycell"},null,-1)),jI=Gn(()=>N("td",{class:"emptycell"},null,-1)),HI={class:"tablecell right"},WI=["data-bs-target"],zI=Gn(()=>N("i",{class:"fa-solid fa-xl fa-square-plus ms-2"},null,-1)),qI=[zI],KI=Se({__name:"CPConfigTimed",props:{chargeTemplate:{},chargeTemplateId:{}},setup(e){const t=e,n={daily:"Täglich",once:"Einmal",weekly:"Wöchentlich"},r="timesettingmodal"+t.chargeTemplateId,o=qe(["0"]);function i(d){o[0]=d}function s(d){Dh(t.chargeTemplateId)}function a(d){s()}function u(){console.log("abort edit")}function c(d){delete t.chargeTemplate.time_charging.plans[d],s()}function l(){let d=Rh();t.chargeTemplate.time_charging.plans||(t.chargeTemplate.time_charging.plans={});let m=0;Object.keys(f.value).forEach(p=>{+p>m&&(m=+p)}),m=m+1,t.chargeTemplate.time_charging.plans[m.toString()]=d,i(m.toString()),h()}function h(){let d=document.getElementById(r);d?new dn(d).show():console.log("NO MODAL ELEMENT")}const f=le(()=>{let d=t.chargeTemplate.time_charging.plans;return d||{}});return(d,m)=>(ie(),ge(Oe,null,[kI,N("table",II,[MI,N("tbody",null,[(ie(!0),ge(Oe,null,mt(Object.keys(f.value),p=>(ie(),ge("tr",null,[N("td",PI,Ee(f.value[p].time[0]),1),N("td",OI,Ee(f.value[p].time[1]),1),N("td",LI,Ee(f.value[p].current)+" A",1),N("td",$I,Ee(n[f.value[p].frequency.selected]),1),N("td",RI,[N("span",{class:"editButton","data-bs-toggle":"modal","data-bs-target":"#"+r,onClick:b=>i(p)},BI,8,NI)])]))),256)),N("tr",null,[FI,UI,VI,jI,N("td",HI,[N("span",{class:"addButton",onClick:l,"data-bs-target":"#"+r},qI,8,WI)])])])]),(ie(!0),ge(Oe,null,mt(o,p=>(ie(),Ae(mi,{modalId:r},{title:ve(()=>[je(" Zeitplan bearbeiten ")]),default:ve(()=>[ae(AI,{chargeTemplateId:d.chargeTemplateId,planId:p,onSavePlan:a,onDeletePlan:c,onAbort:u},null,8,["chargeTemplateId","planId"])]),_:2},1024))),256))],64))}});const YI=Fe(KI,[["__scopeId","data-v-4ea917cb"]]),GI={class:"settingsheader mt-2 ms-1"},QI=Se({__name:"CPConfigVehicle",props:{vehicleId:{}},setup(e){return(t,n)=>(ie(),ge(Oe,null,[N("p",GI," Profile für "+Ee(se(Et)[t.vehicleId].name)+": ",1),ae(Ie,{title:"Ladeprofil",icon:"fa-sliders"},{default:ve(()=>[ae(Er,{options:Object.keys(se(an)).map(r=>[se(an)[+r].name,r]),modelValue:se(Et)[t.vehicleId].chargeTemplateId,"onUpdate:modelValue":n[0]||(n[0]=r=>se(Et)[t.vehicleId].chargeTemplateId=r),modelModifiers:{number:!0}},null,8,["options","modelValue"])]),_:1}),ae(Ie,{title:"Fahrzeug-Vorlage",icon:"fa-sliders",class:"mb-2"},{default:ve(()=>[ae(Er,{options:Object.keys(se(Ga)).map(r=>[se(Ga)[+r].name,r]),modelValue:se(Et)[t.vehicleId].evTemplateId,"onUpdate:modelValue":n[1]||(n[1]=r=>se(Et)[t.vehicleId].evTemplateId=r),modelModifiers:{number:!0}},null,8,["options","modelValue"])]),_:1})],64))}});const XI=Fe(QI,[["__scopeId","data-v-4668cf18"]]),Sc=e=>(ut("data-v-0e6a76bc"),e=e(),ft(),e),JI=Sc(()=>N("p",{class:"settingsheader mt-2 ms-1"},"Ladepunkt:",-1)),ZI=Sc(()=>N("hr",{class:"my-0"},null,-1)),eM=Sc(()=>N("hr",{class:"my-0 py-0"},null,-1)),tM=Se({__name:"CPChargeConfig",props:{chargepoint:{}},emits:["closeConfig"],setup(e,{emit:t}){const r=e.chargepoint;return(o,i)=>(ie(),ge(Oe,null,[JI,ae(Ie,{title:"Lademodus",icon:"fa-charging-station",infotext:se($n).chargemode},{default:ve(()=>[ae(Er,{options:Object.keys(se(dt)).map(s=>[se(dt)[s].name,s,se(dt)[s].color,se(dt)[s].icon]),modelValue:se(r).chargeMode,"onUpdate:modelValue":i[0]||(i[0]=s=>se(r).chargeMode=s)},null,8,["options","modelValue"])]),_:1},8,["infotext"]),ZI,ae(Ie,{title:"Fahrzeug",icon:"fa-car",infotext:se($n).vehicle},{default:ve(()=>[ae(Er,{options:Object.values(se(Et)).map(s=>[s.name,s.id]),modelValue:se(r).connectedVehicle,"onUpdate:modelValue":i[1]||(i[1]=s=>se(r).connectedVehicle=s),modelModifiers:{number:!0}},null,8,["options","modelValue"])]),_:1},8,["infotext"]),eM,ae(Ie,{title:"Sperren",icon:"fa-lock",infotext:se($n).locked},{default:ve(()=>[ae(qt,{modelValue:se(r).isLocked,"onUpdate:modelValue":i[2]||(i[2]=s=>se(r).isLocked=s)},null,8,["modelValue"])]),_:1},8,["infotext"]),ae(Ie,{title:"Priorität",icon:"fa-star",infotext:se($n).priority},{default:ve(()=>[ae(qt,{modelValue:se(r).hasPriority,"onUpdate:modelValue":i[3]||(i[3]=s=>se(r).hasPriority=s)},null,8,["modelValue"])]),_:1},8,["infotext"]),ae(Ie,{title:"Zeitplan",icon:"fa-clock",infotext:se($n).timeplan},{default:ve(()=>[ae(qt,{modelValue:se(r).scheduledCharging,"onUpdate:modelValue":i[4]||(i[4]=s=>se(r).scheduledCharging=s)},null,8,["modelValue"])]),_:1},8,["infotext"])],64))}});const nM=Fe(tM,[["__scopeId","data-v-0e6a76bc"]]),_i=e=>(ut("data-v-d42f3726"),e=e(),ft(),e),rM={class:"m-0 mt-0"},iM={class:"status-string"},oM={style:{color:"red"}},sM={class:"m-0 mt-4 p-0"},aM={class:"nav nav-tabs nav-justified mx-1 mt-1",role:"tablist"},lM=["data-bs-target"],cM=_i(()=>N("i",{class:"fa-solid fa-charging-station"},null,-1)),uM=[cM],fM=["data-bs-target"],hM=_i(()=>N("i",{class:"fa-solid fa-lg fa-bolt"},null,-1)),dM=[hM],pM=["data-bs-target"],gM=_i(()=>N("i",{class:"fa-solid fa-solar-panel me-1"},null,-1)),mM=[gM],_M=["data-bs-target"],vM=_i(()=>N("i",{class:"fa-solid fa-bullseye me-1"},null,-1)),yM=[vM],bM=["data-bs-target"],wM=_i(()=>N("i",{class:"fa-solid fa-clock"},null,-1)),EM=[wM],xM=["data-bs-target"],SM=_i(()=>N("i",{class:"fa-solid fa-rectangle-list"},null,-1)),TM=[SM],CM={class:"shadow tab-content mx-1 p-1 pb-3",id:"settingsPanes"},AM=["id"],kM=["id"],IM=["id"],MM=["id"],PM=["id"],OM=["id"],LM=Se({__name:"CPChargeConfigPanel",props:{chargepoint:{}},emits:["closeConfig"],setup(e,{emit:t}){const r=e.chargepoint,o=le(()=>an[r.chargeTemplate]),i=le(()=>r.id);return fi(()=>{}),(s,a)=>(ie(),ge(Oe,null,[N("div",rM,[ae(Ie,{title:"Status",icon:"fa-info-circle"},{default:ve(()=>[N("span",iM,Ee(se(r).stateStr),1)]),_:1})]),se(r).faultState!=0?(ie(),Ae(Ie,{key:0,title:"Fehler"},{default:ve(()=>[N("span",oM,Ee(se(r).faultStr),1)]),_:1})):be("",!0),N("div",sM,[N("nav",aM,[N("a",{class:"nav-link active","data-bs-toggle":"tab","data-bs-target":"#chargeSettings"+i.value},uM,8,lM),s.chargepoint.chargeMode=="instant_charging"?(ie(),ge("a",{key:0,class:"nav-link","data-bs-toggle":"tab","data-bs-target":"#instantSettings"+i.value},dM,8,fM)):be("",!0),s.chargepoint.chargeMode=="pv_charging"?(ie(),ge("a",{key:1,class:"nav-link","data-bs-toggle":"tab","data-bs-target":"#pvSettings"+i.value},mM,8,pM)):be("",!0),s.chargepoint.chargeMode=="scheduled_charging"?(ie(),ge("a",{key:2,class:"nav-link","data-bs-toggle":"tab","data-bs-target":"#scheduledSettings"+i.value},yM,8,_M)):be("",!0),s.chargepoint.scheduledCharging?(ie(),ge("a",{key:3,class:"nav-link","data-bs-toggle":"tab","data-bs-target":"#timeSettings"+i.value},EM,8,bM)):be("",!0),N("a",{class:"nav-link","data-bs-toggle":"tab","data-bs-target":"#carSettings"+i.value},TM,8,xM)]),N("div",CM,[N("div",{class:"tab-pane active",id:"chargeSettings"+i.value,role:"tabpanel","aria-labelledby":"instant-tab"},[ae(nM,{chargepoint:s.chargepoint},null,8,["chargepoint"])],8,AM),N("div",{class:"tab-pane",id:"instantSettings"+i.value,role:"tabpanel","aria-labelledby":"instant-tab"},[ae(Uk,{chargepoint:se(r),vehicles:se(Et),chargeTemplates:se(an)},null,8,["chargepoint","vehicles","chargeTemplates"])],8,kM),N("div",{class:"tab-pane",id:"pvSettings"+i.value,role:"tabpanel","aria-labelledby":"pv-tab"},[ae(Kk,{chargepoint:se(r),vehicles:se(Et),chargeTemplates:se(an)},null,8,["chargepoint","vehicles","chargeTemplates"])],8,IM),N("div",{class:"tab-pane",id:"scheduledSettings"+i.value,role:"tabpanel","aria-labelledby":"scheduled-tab"},[o.value!=null?(ie(),Ae(EI,{key:0,chargeTemplate:o.value,chargeTemplateId:se(r).chargeTemplate},null,8,["chargeTemplate","chargeTemplateId"])):be("",!0)],8,MM),N("div",{class:"tab-pane",id:"timeSettings"+i.value,role:"tabpanel","aria-labelledby":"time-tab"},[o.value!=null?(ie(),Ae(YI,{key:0,chargeTemplate:o.value,chargeTemplateId:se(r).chargeTemplate},null,8,["chargeTemplate","chargeTemplateId"])):be("",!0)],8,PM),N("div",{class:"tab-pane",id:"carSettings"+i.value,role:"tabpanel","aria-labelledby":"car-tab"},[se(Et)[se(r).connectedVehicle]!=null?(ie(),Ae(XI,{key:0,vehicleId:se(r).connectedVehicle},null,8,["vehicleId"])):be("",!0)],8,OM)])])],64))}});const Tc=Fe(LM,[["__scopeId","data-v-d42f3726"]]),$M=Se({__name:"BatterySymbol",props:{soc:{}},setup(e){const t=e,n=le(()=>t.soc<=10?"fa-battery-empty":t.soc<50?"fa-battery-quarter":t.soc<75?"fa-battery-half":t.soc<95?"fa-battery-three-quarters":"fa-battery-full");return(r,o)=>(ie(),ge("span",null,[N("i",{class:ze(["fa batIcon",n.value])},null,2),je(" "+Ee(r.soc+"%"),1)]))}});const Cc=Fe($M,[["__scopeId","data-v-631125cc"]]),RM=Se({__name:"FormatWattH",props:{wattH:{}},setup(e){const t=e,n=le(()=>Zi(t.wattH,fe.decimalPlaces));return(r,o)=>(ie(),ge("span",null,Ee(n.value),1))}}),Ac=e=>(ut("data-v-b78e49ef"),e=e(),ft(),e),NM=["data-bs-target"],DM=["data-bs-target"],BM=Ac(()=>N("span",{class:"fa-solid fa-sm ps-1 fa-sliders"},null,-1)),FM={class:"row m-0 p-1 mt-1"},UM={class:"col m-0 p-0 d-flex justify-content-between"},VM=["data-bs-target"],jM=Ac(()=>N("i",{class:"fa-solid fa-sm fa-car"},null,-1)),HM={class:"ps-2 pe-1 vehicleName"},WM={key:0,class:"fa-solid fa-xs fa-star ps-1"},zM={key:1,class:"fa-solid fa-xs fa-clock ps-1"},qM={class:"tablecell p-0 m-0",style:{"text-align":"right","vertical-align":"middle"}},KM=["data-bs-target"],YM={class:"col tablecell m-0 mb-1 p-0 d-flex justify-content-between"},GM={class:"d-flex align-items-baseline"},QM={key:0,class:"mx-1"},XM={class:"d-flex align-items-center"},JM={class:"badge phasesInUse rounded-pill"},ZM=Ac(()=>N("span",{class:"energylabel me-2"},"Geladen:",-1)),eP=Se({__name:"CPChargePoint",props:{chargepoint:{}},setup(e){const t=e;$t(!1);const n=le(()=>t.chargepoint.current+" A"),r=le(()=>t.chargepoint.phasesInUse),o=le(()=>t.chargepoint.dailyYield>0&&t.chargepoint.averageConsumption?" / "+(Math.round(t.chargepoint.dailyYield/t.chargepoint.averageConsumption*100)+" km"):""),i=le(()=>t.chargepoint.isLocked?"Gesperrt":t.chargepoint.isCharging?"Lädt":t.chargepoint.isPluggedIn?"Bereit":"Frei"),s=le(()=>t.chargepoint.isLocked?"var(--color-evu)":t.chargepoint.isCharging?"var(--color-charging)":t.chargepoint.isPluggedIn?"var(--color-battery)":"var(--color-axis)"),a=le(()=>{let d="";return t.chargepoint.isLocked?d="fa-lock":t.chargepoint.isCharging?d=" fa-bolt":t.chargepoint.isPluggedIn&&(d="fa-plug"),"fa "+d}),u=le(()=>{switch(t.chargepoint.chargeMode){case"stop":return{color:"var(--fg)"};default:return{color:dt[t.chargepoint.chargeMode].color}}}),c=le(()=>dt[t.chargepoint.chargeMode].name),l=le(()=>dt[t.chargepoint.chargeMode].icon),h=le(()=>t.chargepoint.soc),f=le(()=>({color:t.chargepoint.color}));return(d,m)=>(ie(),Ae(zn,null,{title:ve(()=>[N("span",{style:Ye(f.value),"data-bs-toggle":"modal","data-bs-target":"#cpconfig-"+d.chargepoint.id},Ee(t.chargepoint.name),13,NM)]),buttons:ve(()=>[N("span",{class:"ms-2 pt-1",style:Ye(u.value),"data-bs-toggle":"modal","data-bs-target":"#cpconfig-"+d.chargepoint.id},[N("i",{class:ze(["fa me-1",l.value])},null,2),je(" "+Ee(c.value)+" ",1),BM],12,DM)]),default:ve(()=>[N("div",FM,[N("div",UM,[N("p",{class:"tablecell carinfo p-0 m-0",style:Ye({color:d.chargepoint.color}),"data-bs-toggle":"modal","data-bs-target":"#cpconfig-"+d.chargepoint.id},[jM,N("span",HM,Ee(d.chargepoint.vehicleName),1),d.chargepoint.hasPriority?(ie(),ge("span",WM)):be("",!0),d.chargepoint.scheduledCharging?(ie(),ge("span",zM)):be("",!0)],12,VM),N("p",qM,[d.chargepoint.isSocConfigured?(ie(),Ae(Cc,{key:0,soc:h.value,class:"me-1"},null,8,["soc"])):be("",!0),d.chargepoint.isSocManual?(ie(),ge("i",{key:1,class:"fa-solid fa-sm fas fa-edit",style:Ye({color:"var(--color-menu)"})},null,4)):be("",!0),d.chargepoint.isSocManual?be("",!0):(ie(),ge("i",{key:2,class:"fa-solid fa-sm fa-sync",style:Ye({color:"var(--color-menu)"})},null,4))])])]),N("div",{class:"row m-1 mt-2 p-0","data-bs-toggle":"modal","data-bs-target":"#cpconfig-"+d.chargepoint.id},[N("div",YM,[N("span",GM,[N("span",{class:"me-2",style:Ye({color:s.value})},[N("i",{class:ze(a.value)},null,2),je(" "+Ee(i.value),1)],4),d.chargepoint.isCharging&&!d.chargepoint.isLocked?(ie(),ge("span",QM,[N("span",XM,[ae(Wd,{watt:d.chargepoint.power},null,8,["watt"]),N("span",JM,Ee(r.value),1),je(" "+Ee(n.value),1)])])):be("",!0)]),N("span",null,[ZM,N("span",null,[ae(RM,{wattH:d.chargepoint.dailyYield*1e3},null,8,["wattH"]),je(" "+Ee(o.value),1)])])])],8,KM),ae(mi,{"modal-id":"cpconfig-"+d.chargepoint.id},{title:ve(()=>[je("Konfiguration: "+Ee(d.chargepoint.name),1)]),default:ve(()=>[d.chargepoint!=null?(ie(),Ae(Tc,{key:0,chargepoint:d.chargepoint},null,8,["chargepoint"])):be("",!0)]),_:1},8,["modal-id"])]),_:1}))}});const tP=Fe(eP,[["__scopeId","data-v-b78e49ef"]]),nP={class:"tablerow"},rP={class:"d-flex flex-wrap"},iP={key:0,class:"fa-solid fa-xs fa-star"},oP={key:1,class:"fa-solid fa-xs fa-clock"},sP={class:"tablecell left"},aP={class:"d-flex flex-column"},lP={key:0,class:"flex-wrap"},cP=["data-bs-target"],uP={class:"d-flex flex-column"},fP={class:"d-flex align-items-center flex-wrap"},hP={class:"d-flex align-items-center me-1"},dP={class:"badge phasesInUse rounded-pill"},pP=["data-bs-target"],gP={class:"d-flex flex-column"},mP={class:"me-2"},_P={class:"buttoncell right"},vP=["data-bs-target"],yP={key:0},bP={colspan:"5",class:"px-0"},wP=Se({__name:"CPSListItem",props:{chargepoint:{}},setup(e){const t=e,n=$t(!1),r=le(()=>dt[t.chargepoint.chargeMode].icon),o=le(()=>{let p="";return t.chargepoint.isLocked?p="fa-lock":t.chargepoint.isCharging?p=" fa-bolt":t.chargepoint.isPluggedIn&&(p="fa-plug"),"fa "+p}),i=le(()=>{let p={color:"var(--color-axis)"};return t.chargepoint.isLocked?p.color="var(--color-evu)":t.chargepoint.isCharging?p.color="var(--color-charging)":t.chargepoint.isPluggedIn&&(p.color="var(--color-battery)"),p}),s=le(()=>{switch(t.chargepoint.chargeMode){case"stop":return{color:"var(--fg)"};default:return{color:dt[t.chargepoint.chargeMode].color}}}),a=le(()=>bn(t.chargepoint.power,fe.decimalPlaces)),u=le(()=>t.chargepoint.current+" A"),c=le(()=>t.chargepoint.phasesInUse),l=le(()=>t.chargepoint.dailyYield>0?Zi(t.chargepoint.dailyYield,fe.decimalPlaces):"0 Wh"),h=le(()=>t.chargepoint.averageConsumption>0&&t.chargepoint.dailyYield>0?"("+Math.round(t.chargepoint.dailyYield/t.chargepoint.averageConsumption/10).toString()+" km)":""),f=le(()=>dt[t.chargepoint.chargeMode].name);function d(){return{color:t.chargepoint.color}}function m(){n.value=!n.value}return(p,b)=>(ie(),ge(Oe,null,[N("tr",nP,[N("td",{class:"tablecell left",onClick:m},[N("div",rP,[N("span",null,[N("i",{class:ze([o.value,"me-1"]),style:Ye(i.value)},null,6),N("span",{class:"me-1",style:Ye(d())},Ee(p.chargepoint.name),5)]),N("span",null,[p.chargepoint.hasPriority?(ie(),ge("i",iP)):be("",!0),p.chargepoint.scheduledCharging?(ie(),ge("i",oP)):be("",!0)])])]),N("td",sP,[N("div",aP,[N("span",null,Ee(p.chargepoint.vehicleName),1),p.chargepoint.isSocConfigured?(ie(),ge("span",lP,[ae(Cc,{class:"me-1",soc:p.chargepoint.soc},null,8,["soc"]),p.chargepoint.isSocManual?(ie(),ge("i",{key:0,class:"fa-solid fa-sm fas fa-edit me-2",style:Ye({color:"var(--color-menu)"})},null,4)):be("",!0),p.chargepoint.isSocManual?be("",!0):(ie(),ge("i",{key:1,class:"fa-solid fa-sm fa-sync me-2",style:Ye({color:"var(--color-menu)"})},null,4))])):be("",!0)])]),N("td",{class:"tablecell left","data-bs-toggle":"modal","data-bs-target":"#cpsconfig-"+p.chargepoint.id},[N("div",uP,[N("span",fP,[N("span",null,Ee(a.value),1),N("span",hP,[N("span",dP,Ee(c.value),1),N("span",null,Ee(u.value),1)])]),N("span",{style:Ye(s.value)},[N("i",{class:ze(["fa me-1",r.value])},null,2),je(" "+Ee(f.value),1)],4)])],8,cP),N("td",{class:"tablecell left","data-bs-toggle":"modal","data-bs-target":"#cpsconfig-"+p.chargepoint.id},[N("div",gP,[N("span",mP,Ee(l.value),1),N("span",null,Ee(h.value),1)])],8,pP),N("td",_P,[N("span",{class:"fa-solid fa-lg fa-edit ps-1 tableicon","data-bs-toggle":"modal","data-bs-target":"#cpsconfig-"+p.chargepoint.id},null,8,vP)])]),n.value?(ie(),ge("tr",yP,[N("td",bP,[n.value?(ie(),Ae(Tc,{key:0,chargepoint:p.chargepoint,onCloseConfig:m},null,8,["chargepoint"])):be("",!0)])])):be("",!0)],64))}});const EP=Fe(wP,[["__scopeId","data-v-a8e66d26"]]),xP=e=>(ut("data-v-1c97b1ac"),e=e(),ft(),e),SP={class:"table table-borderless px-0"},TP=xP(()=>N("thead",null,[N("tr",null,[N("th",{class:"tableheader alignleft"},[N("i",{class:"fa-solid fa-lg fa-charging-station ps-2"})]),N("th",{class:"tableheader alignleft"},[N("i",{class:"fa-solid fa-lg fa-car ps-2"})]),N("th",{class:"tableheader alignleft"},[N("i",{class:"fa-solid fa-lg fa-bolt ps-2"})]),N("th",{class:"tableheader alignleft"},[N("i",{class:"fa-solid fa-lg fa-car-battery ps-2"})]),N("th",{class:"tableheader alignright"})])],-1)),CP=Se({__name:"CPSimpleList",setup(e){const t=le(()=>Object.values(ke));return(n,r)=>(ie(),Ae(zn,null,{title:ve(()=>[je(" Ladepunkte ")]),default:ve(()=>[N("table",SP,[TP,N("tbody",null,[(ie(!0),ge(Oe,null,mt(t.value,o=>(ie(),Ae(EP,{chargepoint:o},null,8,["chargepoint"]))),256))])]),(ie(!0),ge(Oe,null,mt(t.value,o=>(ie(),Ae(mi,{"modal-id":"cpsconfig-"+o.id},{title:ve(()=>[je("Konfiguration: "+Ee(o.name),1)]),default:ve(()=>[o!=null?(ie(),Ae(Tc,{key:0,chargepoint:o},null,8,["chargepoint"])):be("",!0)]),_:2},1032,["modal-id"]))),256))]),_:1}))}});const AP=Fe(CP,[["__scopeId","data-v-1c97b1ac"]]),La=Se({__name:"ChargePointList",setup(e){const t=le(()=>Object.values(ke));return(n,r)=>(ie(),ge(Oe,null,[se(fe).simpleCpList?(ie(),Ae(AP,{key:0})):be("",!0),se(fe).simpleCpList?be("",!0):(ie(!0),ge(Oe,{key:1},mt(t.value,o=>(ie(),Ae(tP,{chargepoint:o},null,8,["chargepoint"]))),256))],64))}}),kP={class:"container-fluid p-0 m-0"},IP={class:"row p-0 m-0"},MP={class:"d-grid gap-2"},PP=["onClick"],OP={class:"col-md-4 p-1"},LP={class:"d-grid gap-2"},$P={key:0},RP=N("hr",null,null,-1),NP=N("div",{class:"row"},[N("div",{class:"col text-center"},"Vorrang im Lademodus PV-Laden:")],-1),DP={class:"row justify-content-center m-1 p-0"},BP={class:"col-6 p-1 m-0"},FP={class:"d-grid gap-2"},UP=N("span",{class:"fas fa-car"}," ",-1),VP={class:"col-6 p-1 m-0"},jP={class:"d-grid gap-2"},HP=N("span",{class:"fas fa-car-battery"}," ",-1),WP=Se({__name:"BBSelect",props:{cpId:{}},setup(e){const t=e,n=[{mode:"instant_charging",name:"Sofort",color:"var(--color-charging)"},{mode:"pv_charging",name:"PV",color:"var(--color-pv)"},{mode:"scheduled_charging",name:"Zielladen",color:"var(--color-battery)"},{mode:"standby",name:"Standby",color:"var(--color-axis)"},{mode:"stop",name:"Stop",color:"var(--color-axis)"}],r=le(()=>ke[t.cpId]);function o(c){return c==r.value.chargeMode?"btn btn-success buttonTextSize":"btn btn-secondary buttonTextSize"}function i(c){switch(c){case"ev":return rt.pvBatteryPriority?"btn-secondary":"btn-success";case"bat":return rt.pvBatteryPriority?"btn-success":"btn-secondary";default:return""}}function s(c){r.value.chargeMode=c}function a(c){r.value.isLocked=c}function u(c){rt.pvBatteryPriority=c}return(c,l)=>(ie(),ge("div",kP,[N("div",IP,[(ie(),ge(Oe,null,mt(n,(h,f)=>N("div",{key:f,class:"col-md-4 p-1"},[N("div",MP,[N("button",{type:"button",class:ze(o(h.mode)),style:{},onClick:d=>s(h.mode)},Ee(h.name),11,PP)])])),64)),N("div",OP,[N("div",LP,[r.value.isLocked?(ie(),ge("button",{key:0,type:"button",class:"btn btn-outline-success buttonTextSize",onClick:l[0]||(l[0]=h=>a(!1)),"data-bs-dismiss":"modal"}," Entsperren ")):be("",!0),r.value.isLocked?be("",!0):(ie(),ge("button",{key:1,type:"button",class:"btn btn-outline-danger buttonTextSize",onClick:l[1]||(l[1]=h=>a(!0)),"data-bs-dismiss":"modal"}," Sperren "))])])]),se(rt).isBatteryConfigured&&r.value.chargeMode=="pv_charging"?(ie(),ge("div",$P,[RP,NP,N("div",DP,[N("div",BP,[N("div",FP,[N("button",{id:"evPriorityBtn",type:"button",class:ze(["priorityModeBtn btn btn-secondary buttonTextSize",i("ev")]),onClick:l[2]||(l[2]=h=>u(!1)),"data-dismiss":"modal",priority:"1"},[je(" EV "),UP],2)])]),N("div",VP,[N("div",jP,[N("button",{id:"batteryPriorityBtn",type:"button",class:ze(["priorityModeBtn btn btn-secondary buttonTextSize",i("bat")]),onClick:l[3]||(l[3]=h=>u(!0)),"data-dismiss":"modal",priority:"0"},[je(" Speicher "),HP],2)])])])])):be("",!0)]))}}),zP={class:"col-lg-4 p-0 m-0 mt-1"},qP={class:"d-grid gap-2"},KP=["data-bs-target"],YP={class:"container-fluid m-0 p-0"},GP={class:"row m-0 p-0"},QP={class:"col-3 m-0 p-0",style:{"text-align":"left"}},XP={key:0,class:"mx-1 badge rounded-pill smallTextSize plugIndicator"},JP={key:0,class:"ms-2"},ZP={class:"col-6 m-0 p-0"},eO={class:"col-3 m-0 p-0",style:{"text-align":"right"}},tO={key:0,class:"ps-1"},nO=Se({__name:"BbChargeButton",props:{chargepoint:{}},setup(e){const t=e,n="chargeSelectModal"+t.chargepoint.id,r=le(()=>dt[t.chargepoint.chargeMode].name),o=le(()=>{let l={background:"var(--color-menu)"};return t.chargepoint.isLocked?l.background="var(--color-evu)":t.chargepoint.isCharging?l.background="var(--color-charging)":t.chargepoint.isPluggedIn&&(l.background="var(--color-battery)"),l}),i=le(()=>{if(dt){let l={background:dt[t.chargepoint.chargeMode].color,color:"white"};switch(t.chargepoint.chargeMode){case Wt.instant_charging:t.chargepoint.isCharging&&!t.chargepoint.isLocked&&(l=c(l));break;case Wt.standby:case Wt.stop:t.chargepoint.isPluggedIn||(l=c(l));break;case Wt.scheduled_charging:t.chargepoint.isPluggedIn&&!t.chargepoint.isCharging&&!t.chargepoint.isLocked&&(l=c(l));break}return l}}),s=le(()=>{if(dt)return dt[t.chargepoint.chargeMode].icon}),a=le(()=>rt.pvBatteryPriority?"fa-car-battery":"fa-car"),u=le(()=>{let l="";return t.chargepoint.isLocked?l="fa-lock":t.chargepoint.isCharging?l=" fa-bolt":t.chargepoint.isPluggedIn&&(l="fa-plug"),"fa "+l});function c(l){let h=l.color;return l.color=l.background,l.background=h,l}return(l,h)=>(ie(),ge("div",zP,[N("div",qP,[N("button",{type:"button",class:"btn mx-1 mb-0 p-1 largeTextSize chargeButton shadow",style:Ye(o.value),"data-bs-toggle":"modal","data-bs-target":"#"+n},[N("div",YP,[N("div",GP,[N("div",QP,[l.chargepoint.isPluggedIn?(ie(),ge("span",XP,[N("i",{class:ze(u.value)},null,2),l.chargepoint.isCharging?(ie(),ge("span",JP,Ee(se(bn)(l.chargepoint.power)),1)):be("",!0)])):be("",!0)]),N("div",ZP,Ee(l.chargepoint.name),1),N("div",eO,[N("span",{class:"mx-2 badge rounded-pill smallTextSize modeIndicator",style:Ye(i.value)},[N("i",{class:ze(["fa me-1",s.value])},null,2),je(" "+Ee(r.value)+" ",1),l.chargepoint.chargeMode==se(Wt).pv_charging&&se(rt).isBatteryConfigured?(ie(),ge("span",tO,[je(" ( "),N("i",{class:ze(["fa m-0",a.value])},null,2),je(") ")])):be("",!0)],4)])])])],12,KP)]),ae(mi,{modalId:n},{title:ve(()=>[je("Lademodus für "+Ee(l.chargepoint.name),1)]),default:ve(()=>[ae(WP,{cpId:l.chargepoint.id},null,8,["cpId"])]),_:1})]))}});const rO=Fe(nO,[["__scopeId","data-v-ac7a9d8e"]]),iO={class:"row p-0 mt-0 mb-1 m-0"},oO={class:"col p-0 m-0"},sO={class:"container-fluid p-0 m-0"},aO={class:"row p-0 m-0 d-flex justify-content-center"},lO=Se({__name:"ButtonBar",setup(e){return(t,n)=>(ie(),ge("div",iO,[N("div",oO,[N("div",sO,[N("div",aO,[(ie(!0),ge(Oe,null,mt(se(ke),(r,o)=>(ie(),Ae(rO,{key:o,chargepoint:r,chargePointCount:Object.values(se(ke)).length},null,8,["chargepoint","chargePointCount"]))),128))])])])]))}});class cO{constructor(t){de(this,"id");de(this,"dailyYieldExport",0);de(this,"dailyYieldImport",0);de(this,"exported",0);de(this,"faultState",0);de(this,"faultStr","");de(this,"imported",0);de(this,"power",0);de(this,"soc",0);this.id=t}}const wt=qe({});function uO(e){e in wt?console.info("Duplicate battery message: "+e):(wt[e]=new cO(e),console.info("Added battery "+e))}function fO(){Object.keys(wt).forEach(e=>{delete wt[parseInt(e)]})}const uo=e=>(ut("data-v-73c3db93"),e=e(),ft(),e),hO=uo(()=>N("span",{class:"battery-title"},"Speicher",-1)),dO={class:"container-fluid p-0 m-0"},pO={class:"row ps-1 pt-1 m-0"},gO={class:"col p-0 m-0"},mO={class:"battery-color ms-1 me-3"},_O={class:"fg-color"},vO=uo(()=>N("hr",null,null,-1)),yO={class:"row pb-2 ps-1 mt-2"},bO=uo(()=>N("div",{class:"col-2 m-0 menu-color"},"Heute:",-1)),wO={class:"col d-flex justify-content-center"},EO=uo(()=>N("span",{class:"menu-color me-2"},"Geladen ",-1)),xO={class:"col d-flex justify-content-end"},SO=uo(()=>N("span",{class:"menu-color me-2"},"Geliefert ",-1)),TO={class:"me-1"},CO=Se({__name:"BLBattery",props:{bat:{}},setup(e){const t=e,n=le(()=>{let a="";return t.bat.power>0?a="Lädt ":t.bat.power<0?a="Liefert ":a="Inaktiv ",a}),r=le(()=>t.bat.power>0?bn(t.bat.power):t.bat.power<0?bn(-t.bat.power):"0 W"),o=le(()=>Zi(t.bat.dailyYieldImport)),i=le(()=>Zi(t.bat.dailyYieldExport)),s=le(()=>t.bat.power>0?"fa-car-battery":t.bat.power>0?"fa-bolt":"");return(a,u)=>(ie(),Ae(zn,null,{title:ve(()=>[hO]),buttons:ve(()=>[ae(Cc,{soc:a.bat.soc},null,8,["soc"])]),default:ve(()=>[N("div",dO,[N("div",pO,[N("div",gO,[N("i",{class:ze(["fa battery-color",s.value])},null,2),N("span",mO,Ee(n.value),1),N("span",_O,Ee(r.value),1)])]),vO,N("div",yO,[bO,N("div",wO,[EO,N("span",null,Ee(o.value),1)]),N("div",xO,[SO,N("span",TO,Ee(i.value),1)])])])]),_:1}))}});const AO=Fe(CO,[["__scopeId","data-v-73c3db93"]]),kO=Se({__name:"BatteryList",setup(e){return(t,n)=>(ie(!0),ge(Oe,null,mt(se(wt),r=>(ie(),Ae(AO,{bat:r},null,8,["bat"]))),256))}});const $a=Fe(kO,[["__scopeId","data-v-e01d36cb"]]),Yp=e=>(ut("data-v-329bd037"),e=e(),ft(),e),IO={class:"color-charging"},MO={class:"row p-0 m-0"},PO={class:"col-12 pricechartColumn p-0 m-0"},OO={id:"pricechart",class:"p-0 m-0"},LO={viewBox:"0 0 400 120"},$O=["transform"],RO={class:"row m-0 p-0"},NO=Yp(()=>N("i",{class:"fa fa-xl fa-minus-square"},null,-1)),DO=[NO],BO={class:"col-8 d-flex justify-content-center"},FO=Yp(()=>N("i",{class:"fa fa-xl fa-plus-square"},null,-1)),UO=[FO],VO={class:"p-0 m-0"},jO={class:"col m-0 p-0 tablecell maxPrice"},HO={for:"maxPrice",class:"col-form-label p-0 m-0"},Po=400,Df=120,WO=Se({__name:"PriceChart",setup(e){const t={top:5,bottom:15,left:15,right:5};$t(0);const n=le(()=>{let h=[];if(Qe.etPriceList!=""){let f=Qe.etPriceList.split(/\r?\n|\r/);f.shift(),h=f.map(d=>d.split(",")).map(d=>[+d[0]*1e3,+d[1]])}return h}),r=le(()=>n.value.length>1?(Po-t.left-t.right)/n.value.length-1:0),o=le(()=>{let h=pr(n.value,f=>f[0]);return h[1]=h[1]+36e5,Xi().range([0,Po-t.left-t.right]).domain(h)}),i=le(()=>{let h=pr(n.value,f=>f[1]);return h[0]>0&&(h[0]=0),h[1]=Math.floor(h[1]+1),Tn().range([Df-t.bottom-t.top,0]).domain(h)}),s=le(()=>{console.log(Qe);const h=nc(),f=[[0,i.value(Qe.etMaxPrice)],[Po-t.left-t.right,i.value(Qe.etMaxPrice)]];return h(f)}),a=le(()=>Uh(o.value).ticks(4).tickFormat(qs("%H:%M"))),u=le(()=>Bs(i.value).ticks(6).tickSizeInner(-(Po-t.right-t.left)).tickFormat(h=>h.toString()));le(()=>{let h=Ct("g#priceChartCanvas");h.selectAll("*").remove(),h.selectAll("bar").data(n.value).enter().append("g").append("rect").attr("class","bar").attr("x",p=>o.value(p[0])).attr("y",p=>p[1]>=0?i.value(p[1]):i.value(0)).attr("width",r.value).attr("height",p=>p[1]>=0?i.value(0)-i.value(p[1]):i.value(p[1])-i.value(0)).attr("fill",p=>p[1]<=Qe.etMaxPrice?"var(--color-charging)":"var(--color-axis"),h.append("path").attr("d",s.value).attr("stroke","yellow");const d=h.append("g").attr("class","axis").call(a.value);d.attr("transform","translate("+t.left+","+(Df-t.bottom)+")"),d.selectAll(".tick").attr("font-size",8).attr("color","var(--color-bg)"),d.selectAll(".tick line").attr("stroke","var(--color-bg)").attr("stroke-width","0.5"),d.select(".domain").attr("stroke","var(--color-bg");const m=h.append("g").attr("class","axis").call(u.value);return m.attr("transform","translate("+t.left+","+t.top+")"),m.selectAll(".tick").attr("font-size",8).attr("color","var(--color-bg)"),m.selectAll(".tick line").attr("stroke","var(--color-bg)").attr("stroke-width","0.5"),m.select(".domain").attr("stroke","var(--color-bg)"),"PriceChart.vue"});function c(){Qe.etMaxPrice=Math.round(Qe.etMaxPrice*10+1)/10}function l(){Qe.etMaxPrice=Math.round(Qe.etMaxPrice*10-1)/10}return(h,f)=>se(Qe).isEtEnabled?(ie(),Ae(zn,{key:0},{title:ve(()=>[je(" Preisbasiertes Laden ")]),buttons:ve(()=>[N("span",IO," Max: "+Ee(se(Qe).etMaxPrice)+" ct",1)]),default:ve(()=>[N("div",MO,[N("div",PO,[N("figure",OO,[(ie(),ge("svg",LO,[N("g",{transform:"translate("+t.left+","+t.right+")",id:"priceChartCanvas"},null,8,$O)]))])])]),N("div",RO,[N("div",{class:"col-2 m-0 p-0 d-flex justify-content-start"},[N("button",{type:"button",class:"btn btn-secondary priceLess price-button",onClick:l},DO)]),N("div",BO,[Wn(N("input",{type:"range",class:"form-range",id:"maxPrice",min:"-25",max:"95",step:"0.1","onUpdate:modelValue":f[0]||(f[0]=d=>se(Qe).etMaxPrice=d)},null,512),[[Ns,se(Qe).etMaxPrice,void 0,{number:!0}]])]),N("div",{class:"col-2 m-0 p-0 d-flex justify-content-end"},[N("button",{type:"button",class:"btn btn-secondary priceMore price-button",onClick:c},UO)])]),N("div",VO,[N("div",jO,[N("label",HO,"Max. Preis: "+Ee(se(Qe).etMaxPrice)+" ct ",1)])])]),_:1})):be("",!0)}});const Ra=Fe(WO,[["__scopeId","data-v-329bd037"]]),Gp=e=>(ut("data-v-d638e324"),e=e(),ft(),e),zO=Gp(()=>N("span",{class:"sh-title"},"Smart Home",-1)),qO=Gp(()=>N("p",{class:"ms-2"},"Smart Home ist noch nicht implementiert",-1)),KO=Se({__name:"SmartHomeList",setup(e){return(t,n)=>(ie(),Ae(zn,null,{title:ve(()=>[zO]),default:ve(()=>[qO]),_:1}))}});const Na=Fe(KO,[["__scopeId","data-v-d638e324"]]);function YO(e,t){e=="openWB/graph/boolDisplayLiveGraph"?rt.displayLiveGraph=+t==1:e.match(/^openwb\/graph\/alllivevaluesJson[1-9][0-9]*$/i)?GO(e,t):e=="openWB/graph/lastlivevaluesJson"?QO(e,t):e=="openWB/graph/config/duration"||console.warn("Ignored GRAPH message: ["+e+"]("+t+")")}function GO(e,t){if(!ot.initialized){let n=[],r=t.toString().split(`
`);r.length>1?n=r.map(s=>JSON.parse(s)):n=[];let o=e.match(/(\d+)$/g);const i=o?o[0]:"";i!=""&&typeof ot.rawDataPacks[+i-1]>"u"&&(ot.rawDataPacks[+i-1]=n,ot.initCounter++)}if(ot.initCounter==16){let n=[];ot.unsubscribeRefresh(),ot.initialized=!0,ot.rawDataPacks.map(r=>{r.map(o=>{const i=Qp(o);n.push(i)})}),rc(n),ot.subscribeUpdates()}}function QO(e,t){let n=JSON.parse(t);const r=Qp(n);ot.graphRefreshCounter++,rc(Le.data.concat(r)),ot.graphRefreshCounter>60&&ot.activate()}function Qp(e){let t={};t.date=XO(e.time).valueOf(),+e.grid>0?(t.gridPull=+e.grid,t.gridPush=0):+e.grid<=0?(t.gridPull=0,t.gridPush=-e.grid):(t.gridPull=0,t.gridPush=0),+e["pv-all"]>=0?(t.solarPower=+e["pv-all"],t.inverter=0):(t.solarPower=0,t.inverter=-e["pv-all"]),t.housePower=+e["house-power"],+e["bat-all-power"]>0?(t.batOut=0,t.batIn=+e["bat-all-power"]):+e["bat-all-power"]<0?(t.batOut=-e["bat-all-power"],t.batIn=0):(t.batOut=0,t.batIn=0),e["bat-all-soc"]?t.batterySoc=+e["bat-all-soc"]:t.batterySoc=0,t.charging=+e["charging-all"];for(let n=0;n<10;n++)e["cp"+n+"-power"]?t["cp"+n]=+e["cp"+n+"-power"]:t["cp"+n]=0;return t.selfUsage=t.solarPower-t.gridPush,t.selfUsage<0&&(t.selfUsage=0),t}function XO(e){const t=new Date(Date.now()),n=864e5;let r=new Date,o=ms("%H:%M:%S")(e);return o&&(r=o,r.setDate(t.getDate()),r.setMonth(t.getMonth()),r.setFullYear(t.getFullYear()),r.getHours()>t.getHours()&&(r=new Date(r.getTime()-n))),r}let Ko={},Yo={},bl=0,wl=0;function Bf(e,t){let n=JSON.parse(t).entries;rc(JO(n)),r2(Ko,Yo),fe.graphMode=="today"&&setTimeout(()=>Bn(),3e5)}function JO(e){let t=[],n={},r={};for(let o=0;o<e.length;o++)r=ZO(e[o]),o>0?t.push(t2(r,n)):(Ko=r,Ko.chargingPv=0,Ko.chargingBat=0,bl=0,wl=0),n=r;return Yo=r,Yo.chargingPv=bl,Yo.chargingBat=wl,t}function ZO(e){let t={};if(fe.graphMode=="day"||fe.graphMode=="today"){let n=ms("%H:%M")(e.date);n&&(n.setMonth(Xe.date.getMonth()),n.setDate(Xe.date.getDate()),n.setFullYear(Xe.date.getFullYear()),t.date=n.getTime())}else{let n=ms("%Y%m%d")(e.date);n&&(t.date=n.getDate())}return Object.entries(e.counter).forEach(([n,r])=>{t.gridPush=r.exported,t.gridPull=r.imported}),Object.entries(e.pv).forEach(([n,r])=>{n=="pv1"&&(t.solarPower=r.exported)}),Object.entries(e.bat).length>0?Object.entries(e.bat).forEach(([n,r])=>{n=="all"&&(t.batIn=r.imported,t.batOut=r.exported)}):(t.batIn=0,t.batOut=0),Object.entries(e.cp).forEach(([n,r])=>{n!="all"?(t[n]=r.imported,t["soc"+n]=r.soc):t.charging=r.imported}),Object.entries(e.ev).forEach(([n,r])=>{n!="all"&&(t["soc-"+n]=r.soc)}),t}const e2=["cp0","cp1","cp2","cp3","cp4","cp5","cp6","cp7","cp8","cp9"];function t2(e,t){let n={};n.date=e.date;const r=["gridPull","gridPush","solarPower","batIn","batOut","charging"],o=["soc-ev0","soc-ev1","soc-ev2","soc-ev3","soc-ev4","soc-ev5","soc-ev6","soc-ev7","soc-ev8","soc-ev9"];r.concat(e2).forEach(a=>{n[a]=n2(e,t,a)});let i=[];o.forEach(a=>{e[a]!=null&&i.push(e[a])}),n.soc1=i[0],n.soc2=i[1],n.selfUsage=n.solarPower-n.gridPush,n.housePower=n.solarPower+n.gridPull+n.batOut-n.gridPush-n.batIn-n.cp0-n.cp1-n.cp2-n.cp3-n.cp4-n.cp5-n.cp6-n.cp7-n.cp8-n.cp9,n.inverter=0;let s=n.gridPull+n.batOut+n.solarPower;return s>0&&(bl+=n.charging*n.solarPower/s/12*1e3,wl+=n.charging*n.batOut/s/12*1e3),n}function n2(e,t,n){return e[n]!==void 0?12*(e[n]-t[n])/1e3:0}function r2(e,t){Ke.pv.energy=(t.solarPower-e.solarPower)/1e3,Ke.evuIn.energy=(t.gridPull-e.gridPull)/1e3,Ke.batOut.energy=(t.batOut-e.batOut)/1e3,Ke.evuOut.energy=(t.gridPush-e.gridPush)/1e3,Ke.batIn.energy=(t.batIn-e.batIn)/1e3,Ke.charging.energy=(t.charging-e.charging)/1e3,Ke.charging.energyPv=(t.chargingPv-e.chargingPv)/1e3,Ke.charging.energyBat=(t.chargingBat-e.chargingBat)/1e3,Ke.charging.pvPercentage=Math.round((Ke.charging.energyPv+Ke.charging.energyBat)/Ke.charging.energy*100),Ke.house.energy=Ke.evuIn.energy+Ke.pv.energy+Ke.batOut.energy-Ke.evuOut.energy-Ke.batIn.energy-Ke.charging.energy-Ke.devices.energy}function i2(e,t){let n=o2(e);if(n&&!(n in wt)){console.warn("Invalid battery index received: "+n);return}e=="openWB/bat/config/configured"?rt.isBatteryConfigured=t=="true":e=="openWB/bat/get/power"?+t>0?(Ve.batIn.power=+t,Ue.batOut.power=0):(Ve.batIn.power=0,Ue.batOut.power=-t):e=="openWB/bat/get/soc"?rt.batterySoc=+t:e=="openWB/bat/get/daily_yield_export"?Ue.batOut.energy=+t/1e3:e=="openWB/bat/get/daily_yield_import"?Ve.batIn.energy=+t/1e3:n?e.match(/^openwb\/bat\/[0-9]+\/get\/daily_yield_export$/i)?wt[n].dailyYieldExport=+t:e.match(/^openwb\/bat\/[0-9]+\/get\/daily_yield_import$/i)?wt[n].dailyYieldImport=+t:e.match(/^openwb\/bat\/[0-9]+\/get\/exported$/i)?wt[n].exported=+t:e.match(/^openwb\/bat\/[0-9]+\/get\/fault_state$/i)?wt[n].faultState=+t:e.match(/^openwb\/bat\/[0-9]+\/get\/fault_str$/i)?wt[n].faultStr=t:e.match(/^openwb\/bat\/[0-9]+\/get\/imported$/i)?wt[n].imported=+t:e.match(/^openwb\/bat\/[0-9]+\/get\/power$/i)?wt[n].power=+t:e.match(/^openwb\/bat\/[0-9]+\/get\/soc$/i)?wt[n].soc=+t:console.warn("Ignored battery message: "+e):console.warn("Ignored battery message: "+e)}function o2(e){let t=0;try{var n=e.match(/(?:\/)([0-9]+)(?=\/)/g);return n?(t=+n[0].replace(/[^0-9]+/g,""),t):void 0}catch{console.warn("Parser error in getIndex for topic "+e)}}function s2(e,t){e=="openWB/optional/et/active"?Qe.isEtEnabled=JSON.parse(t):e=="openWB/optional/et/get/price"?Qe.etCurrentPrice=parseFloat(t):e=="openWB/optional/et/config/max_price"?Qe.updateEtMaxPrice(parseFloat(t)):e=="openWB/optional/et/provider"?Qe.etProvider=JSON.parse(t):console.warn("Ignored ET Provider message: "+e)}function a2(e,t){let n=Xp(e);if(n&&!(n in ke)){console.warn("Invalid chargepoint id received: "+n);return}if(e=="openWB/chargepoint/get/power"?Ve.charging.power=+t:e=="openWB/chargepoint/get/daily_imported"&&(Ve.charging.energy=+t/1e3),e=="openWB/chargepoint/get/daily_exported")rt.cpDailyExported=+t;else if(n)if(e.match(/^openwb\/chargepoint\/[0-9]+\/config$/i))if(ke[n]){var r=JSON.parse(t);ke[n].name=r.name}else console.warn("invalid chargepoint index: "+n);else if(e.match(/^openwb\/chargepoint\/[0-9]+\/get\/state_str$/i))ke[n].stateStr=JSON.parse(t);else if(e.match(/^openwb\/chargepoint\/[0-9]+\/get\/fault_str$/i))ke[n].faultStr=JSON.parse(t);else if(e.match(/^openwb\/chargepoint\/[0-9]+\/get\/fault_state$/i))ke[n].faultState=+t;else if(e.match(/^openWB\/chargepoint\/[0-9]+\/get\/power$/i))ke[n].power=+t;else if(e.match(/^openWB\/chargepoint\/[0-9]+\/set\/log\/charged_since_plugged_counter$/i))ke[n].chargedSincePlugged=+t;else if(e.match(/^openWB\/chargepoint\/[0-9]+\/get\/daily_imported$/i))ke[n].dailyYield=+t/1e3;else if(e.match(/^openwb\/chargepoint\/[0-9]+\/get\/plug_state$/i))ke[n].isPluggedIn=t=="true";else if(e.match(/^openwb\/chargepoint\/[0-9]+\/get\/charge_state$/i))ke[n].isCharging=t=="true";else if(e.match(/^openwb\/chargepoint\/[0-9]+\/set\/manual_lock$/i))ke[n].updateIsLocked(t=="true");else if(e.match(/^openwb\/chargepoint\/[0-9]+\/get\/enabled$/i))ke[n].isEnabled=t=="1";else if(e.match(/^openwb\/chargepoint\/[0-9]+\/get\/phases_in_use/i))ke[n].phasesInUse=+t;else if(e.match(/^openwb\/chargepoint\/[0-9]+\/set\/current/i))ke[n].current=+t;else if(e.match(/^openwb\/chargepoint\/[0-9]+\/get\/connected_vehicle\/soc$/i))console.warn("Ignored Connected Vehicle SOC "+e+" : "+t);else if(e.match(/^openwb\/chargepoint\/[0-9]+\/get\/connected_vehicle\/soc_config$/i))ke[n].isSocManual=t=="manual";else if(e.match(/^openwb\/chargepoint\/[0-9]+\/get\/connected_vehicle\/info$/i)){let o=JSON.parse(t);ke[n].vehicleName=String(o.name),ke[n].updateConnectedVehicle(+o.id)}else if(e.match(/^openwb\/chargepoint\/[0-9]+\/get\/connected_vehicle\/config$/i)){let o=JSON.parse(t);switch(o.chargemode){case"instant_charging":ke[n].updateChargeMode(Wt.instant_charging);break;case"pv_charging":ke[n].updateChargeMode(Wt.pv_charging);break;case"scheduled_charging":ke[n].updateChargeMode(Wt.scheduled_charging);break;case"standby":ke[n].updateChargeMode(Wt.standby);break;case"stop":ke[n].updateChargeMode(Wt.stop);break}ke[n].chargeTemplate=o.charge_template,ke[n].averageConsumption=o.average_consumption}else console.warn("Ignored chargepoint message: "+e);else console.warn("Ignored chargepoint message: "+e)}function l2(e,t){let n=Xp(e);if(n!=null){if(!(n in Et)){let r=new D_(n);Et[n]=r,console.info("New vehicle created: "+n)}e.match(/^openwb\/vehicle\/[0-9]+\/name$/i)?(Object.values(ke).forEach(r=>{r.connectedVehicle==n&&(r.vehicleName=JSON.parse(t))}),Et[n].name=JSON.parse(t)):e.match(/^openwb\/vehicle\/[0-9]+\/get\/soc$/i)?Object.values(ke).forEach(r=>{r.connectedVehicle==n&&(r.soc=JSON.parse(t))}):e.match(/^openwb\/vehicle\/[0-9]+\/charge_template$/i)?Et[n].updateChargeTemplateId(+t):e.match(/^openwb\/vehicle\/[0-9]+\/ev_template$/i)?Et[n].updateEvTemplateId(+t):console.warn("Ignored vehicle message ["+e+"]="+t)}}function c2(e,t){if(e.match(/^openwb\/vehicle\/template\/charge_template\/[0-9]+$/i)){let n=e.match(/[0-9]+$/i);if(n){let r=+n[0],o=JSON.parse(t);o.chargemode.scheduled_charging.plans||(o.chargemode.scheduled_charging.plans={}),o.time_charging.plans||(o.time_charging.plans={}),an[r]=o,u2(r,o)}}else if(e.match(/^openwb\/vehicle\/template\/charge_template\/[0-9]+\/time_charging\/plans\/[0-9]+$/i)){let n=e.match(/(?:\/)([0-9]+)(?:\/)/g),r=e.match(/[0-9]+$/i);if(n&&r){let o=+n[0].replace(/[^0-9]+/g,""),i=+r[0],s=JSON.parse(t);an[o].time_charging.plans[i]=s}}else if(e.match(/^openwb\/vehicle\/template\/ev_template\/[0-9]+$/i)){let n=e.match(/[0-9]+$/i);if(n){let r=+n[0],o=JSON.parse(t);Ga[r]=o}}else console.warn("Ignored VEHICLE TEMPLATE message ["+e+"]="+t)}function u2(e,t){Object.values(ke).forEach(n=>{n.chargeTemplate==e&&(n.updateCpPriority(t.prio),n.updateInstantChargeLimitMode(t.chargemode.instant_charging.limit.selected),n.updateInstantTargetCurrent(t.chargemode.instant_charging.current),n.updateInstantTargetSoc(t.chargemode.instant_charging.limit.soc),n.updateInstantMaxEnergy(t.chargemode.instant_charging.limit.amount),n.updateScheduledCharging(t.time_charging.active),n.updatePvFeedInLimit(t.chargemode.pv_charging.feed_in_limit),n.updatePvMinCurrent(t.chargemode.pv_charging.min_current),n.updatePvMaxSoc(t.chargemode.pv_charging.max_soc),n.updatePvMinSoc(t.chargemode.pv_charging.min_soc),n.updatePvMinSocCurrent(t.chargemode.pv_charging.min_soc_current))})}function Xp(e){let t=0;try{var n=e.match(/(?:\/)([0-9]+)(?=\/)/g);return n?(t=+n[0].replace(/[^0-9]+/g,""),t):void 0}catch{console.warn("Parser error in getIndex for topic "+e)}}const f2=["openWB/counter/#","openWB/bat/#","openWB/pv/get/#","openWB/chargepoint/#","openWB/vehicle/#","openWB/general/chargemode_config/pv_charging/#","openWB/optional/et/#"];function h2(){$_(d2),f2.forEach(e=>{qi(e)}),Bn()}function d2(e,t){e.match(/^openwb\/counter\/[0-9]+\//i)?p2(e,t):e.match(/^openwb\/counter\//i)?g2(e,t):e.match(/^openwb\/bat\//i)?i2(e,t):e.match(/^openwb\/pv\//i)?m2(e,t):e.match(/^openwb\/chargepoint\//i)?a2(e,t):e.match(/^openwb\/vehicle\/template\//i)?c2(e,t):e.match(/^openwb\/vehicle\//i)?l2(e,t):e.match(/^openwb\/general\/chargemode_config\/pv_charging\//i)?_2(e,t):e.match(/^openwb\/graph\//i)?YO(e,t):e.match(/^openwb\/log\/daily\//i)||e.match(/^openwb\/log\/monthly\//i)?Bf(e,t):e.match(/^openwb\/optional\/et\//i)?s2(e,t):console.error("UNCAUGHT MESSAGE ["+e+"] "+t)}function p2(e,t){let n=e.split("/");if(+n[2]==rt.evuId)v2(e,t);else if(n[3]!="config")switch(n[4]){case"power":case"config":case"fault_str":case"fault_state":case"power_factors":case"imported":case"exported":case"frequency":case"daily_yield_import":case"daily_yield_export":break;default:console.warn("Ignored COUNTER message: "+e)}}function g2(e,t){if(e.match(/^openwb\/counter\/get\/hierarchy$/i)){var n=JSON.parse(t);if(n.length){F_(),fO();for(const r of n)r.type=="counter"&&(rt.evuId=r.id,console.info("EVU counter is "+rt.evuId));Jp(n[0])}}else e.match(/^openwb\/counter\/set\/home_consumption$/i)?Ve.house.power=+t:e.match(/^openwb\/counter\/set\/daily_yield_home_consumption$/i)?Ve.house.energy=+t/1e3:console.warn("Ignored GLOBAL COUNTER message: "+e)}function Jp(e){switch(e.type){case"counter":console.info("counter in hierachy: "+e.id);break;case"cp":B_(e.id);break;case"bat":uO(e.id);break;case"inverter":console.info("inverter id "+e.id);break;default:console.warn("Ignored Hierarchy type: "+e.type)}e.children.forEach(t=>Jp(t))}function m2(e,t){switch(e){case"openWB/pv/get/power":Ue.pv.power=-t;break;case"openWB/pv/get/daily_exported":Ue.pv.energy=+t/1e3;break;default:console.warn("Ignored PV msg: ["+e+"] "+t)}}function _2(e,t){let n=e.split("/");if(n.length>0)switch(n[4]){case"bat_prio":rt.updatePvBatteryPriority(t=="true");break;default:console.warn("Ignored PV CONFIG msg: ["+e+"] "+t)}}function v2(e,t){switch(e.split("/")[4]){case"power":+t>0?(Ue.evuIn.power=+t,Ve.evuOut.power=0):(Ue.evuIn.power=0,Ve.evuOut.power=-t);break;case"daily_imported":Ue.evuIn.energy=+t/1e3;break;case"daily_exported":Ve.evuOut.energy=+t/1e3;break}}const y2=0,b2={host:location.hostname,port:9001,endpoint:"/",clean:!0,connectTimeout:4e3,reconnectPeriod:4e3,clientId:Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,6),username:"openWB",password:"openWB"},Ff={topic:"",qos:y2};let zr;const{host:w2,port:E2,endpoint:x2,...S2}=b2,T2=`ws://${w2}:${E2}${x2}`;try{zr=Lh.connect(T2,S2),zr.on("connect",()=>{console.info("MQTT connection successful")}),zr.on("error",e=>{console.error("MQTT connection failed: ",e)})}catch(e){console.error("MQTT connect error: ",e)}function C2(e){zr?zr.on("message",e):console.error("MqttRegister: MQTT client not available")}function A2(e){Ff.topic=e;const{topic:t,qos:n}=Ff;zr.subscribe(t,{qos:n},r=>{if(r){console.error("MQTT Subscription error: "+r);return}console.info("MQTT Subscription successful: "+e)})}const Ss=qe([]);let k2=class Zp{constructor(t,n,r,o){de(this,"name");de(this,"children");de(this,"count");de(this,"lastValue");this.name=t,this.children=n,this.count=r,this.lastValue=o}insert(t,n){if(t.length){let r=t.splice(1);if(t[0]==this.name)if(r.length){let o=!1;if(this.children.forEach(i=>{i.name==r[0]&&(i.insert(r,n),o=!0)}),!o){let i=new Zp(r[0],[],0,"");i.insert(r,n),this.children.push(i)}}else this.count=this.count+1,this.lastValue=n}}};function I2(e,t){const n=e.split("/");if(n.length){let r=!1;if(Ss.forEach(o=>{o.name==n[0]&&(o.insert(n,t),r=!0)}),!r){let o=new k2(n[0],[],0,"");Ss.push(o),o.insert(n,t)}}}const M2=["openWB/#"];function P2(){C2(O2),M2.forEach(e=>{A2(e)})}function O2(e,t){I2(e,t)}const L2={class:"row p-0 mb-0 mx-0"},$2={class:"py-2 m-0"},R2={key:0},N2={key:1,style:{"background-color":"white"},class:"p-2"},D2={key:0,class:"col-md-9 m-0 p-0 ps-2"},B2={class:"container-fluid m-0 p-0"},F2=Se({__name:"MqttNode",props:{node:{},level:{},hide:{type:Boolean},expandAll:{type:Boolean}},setup(e){const t=e;let n=$t(!t.hide),r=$t(!1);const o=le(()=>t.node.name),i=le(()=>t.node.children.sort((l,h)=>l.name<h.name?-1:1)),s=le(()=>t.node.count>0?"("+t.node.count+")":""),a=le(()=>t.node.children.length),u=le(()=>t.node.lastValue!=""?{"background-color":"lightgoldenrodyellow"}:{"background-color":"lightsteelblue"});function c(){console.info(t.node),a.value>0&&(n.value=!n.value),t.node.lastValue!=""&&(r.value=!r.value)}return(l,h)=>{const f=Em("MqttNode",!0);return ie(),ge("div",L2,[N("div",{class:"col-md m-0 px-2 node",style:Ye(u.value),onClick:c},[N("p",$2,Ee(o.value)+Ee(s.value),1),se(r)?(ie(),ge("hr",R2)):be("",!0),se(r)?(ie(),ge("p",N2,[N("code",null,Ee(t.node.lastValue),1)])):be("",!0)],4),(se(n)||t.expandAll)&&a.value>0?(ie(),ge("div",D2,[N("div",B2,[(ie(!0),ge(Oe,null,mt(i.value,d=>(ie(),Ae(f,{level:t.level+1,node:d,hide:!0,expandAll:t.expandAll},null,8,["level","node","expandAll"]))),256))])])):be("",!0)])}}});const U2=Fe(F2,[["__scopeId","data-v-d834bf94"]]),kc=e=>(ut("data-v-260bb726"),e=e(),ft(),e),V2={class:"mqviewer"},j2={class:"row pt-2"},H2={class:"col"},W2=kc(()=>N("h3",{class:"mqtitle ps-2"},"MQTT Message Viewer",-1)),z2=kc(()=>N("hr",null,null,-1)),q2=kc(()=>N("hr",null,null,-1)),K2=Se({__name:"MQTTViewer",setup(e){fi(()=>{P2()});const t=$t(!1);function n(){t.value=!t.value}const r=le(()=>t.value?"active":"");return(o,i)=>(ie(),ge("div",V2,[N("div",j2,[N("div",H2,[W2,z2,N("button",{class:ze(["btn btn-small btn-outline-primary ms-2",r.value]),onClick:n}," Expand All ",2),q2])]),se(Ss)[0]?(ie(!0),ge(Oe,{key:0},mt(se(Ss)[0].children.sort((s,a)=>s.name<a.name?-1:1),s=>(ie(),Ae(U2,{node:s,level:1,hide:!0,expandAll:t.value},null,8,["node","expandAll"]))),256)):be("",!0)]))}});const Y2=Fe(K2,[["__scopeId","data-v-260bb726"]]),vi=e=>(ut("data-v-46a1b72d"),e=e(),ft(),e),G2={class:"container-fluid px-2 m-0 theme-colors"},Q2={class:"row py-0 px-0 m-0"},X2={key:0,class:"row py-0 m-0 d-flex justify-content-center"},J2={key:1,class:"nav nav-tabs nav-justified mx-1 mt-2",role:"tablist"},Z2=qm('<a class="nav-link active" data-bs-toggle="tab" data-bs-target="#showAll" data-v-46a1b72d><i class="fa-solid fa-lg fa-circle-info me-1" data-v-46a1b72d></i><span class="d-none d-md-inline ms-2" data-v-46a1b72d>Details</span></a><a class="nav-link" data-bs-toggle="tab" data-bs-target="#chargepointlist" data-v-46a1b72d><i class="fa-solid fa-lg fa-charging-station" data-v-46a1b72d></i><span class="d-none d-md-inline ms-2" data-v-46a1b72d>Ladepunkte</span></a>',2),eL={key:0,class:"nav-link","data-bs-toggle":"tab","data-bs-target":"#batterylist"},tL=vi(()=>N("i",{class:"fa-solid fa-lg fa-car-battery"},null,-1)),nL=vi(()=>N("span",{class:"d-none d-md-inline ms-2"},"Speicher",-1)),rL=[tL,nL],iL=vi(()=>N("a",{class:"nav-link","data-bs-toggle":"tab","data-bs-target":"#smarthomelist"},[N("i",{class:"fa-solid fa-lg fa-plug"}),N("span",{class:"d-none d-md-inline ms-2"},"Smart Home")],-1)),oL={key:1,class:"nav-link","data-bs-toggle":"tab","data-bs-target":"#etPricing"},sL=vi(()=>N("i",{class:"fa-solid fa-lg fa-money-bill-1-wave"},null,-1)),aL=vi(()=>N("span",{class:"d-none d-md-inline ms-2"},"Strompreis",-1)),lL=[sL,aL],cL={key:2,class:"tab-content mx-0 pt-1",id:"cpContent"},uL={class:"tab-pane active",id:"showAll",role:"tabpanel","aria-labelledby":"showall-tab"},fL={class:"row py-0 m-0 d-flex justify-content-center"},hL={class:"tab-pane",id:"chargepointlist",role:"tabpanel","aria-labelledby":"chargepoint-tab"},dL={class:"row py-0 m-0 d-flex justify-content-center"},pL={class:"tab-pane",id:"batterylist",role:"tabpanel","aria-labelledby":"battery-tab"},gL={class:"row py-0 m-0 d-flex justify-content-center"},mL={class:"tab-pane",id:"smarthomelist",role:"tabpanel","aria-labelledby":"smarthome-tab"},_L={class:"row py-0 m-0 d-flex justify-content-center"},vL={class:"tab-pane",id:"etPricing",role:"tabpanel","aria-labelledby":"pricechart-tab"},yL={class:"row py-0 m-0 d-flex justify-content-center"},bL={class:"row p-2 mt-5"},wL={class:"col p-2"},EL=vi(()=>N("hr",null,null,-1)),xL={class:"d-flex justify-content-between"},SL={class:"mx-4"},TL={key:0},CL=Se({__name:"ColorsTheme",setup(e){const t=qe({x:document.documentElement.clientWidth,y:document.documentElement.clientHeight});function n(){t.x=document.documentElement.clientWidth,t.y=document.documentElement.clientHeight}const r=le(()=>[Ve.evuOut].concat(Object.values(ke).map(a=>a.toPowerItem())).concat(Object.values(xr).filter(a=>a.configured&&a.showInGraph)).concat([Ve.batIn,Ve.house])),o=$t(!1);function i(){A1()}function s(){o.value=!o.value}return fi(()=>{i(),window.addEventListener("resize",n),h2()}),(a,u)=>(ie(),ge(Oe,null,[N("div",G2,[ae(lO),N("div",Q2,[ae(MA),ae(ok),ae(xk,{usageDetails:r.value},null,8,["usageDetails"])]),se(fe).showQuickAccess?be("",!0):(ie(),ge("div",X2,[ae(La),ae($a),ae(Na),ae(Ra)])),se(fe).showQuickAccess?(ie(),ge("nav",J2,[Z2,se(rt).isBatteryConfigured?(ie(),ge("a",eL,rL)):be("",!0),iL,se(Qe).isEtEnabled?(ie(),ge("a",oL,lL)):be("",!0)])):be("",!0),se(fe).showQuickAccess?(ie(),ge("div",cL,[N("div",uL,[N("div",fL,[ae(La),ae($a),ae(Na),ae(Ra)])]),N("div",hL,[N("div",dL,[ae(La)])]),N("div",pL,[N("div",gL,[ae($a)])]),N("div",mL,[N("div",_L,[ae(Na)])]),N("div",vL,[N("div",yL,[ae(Ra)])])])):be("",!0)]),N("div",bL,[N("div",wL,[EL,N("div",xL,[N("p",SL,"Screen Width: "+Ee(t.x),1),N("button",{class:"btn btn-sm btn-secondary mx-4",onClick:s},"MQ Viewer")]),o.value?(ie(),ge("hr",TL)):be("",!0),o.value?(ie(),Ae(Y2,{key:1})):be("",!0)])])],64))}});const AL=Fe(CL,[["__scopeId","data-v-46a1b72d"]]),kL={},IL={class:"navbar navbar-expand-sm bg-dark navbar-dark px-3"},ML=N("a",{class:"navbar-brand",href:"/"},[N("span",null,"openWB")],-1),PL=N("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#collapsibleNavbar"},[N("span",{class:"navbar-toggler-icon"})],-1),OL=N("div",{class:"collapse navbar-collapse",id:"collapsibleNavbar"},[N("ul",{class:"navbar-nav"},[N("li",{class:"nav-item"},[N("a",{class:"nav-link",id:"navStatus",href:"../../settings/#/Status",target:"_parent"},"Status")]),N("li",{class:"nav-item dropdown show"},[N("a",{class:"nav-link dropdown-toggle",href:"#",role:"button","data-toggle":"dropdown","aria-expanded":"false"},"Auswertungen"),N("div",{class:"dropdown-menu show","aria-labelledby":"navbarDropdown"},[N("a",{href:"../../settings/#/Logging/ChargeLog",class:"dropdown-item",target:"_parent"},"Ladeprotokoll"),N("a",{href:"../../settings/#/Logging/DailyChart",class:"dropdown-item",target:"_parent"},"Tagesauswertung"),N("a",{href:"../../settings/#/Logging/MonthlyChart",class:"dropdown-item",target:"_parent"},"Monatsauswertung")])]),N("li",{class:"nav-item"},[N("a",{class:"nav-link",id:"navSettings",href:"../../settings/index.html",target:"_parent"},"Einstellungen")])])],-1),LL=[ML,PL,OL];function $L(e,t){return ie(),ge("nav",IL,LL)}const RL=Fe(kL,[["render",$L]]),NL={id:"app",class:"m-0 p-0"},DL={class:"container-fluid p-0"},BL={class:"row p-0 m-0"},FL={class:"col-12 p-0 m-0"},UL=Se({__name:"App",setup(e){return(t,n)=>(ie(),ge("div",NL,[ae(RL),N("div",DL,[N("div",BL,[N("div",FL,[ae(AL)])])])]))}});C_(UL).mount("#app");
