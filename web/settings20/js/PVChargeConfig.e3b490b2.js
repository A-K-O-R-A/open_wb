(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["PVChargeConfig"],{"13ac":function(e,t,n){"use strict";n.r(t);var a=n("7a23"),l={class:"pvChargeConfig"},o={id:"myForm"},r={key:0},c=Object(a["createTextVNode"])(' Diese Einstellungen sind nicht verfügbar, solange sich diese openWB im Modus "Nur Ladepunkt" befindet. '),i={key:1},u=Object(a["createTextVNode"])("Hilfetext"),s=Object(a["createTextVNode"])("JSON Objekt zum Debuggen"),d=Object(a["createTextVNode"])(" Untere Grenze des Gegelbereichs. "),g=Object(a["createTextVNode"])(" Obere Grenze des Gegelbereichs. "),p=Object(a["createTextVNode"])(' Parameter für den 70%-Regelpunkt im Modus PV-Laden. Dieser Parameter ist nur wirksam bei der Einstellung "70%-Regelung eingeschaltet". Der hier eingetragene Wert sollte zur optimalen Eigenverbrauchssteuerung 70% der installierten Generatorleistung betragen.'),b=Object(a["createElementVNode"])("br",null,null,-1),h=Object(a["createTextVNode"])(" Die Nutzung dieser Option ergibt nur Sinn wenn ein Wechselrichter und Smartmeter verbaut ist welches eine dynamische Begrenzung der Einspeiseleistung bietet. "),m=Object(a["createElementVNode"])("hr",null,null,-1),v=Object(a["createTextVNode"])("Hilfetext"),f=Object(a["createTextVNode"])("Hilfetext"),_=Object(a["createElementVNode"])("hr",null,null,-1),O=Object(a["createTextVNode"])("Hilfetext"),j=Object(a["createTextVNode"])("Hilfetext"),V={key:0},w=Object(a["createTextVNode"])(' Diese Einstellungen sind nicht verfügbar, solange sich diese openWB im Modus "Nur Ladepunkt" befindet. '),x={key:1},B=Object(a["createTextVNode"])("Hilfetext"),N={key:0},W=Object(a["createTextVNode"])(' Diese Einstellungen sind nicht verfügbar, solange sich diese openWB im Modus "Nur Ladepunkt" befindet. '),k={key:1},C=Object(a["createTextVNode"])("Hilfetext"),y=Object(a["createTextVNode"])("Hilfetext"),E=Object(a["createTextVNode"])("Hilfetext"),S=Object(a["createTextVNode"])("Zahl mit Einheit"),$=Object(a["createTextVNode"])("Zahl mit Einheit"),M=Object(a["createTextVNode"])("Hilfetext");function T(e,t,n,T,q,H){var U=Object(a["resolveComponent"])("alert"),z=Object(a["resolveComponent"])("button-group-input"),D=Object(a["resolveComponent"])("text-input"),A=Object(a["resolveComponent"])("number-input"),R=Object(a["resolveComponent"])("card"),I=Object(a["resolveComponent"])("range-input"),P=Object(a["resolveComponent"])("submit-buttons");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",l,[Object(a["createElementVNode"])("form",o,[Object(a["createVNode"])(R,{title:"Regelparameter"},{default:Object(a["withCtx"])((function(){return[!0===e.$store.state.mqtt["openWB/general/extern"]?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",r,[Object(a["createVNode"])(U,{subtype:"info"},{default:Object(a["withCtx"])((function(){return[c]})),_:1})])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",i,[Object(a["createVNode"])(z,{title:"Regelmodus",buttons:[{buttonValue:"export",text:"Einspeisung"},{buttonValue:"import",text:"Bezug"},{buttonValue:"individual",text:"Individuell"}],"model-value":H.calculateControlMode(),"onUpdate:modelValue":t[0]||(t[0]=function(e){return H.setControlMode(e)})},{help:Object(a["withCtx"])((function(){return[u]})),_:1},8,["model-value"]),Object(a["createVNode"])(D,{title:"Regelbereich",subtype:"json",disabled:"","model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/control_range"],"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.updateState("openWB/general/chargemode_config/pv_charging/control_range",t)})},{help:Object(a["withCtx"])((function(){return[s]})),_:1},8,["model-value"]),"individual"===H.calculateControlMode()?(Object(a["openBlock"])(),Object(a["createBlock"])(A,{key:0,title:"Minimum",unit:"W","model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/control_range"][0],"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.updateState("openWB/general/chargemode_config/pv_charging/control_range",t,0)})},{help:Object(a["withCtx"])((function(){return[d]})),_:1},8,["model-value"])):Object(a["createCommentVNode"])("",!0),"individual"===H.calculateControlMode()?(Object(a["openBlock"])(),Object(a["createBlock"])(A,{key:1,title:"Minimum",unit:"W","model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/control_range"][1],"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.updateState("openWB/general/chargemode_config/pv_charging/control_range",t,1)})},{help:Object(a["withCtx"])((function(){return[g]})),_:1},8,["model-value"])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(A,{title:"Regelpunkt Einspeisegrenze",min:0,step:50,unit:"W","model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/feed_in_yield"],"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.updateState("openWB/general/chargemode_config/pv_charging/feed_in_yield",t)})},{help:Object(a["withCtx"])((function(){return[p,b,h]})),_:1},8,["model-value"]),m,Object(a["createVNode"])(A,{title:"Einschaltschwelle",min:0,step:50,unit:"W","model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/switch_on_threshold"],"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.updateState("openWB/general/chargemode_config/pv_charging/switch_on_threshold",t)})},{help:Object(a["withCtx"])((function(){return[v]})),_:1},8,["model-value"]),Object(a["createVNode"])(A,{title:"Einschaltverzögerung",min:0,step:1,unit:"s","model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/switch_on_delay"],"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.updateState("openWB/general/chargemode_config/pv_charging/switch_on_delay",t)})},{help:Object(a["withCtx"])((function(){return[f]})),_:1},8,["model-value"]),_,Object(a["createVNode"])(A,{title:"Abschaltschwelle",min:0,step:50,unit:"W","model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/switch_off_threshold"],"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.updateState("openWB/general/chargemode_config/pv_charging/switch_off_threshold",t)})},{help:Object(a["withCtx"])((function(){return[O]})),_:1},8,["model-value"]),Object(a["createVNode"])(A,{title:"Abschaltverzögerung",min:0,step:1,unit:"s","model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/switch_off_delay"],"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.updateState("openWB/general/chargemode_config/pv_charging/switch_off_delay",t)})},{help:Object(a["withCtx"])((function(){return[j]})),_:1},8,["model-value"])]))]})),_:1}),Object(a["createVNode"])(R,{title:"Phasenumschaltung"},{default:Object(a["withCtx"])((function(){return[!0===e.$store.state.mqtt["openWB/general/extern"]?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",V,[Object(a["createVNode"])(U,{subtype:"info"},{default:Object(a["withCtx"])((function(){return[w]})),_:1})])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",x,[Object(a["createVNode"])(z,{title:"Anzahl Phasen",buttons:[{buttonValue:1,text:"1"},{buttonValue:3,text:"Maximum"},{buttonValue:0,text:"Automatik"}],"model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/phases_to_use"],"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.updateState("openWB/general/chargemode_config/pv_charging/phases_to_use",t)})},{help:Object(a["withCtx"])((function(){return[B]})),_:1},8,["model-value"])]))]})),_:1}),Object(a["createVNode"])(R,{title:"Speicher-Beachtung"},{default:Object(a["withCtx"])((function(){return[!0===e.$store.state.mqtt["openWB/general/extern"]?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",N,[Object(a["createVNode"])(U,{subtype:"info"},{default:Object(a["withCtx"])((function(){return[W]})),_:1})])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",k,[Object(a["createVNode"])(z,{title:"Priorisierung",buttons:[{buttonValue:!1,text:"Fahrzeuge"},{buttonValue:!0,text:"Speicher"}],"model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/bat_prio"],"onUpdate:modelValue":t[10]||(t[10]=function(t){return e.updateState("openWB/general/chargemode_config/pv_charging/bat_prio",t)})},{help:Object(a["withCtx"])((function(){return[C]})),_:1},8,["model-value"]),Object(a["createVNode"])(I,{title:"Einschalt-SoC",min:0,max:19,step:1,unit:"%",labels:[{label:"Aus",value:0},{label:5,value:5},{label:10,value:10},{label:15,value:15},{label:20,value:20},{label:25,value:25},{label:30,value:30},{label:35,value:35},{label:40,value:40},{label:45,value:45},{label:50,value:50},{label:55,value:55},{label:60,value:60},{label:65,value:65},{label:70,value:70},{label:75,value:75},{label:80,value:80},{label:85,value:85},{label:90,value:90},{label:95,value:95}],"model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/switch_on_soc"],"onUpdate:modelValue":t[11]||(t[11]=function(t){return e.updateState("openWB/general/chargemode_config/pv_charging/switch_on_soc",t)})},{help:Object(a["withCtx"])((function(){return[y]})),_:1},8,["model-value"]),Object(a["createVNode"])(I,{title:"Ausschalt-SoC",min:0,max:19,step:1,unit:"%",labels:[{label:"Aus",value:0},{label:5,value:5},{label:10,value:10},{label:15,value:15},{label:20,value:20},{label:25,value:25},{label:30,value:30},{label:35,value:35},{label:40,value:40},{label:45,value:45},{label:50,value:50},{label:55,value:55},{label:60,value:60},{label:65,value:65},{label:70,value:70},{label:75,value:75},{label:80,value:80},{label:85,value:85},{label:90,value:90},{label:95,value:95}],"model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/switch_off_soc"],"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.updateState("openWB/general/chargemode_config/pv_charging/switch_off_soc",t)})},{help:Object(a["withCtx"])((function(){return[E]})),_:1},8,["model-value"]),Object(a["createVNode"])(A,{title:"Reservierte Ladeleistung",min:0,step:100,unit:"W","model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/charging_power_reserve"],"onUpdate:modelValue":t[13]||(t[13]=function(t){return e.updateState("openWB/general/chargemode_config/pv_charging/charging_power_reserve",t)})},{help:Object(a["withCtx"])((function(){return[S]})),_:1},8,["model-value"]),Object(a["createVNode"])(A,{title:"Erlaubte Entladeleistung",min:0,step:100,unit:"W","model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/rundown_power"],"onUpdate:modelValue":t[14]||(t[14]=function(t){return e.updateState("openWB/general/chargemode_config/pv_charging/rundown_power",t)})},{help:Object(a["withCtx"])((function(){return[$]})),_:1},8,["model-value"]),Object(a["createVNode"])(I,{title:"Minimaler Entlade-SoC",min:0,max:20,step:1,unit:"%",labels:[{label:0,value:0},{label:5,value:5},{label:10,value:10},{label:15,value:15},{label:20,value:20},{label:25,value:25},{label:30,value:30},{label:35,value:35},{label:40,value:40},{label:45,value:45},{label:50,value:50},{label:55,value:55},{label:60,value:60},{label:65,value:65},{label:70,value:70},{label:75,value:75},{label:80,value:80},{label:85,value:85},{label:90,value:90},{label:95,value:95},{label:"Aus",value:100}],"model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/rundown_soc"],"onUpdate:modelValue":t[15]||(t[15]=function(t){return e.updateState("openWB/general/chargemode_config/pv_charging/rundown_soc",t)})},{help:Object(a["withCtx"])((function(){return[M]})),_:1},8,["model-value"])]))]})),_:1}),Object(a["createVNode"])(P,{onSave:t[16]||(t[16]=function(t){return e.$emit("save")}),onReset:t[17]||(t[17]=function(t){return e.$emit("reset")}),onDefaults:t[18]||(t[18]=function(t){return e.$emit("defaults")})})])])}var q=n("118d"),H=n("ae8d"),U=n("98ab"),z=n("446e"),D=n("d610"),A=n("9b85"),R=n("2804"),I=n("4492"),P={name:"PVChargeConfig",mixins:[q["a"]],components:{Card:H["a"],Alert:U["a"],TextInput:z["a"],NumberInput:D["a"],RangeInput:A["a"],ButtonGroupInput:R["a"],SubmitButtons:I["a"]},methods:{calculateControlMode:function(){var e="openWB/general/chargemode_config/pv_charging/control_range",t=this.$store.state.mqtt[e];if("undefined"!=typeof t)return-230===t[0]&&0===t[1]?"export":0===t[0]&&230===t[1]?"import":"individual"},setControlMode:function(e){var t="openWB/general/chargemode_config/pv_charging/control_range";switch(console.log("set controlMode",e),e){case"export":this.updateState(t,[-230,0]);break;case"import":this.updateState(t,[0,230]);break;case"individual":this.updateState(t,[-230,230]);break}}},data:function(){return{mqttTopicsToSubscribe:["openWB/general/extern","openWB/general/chargemode_config/pv_charging/control_range","openWB/general/chargemode_config/pv_charging/feed_in_yield","openWB/general/chargemode_config/pv_charging/switch_on_threshold","openWB/general/chargemode_config/pv_charging/switch_on_delay","openWB/general/chargemode_config/pv_charging/switch_off_threshold","openWB/general/chargemode_config/pv_charging/switch_off_delay","openWB/general/chargemode_config/pv_charging/phases_to_use","openWB/general/chargemode_config/pv_charging/bat_prio","openWB/general/chargemode_config/pv_charging/switch_on_soc","openWB/general/chargemode_config/pv_charging/switch_off_soc","openWB/general/chargemode_config/pv_charging/charging_power_reserve","openWB/general/chargemode_config/pv_charging/rundown_power","openWB/general/chargemode_config/pv_charging/rundown_soc"]}}};P.render=T;t["default"]=P},"15c9":function(e,t,n){},4050:function(e,t,n){"use strict";n("15c9")},"9b85":function(e,t,n){"use strict";var a=n("7a23"),l={class:"form-row mb-1"},o={class:"col-md-8"},r={class:"form-row vaRow mb-1"},c={key:0,class:"col-2 col-form-label valueLabel"},i={class:"col"},u=["min","max","step"],s={key:0,class:"form-row alert alert-info my-1 small"},d={class:"col"};function g(e,t,n,g,p,b){var h=Object(a["resolveComponent"])("font-awesome-icon");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",l,[Object(a["createElementVNode"])("label",{onClick:t[0]||(t[0]=function(){return b.toggleHelp&&b.toggleHelp.apply(b,arguments)}),class:"col-md-4 col-form-label"},[Object(a["createTextVNode"])(Object(a["toDisplayString"])(n.title)+" ",1),e.$slots.help?(Object(a["openBlock"])(),Object(a["createBlock"])(h,{key:0,icon:p.showHelp?["fas","question-circle"]:["far","question-circle"],class:Object(a["normalizeClass"])(p.showHelp?"text-info":"")},null,8,["icon","class"])):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("div",o,[Object(a["createElementVNode"])("div",r,[b.label?(Object(a["openBlock"])(),Object(a["createElementBlock"])("label",c,Object(a["toDisplayString"])(b.label),1)):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("button",{class:"col-1 btn btn-block btn-info",type:"button",onClick:t[1]||(t[1]=function(){return b.decrement&&b.decrement.apply(b,arguments)})},[Object(a["createVNode"])(h,{icon:["fas","step-backward"]})]),Object(a["createElementVNode"])("div",i,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",Object(a["mergeProps"])({type:"range",class:"form-control-range rangeInput",min:n.min,max:n.max,step:n.step,"onUpdate:modelValue":t[2]||(t[2]=function(e){return b.sliderValue=e})},e.$attrs),null,16,u),[[a["vModelText"],b.sliderValue,void 0,{number:!0}]])]),Object(a["createElementVNode"])("button",{class:"col-1 btn btn-block btn-info",type:"button",onClick:t[3]||(t[3]=function(){return b.increment&&b.increment.apply(b,arguments)})},[Object(a["createVNode"])(h,{icon:["fas","step-forward"]})])]),p.showHelp?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",s,[Object(a["createElementVNode"])("div",d,[Object(a["renderSlot"])(e.$slots,"help",{},void 0,!0)])])):Object(a["createCommentVNode"])("",!0)])])}n("a9e3");var p=n("ecee"),b=n("c074"),h=n("b702"),m=n("ad3d");p["c"].add(b["k"],h["c"],b["m"],b["l"]);var v={name:"RangeInput",inheritAttrs:!1,props:{title:String,modelValue:{type:Number},unit:String,min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},labels:{type:Array}},emits:["update:modelValue"],data:function(){return{showHelp:!1}},computed:{label:function(){var e;return this.labels&&void 0!=this.sliderValue?this.sliderValue<this.labels.length?e=this.labels[this.sliderValue].label:console.error("index out of bounds: "+this.sliderValue):e=this.sliderValue,"number"==typeof e&&(e=e.toLocaleString(void 0,{minimumFractionDigits:this.precision,maximumFractionDigits:this.precision}),this.unit&&(e+=" "+this.unit)),e},precision:function(){if(!isFinite(this.step))return 0;var e=1,t=0;while(Math.round(this.step*e)/e!==this.step)e*=10,t++;return t},sliderValue:{get:function(){if(this.labels){for(var e=void 0,t=0;t<this.labels.length;t++)if(this.labels[t].value==this.modelValue){e=t;break}if(void 0!==e||void 0===this.modelValue)return e;console.warn("sliderValue: not found in values: "+this.modelValue)}return this.modelValue},set:function(e){if(this.labels){var t=this.labels[e].value;this.$emit("update:modelValue",t)}else this.$emit("update:modelValue",e)}},value:{get:function(){return this.modelValue},set:function(e){this.$emit("update:modelValue",e)}}},methods:{toggleHelp:function(){this.showHelp=!this.showHelp&&void 0!==this.$slots.help},increment:function(){var e=Math.min(this.sliderValue+this.step,this.max);this.sliderValue=Math.round(e*Math.pow(10,this.precision))/Math.pow(10,this.precision)},decrement:function(){var e=Math.max(this.sliderValue-this.step,this.min);this.sliderValue=Math.round(e*Math.pow(10,this.precision))/Math.pow(10,this.precision)}},components:{FontAwesomeIcon:m["a"]}};n("4050");v.render=g,v.__scopeId="data-v-1099db90";t["a"]=v}}]);
//# sourceMappingURL=PVChargeConfig.e3b490b2.js.map