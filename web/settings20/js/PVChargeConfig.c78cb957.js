(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["PVChargeConfig"],{"13ac":function(e,t,a){"use strict";a.r(t);var n=a("7a23"),l={class:"pvChargeConfig"},o={id:"myForm"},r=Object(n["createTextVNode"])("Hilfetext"),c=Object(n["createTextVNode"])("JSON Objekt zum Debuggen"),i=Object(n["createTextVNode"])("Untere Grenze des Gegelbereichs."),u=Object(n["createTextVNode"])("Obere Grenze des Gegelbereichs."),s=Object(n["createTextVNode"])(' Parameter für den 70%-Regelpunkt im Modus PV-Laden. Dieser Parameter ist nur wirksam bei der Einstellung "70%-Regelung eingeschaltet". Der hier eingetragene Wert sollte zur optimalen Eigenverbrauchssteuerung 70% der installierten Generatorleistung betragen.'),d=Object(n["createElementVNode"])("br",null,null,-1),g=Object(n["createTextVNode"])(" Die Nutzung dieser Option ergibt nur Sinn wenn ein Wechselrichter und Smartmeter verbaut ist welches eine dynamische Begrenzung der Einspeiseleistung bietet. "),p=Object(n["createElementVNode"])("hr",null,null,-1),h=Object(n["createTextVNode"])("Hilfetext"),m=Object(n["createTextVNode"])("Hilfetext"),b=Object(n["createElementVNode"])("hr",null,null,-1),v=Object(n["createTextVNode"])("Hilfetext"),_=Object(n["createTextVNode"])("Hilfetext"),f=Object(n["createTextVNode"])("Hilfetext"),V=Object(n["createTextVNode"])("Hilfetext"),O=Object(n["createTextVNode"])("Hilfetext"),j=Object(n["createTextVNode"])("Hilfetext"),w=Object(n["createTextVNode"])("Zahl mit Einheit"),x=Object(n["createTextVNode"])("Zahl mit Einheit"),B=Object(n["createTextVNode"])("Hilfetext");function N(e,t,a,N,W,C){var k=Object(n["resolveComponent"])("button-group-input"),S=Object(n["resolveComponent"])("text-input"),y=Object(n["resolveComponent"])("number-input"),E=Object(n["resolveComponent"])("card"),$=Object(n["resolveComponent"])("range-input"),M=Object(n["resolveComponent"])("submit-buttons");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",l,[Object(n["createElementVNode"])("form",o,[Object(n["createVNode"])(E,{title:"Regelparameter"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(k,{title:"Regelmodus",buttons:[{buttonValue:"export",text:"Einspeisung"},{buttonValue:"import",text:"Bezug"},{buttonValue:"individual",text:"Individuell"}],"model-value":C.calculateControlMode(),"onUpdate:modelValue":t[0]||(t[0]=function(e){return C.setControlMode(e)})},{help:Object(n["withCtx"])((function(){return[r]})),_:1},8,["model-value"]),Object(n["createVNode"])(S,{title:"Regelbereich",subtype:"json",disabled:"","model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/control_range"],"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.updateState("openWB/general/chargemode_config/pv_charging/control_range",t)})},{help:Object(n["withCtx"])((function(){return[c]})),_:1},8,["model-value"]),"individual"===C.calculateControlMode()?(Object(n["openBlock"])(),Object(n["createBlock"])(y,{key:0,title:"Minimum",unit:"W","model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/control_range"][0],"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.updateState("openWB/general/chargemode_config/pv_charging/control_range",t,0)})},{help:Object(n["withCtx"])((function(){return[i]})),_:1},8,["model-value"])):Object(n["createCommentVNode"])("",!0),"individual"===C.calculateControlMode()?(Object(n["openBlock"])(),Object(n["createBlock"])(y,{key:1,title:"Minimum",unit:"W","model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/control_range"][1],"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.updateState("openWB/general/chargemode_config/pv_charging/control_range",t,1)})},{help:Object(n["withCtx"])((function(){return[u]})),_:1},8,["model-value"])):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(y,{title:"Regelpunkt Einspeisegrenze",min:0,step:50,unit:"W","model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/feed_in_yield"],"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.updateState("openWB/general/chargemode_config/pv_charging/feed_in_yield",t)})},{help:Object(n["withCtx"])((function(){return[s,d,g]})),_:1},8,["model-value"]),p,Object(n["createVNode"])(y,{title:"Einschaltschwelle",min:0,step:50,unit:"W","model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/switch_on_threshold"],"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.updateState("openWB/general/chargemode_config/pv_charging/switch_on_threshold",t)})},{help:Object(n["withCtx"])((function(){return[h]})),_:1},8,["model-value"]),Object(n["createVNode"])(y,{title:"Einschaltverzögerung",min:0,step:1,unit:"s","model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/switch_on_delay"],"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.updateState("openWB/general/chargemode_config/pv_charging/switch_on_delay",t)})},{help:Object(n["withCtx"])((function(){return[m]})),_:1},8,["model-value"]),b,Object(n["createVNode"])(y,{title:"Abschaltschwelle",min:0,step:50,unit:"W","model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/switch_off_threshold"],"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.updateState("openWB/general/chargemode_config/pv_charging/switch_off_threshold",t)})},{help:Object(n["withCtx"])((function(){return[v]})),_:1},8,["model-value"]),Object(n["createVNode"])(y,{title:"Abschaltverzögerung",min:0,step:1,unit:"s","model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/switch_off_delay"],"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.updateState("openWB/general/chargemode_config/pv_charging/switch_off_delay",t)})},{help:Object(n["withCtx"])((function(){return[_]})),_:1},8,["model-value"])]})),_:1}),Object(n["createVNode"])(E,{title:"Phasenumschaltung"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(k,{title:"Anzahl Phasen",buttons:[{buttonValue:1,text:"1"},{buttonValue:3,text:"Maximum"},{buttonValue:0,text:"Automatik"}],"model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/phases_to_use"],"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.updateState("openWB/general/chargemode_config/pv_charging/phases_to_use",t)})},{help:Object(n["withCtx"])((function(){return[f]})),_:1},8,["model-value"])]})),_:1}),Object(n["createVNode"])(E,{title:"Speicher-Beachtung"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(k,{title:"Priorisierung",buttons:[{buttonValue:!1,text:"Fahrzeuge"},{buttonValue:!0,text:"Speicher"}],"model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/bat_prio"],"onUpdate:modelValue":t[10]||(t[10]=function(t){return e.updateState("openWB/general/chargemode_config/pv_charging/bat_prio",t)})},{help:Object(n["withCtx"])((function(){return[V]})),_:1},8,["model-value"]),Object(n["createVNode"])($,{title:"Einschalt-SoC",min:0,max:19,step:1,unit:"%",labels:[{label:"Aus",value:0},{label:5,value:5},{label:10,value:10},{label:15,value:15},{label:20,value:20},{label:25,value:25},{label:30,value:30},{label:35,value:35},{label:40,value:40},{label:45,value:45},{label:50,value:50},{label:55,value:55},{label:60,value:60},{label:65,value:65},{label:70,value:70},{label:75,value:75},{label:80,value:80},{label:85,value:85},{label:90,value:90},{label:95,value:95}],"model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/switch_on_soc"],"onUpdate:modelValue":t[11]||(t[11]=function(t){return e.updateState("openWB/general/chargemode_config/pv_charging/switch_on_soc",t)})},{help:Object(n["withCtx"])((function(){return[O]})),_:1},8,["model-value"]),Object(n["createVNode"])($,{title:"Ausschalt-SoC",min:0,max:19,step:1,unit:"%",labels:[{label:"Aus",value:0},{label:5,value:5},{label:10,value:10},{label:15,value:15},{label:20,value:20},{label:25,value:25},{label:30,value:30},{label:35,value:35},{label:40,value:40},{label:45,value:45},{label:50,value:50},{label:55,value:55},{label:60,value:60},{label:65,value:65},{label:70,value:70},{label:75,value:75},{label:80,value:80},{label:85,value:85},{label:90,value:90},{label:95,value:95}],"model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/switch_off_soc"],"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.updateState("openWB/general/chargemode_config/pv_charging/switch_off_soc",t)})},{help:Object(n["withCtx"])((function(){return[j]})),_:1},8,["model-value"]),Object(n["createVNode"])(y,{title:"Reservierte Ladeleistung",min:0,step:100,unit:"W","model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/charging_power_reserve"],"onUpdate:modelValue":t[13]||(t[13]=function(t){return e.updateState("openWB/general/chargemode_config/pv_charging/charging_power_reserve",t)})},{help:Object(n["withCtx"])((function(){return[w]})),_:1},8,["model-value"]),Object(n["createVNode"])(y,{title:"Erlaubte Entladeleistung",min:0,step:100,unit:"W","model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/rundown_power"],"onUpdate:modelValue":t[14]||(t[14]=function(t){return e.updateState("openWB/general/chargemode_config/pv_charging/rundown_power",t)})},{help:Object(n["withCtx"])((function(){return[x]})),_:1},8,["model-value"]),Object(n["createVNode"])($,{title:"Minimaler Entlade-SoC",min:0,max:20,step:1,unit:"%",labels:[{label:0,value:0},{label:5,value:5},{label:10,value:10},{label:15,value:15},{label:20,value:20},{label:25,value:25},{label:30,value:30},{label:35,value:35},{label:40,value:40},{label:45,value:45},{label:50,value:50},{label:55,value:55},{label:60,value:60},{label:65,value:65},{label:70,value:70},{label:75,value:75},{label:80,value:80},{label:85,value:85},{label:90,value:90},{label:95,value:95},{label:"Aus",value:100}],"model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/rundown_soc"],"onUpdate:modelValue":t[15]||(t[15]=function(t){return e.updateState("openWB/general/chargemode_config/pv_charging/rundown_soc",t)})},{help:Object(n["withCtx"])((function(){return[B]})),_:1},8,["model-value"])]})),_:1}),Object(n["createVNode"])(M,{onSave:t[16]||(t[16]=function(t){return e.$emit("save")}),onReset:t[17]||(t[17]=function(t){return e.$emit("reset")}),onDefaults:t[18]||(t[18]=function(t){return e.$emit("defaults")})})])])}var W=a("118d"),C=a("ae8d"),k=a("446e"),S=a("d610"),y=a("9b85"),E=a("2804"),$=a("4492"),M={name:"PVChargeConfig",mixins:[W["a"]],components:{Card:C["a"],TextInput:k["a"],NumberInput:S["a"],RangeInput:y["a"],ButtonGroupInput:E["a"],SubmitButtons:$["a"]},methods:{calculateControlMode:function(){var e="openWB/general/chargemode_config/pv_charging/control_range",t=this.$store.state.mqtt[e];if("undefined"!=typeof t)return-230===t[0]&&0===t[1]?"export":0===t[0]&&230===t[1]?"import":"individual"},setControlMode:function(e){var t="openWB/general/chargemode_config/pv_charging/control_range";switch(console.log("set controlMode",e),e){case"export":this.updateState(t,[-230,0]);break;case"import":this.updateState(t,[0,230]);break;case"individual":this.updateState(t,[-230,230]);break}}},data:function(){return{mqttTopicsToSubscribe:["openWB/general/chargemode_config/pv_charging/control_range","openWB/general/chargemode_config/pv_charging/feed_in_yield","openWB/general/chargemode_config/pv_charging/switch_on_threshold","openWB/general/chargemode_config/pv_charging/switch_on_delay","openWB/general/chargemode_config/pv_charging/switch_off_threshold","openWB/general/chargemode_config/pv_charging/switch_off_delay","openWB/general/chargemode_config/pv_charging/phases_to_use","openWB/general/chargemode_config/pv_charging/bat_prio","openWB/general/chargemode_config/pv_charging/switch_on_soc","openWB/general/chargemode_config/pv_charging/switch_off_soc","openWB/general/chargemode_config/pv_charging/charging_power_reserve","openWB/general/chargemode_config/pv_charging/rundown_power","openWB/general/chargemode_config/pv_charging/rundown_soc"]}}};M.render=N;t["default"]=M},"15c9":function(e,t,a){},4050:function(e,t,a){"use strict";a("15c9")},"9b85":function(e,t,a){"use strict";var n=a("7a23"),l={class:"form-row mb-1"},o={class:"col-md-8"},r={class:"form-row vaRow mb-1"},c={key:0,class:"col-2 col-form-label valueLabel"},i={class:"col"},u=["min","max","step"],s={key:0,class:"form-row alert alert-info my-1 small"},d={class:"col"};function g(e,t,a,g,p,h){var m=Object(n["resolveComponent"])("font-awesome-icon");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",l,[Object(n["createElementVNode"])("label",{onClick:t[0]||(t[0]=function(){return h.toggleHelp&&h.toggleHelp.apply(h,arguments)}),class:"col-md-4 col-form-label"},[Object(n["createTextVNode"])(Object(n["toDisplayString"])(a.title)+" ",1),e.$slots.help?(Object(n["openBlock"])(),Object(n["createBlock"])(m,{key:0,icon:p.showHelp?["fas","question-circle"]:["far","question-circle"],class:Object(n["normalizeClass"])(p.showHelp?"text-info":"")},null,8,["icon","class"])):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("div",o,[Object(n["createElementVNode"])("div",r,[h.label?(Object(n["openBlock"])(),Object(n["createElementBlock"])("label",c,Object(n["toDisplayString"])(h.label),1)):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("button",{class:"col-1 btn btn-block btn-info",type:"button",onClick:t[1]||(t[1]=function(){return h.decrement&&h.decrement.apply(h,arguments)})},[Object(n["createVNode"])(m,{icon:["fas","step-backward"]})]),Object(n["createElementVNode"])("div",i,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",Object(n["mergeProps"])({type:"range",class:"form-control-range rangeInput",min:a.min,max:a.max,step:a.step,"onUpdate:modelValue":t[2]||(t[2]=function(e){return h.sliderValue=e})},e.$attrs),null,16,u),[[n["vModelText"],h.sliderValue,void 0,{number:!0}]])]),Object(n["createElementVNode"])("button",{class:"col-1 btn btn-block btn-info",type:"button",onClick:t[3]||(t[3]=function(){return h.increment&&h.increment.apply(h,arguments)})},[Object(n["createVNode"])(m,{icon:["fas","step-forward"]})])]),p.showHelp?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",s,[Object(n["createElementVNode"])("div",d,[Object(n["renderSlot"])(e.$slots,"help",{},void 0,!0)])])):Object(n["createCommentVNode"])("",!0)])])}a("a9e3");var p=a("ecee"),h=a("c074"),m=a("b702"),b=a("ad3d");p["c"].add(h["k"],m["c"],h["m"],h["l"]);var v={name:"RangeInput",inheritAttrs:!1,props:{title:String,modelValue:{type:Number},unit:String,min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},labels:{type:Array}},emits:["update:modelValue"],data:function(){return{showHelp:!1}},computed:{label:function(){var e;return this.labels&&void 0!=this.sliderValue?this.sliderValue<this.labels.length?e=this.labels[this.sliderValue].label:console.error("index out of bounds: "+this.sliderValue):e=this.sliderValue,"number"==typeof e&&(e=e.toLocaleString(void 0,{minimumFractionDigits:this.precision,maximumFractionDigits:this.precision}),this.unit&&(e+=" "+this.unit)),e},precision:function(){if(!isFinite(this.step))return 0;var e=1,t=0;while(Math.round(this.step*e)/e!==this.step)e*=10,t++;return t},sliderValue:{get:function(){if(this.labels){for(var e=void 0,t=0;t<this.labels.length;t++)if(this.labels[t].value==this.modelValue){e=t;break}if(void 0!==e||void 0===this.modelValue)return e;console.warn("sliderValue: not found in values: "+this.modelValue)}return this.modelValue},set:function(e){if(this.labels){var t=this.labels[e].value;this.$emit("update:modelValue",t)}else this.$emit("update:modelValue",e)}},value:{get:function(){return this.modelValue},set:function(e){this.$emit("update:modelValue",e)}}},methods:{toggleHelp:function(){this.showHelp=!this.showHelp&&void 0!==this.$slots.help},increment:function(){var e=Math.min(this.sliderValue+this.step,this.max);this.sliderValue=Math.round(e*Math.pow(10,this.precision))/Math.pow(10,this.precision)},decrement:function(){var e=Math.max(this.sliderValue-this.step,this.min);this.sliderValue=Math.round(e*Math.pow(10,this.precision))/Math.pow(10,this.precision)}},components:{FontAwesomeIcon:b["a"]}};a("4050");v.render=g,v.__scopeId="data-v-1099db90";t["a"]=v}}]);
//# sourceMappingURL=PVChargeConfig.c78cb957.js.map